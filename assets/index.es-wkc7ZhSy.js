const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CuVOXLj_.js","assets/index-CNe_fQXO.js","assets/index-BJqoXdxl.css"])))=>i.map(i=>d[i]);
import{ad as sM,ae as oM,af as aM,ag as hM,ah as uM,ai as fM,aj as cM,ak as lM,al as dM,am as pM,an as Ia,ao as xa,ap as Pn,aq as Gt,ar as gM,as as J3,at as Rh,au as mM,N as g0,O as vM,av as Um,aw as Pc,ax as tf,ay as Y3,az as V3,aA as yM,aB as Ph,aC as W3,aD as hc,aE as wM,aF as AM,aG as Ii,aH as nn,aI as Tc,aJ as bM,aK as hp,aL as up,aM as MM}from"./index-CNe_fQXO.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9bba7265-315c-405c-bbba-68d3e6ddfc3b",e._sentryDebugIdIdentifier="sentry-dbid-9bba7265-315c-405c-bbba-68d3e6ddfc3b")}catch{}})();var km=function(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,o;i<n;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},EM=function(){function e(t,r,i){this.name=t,this.version=r,this.os=i,this.type="browser"}return e}(),_M=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),SM=function(){function e(t,r,i,n){this.name=t,this.version=r,this.os=i,this.bot=n,this.type="bot-device"}return e}(),IM=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),xM=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),NM=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,CM=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,qm=3,BM=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",NM]],Lm=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function RM(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new xM:typeof navigator<"u"?TM(navigator.userAgent):DM()}function PM(e){return e!==""&&BM.reduce(function(t,r){var i=r[0],n=r[1];if(t)return t;var o=n.exec(e);return!!o&&[i,o]},!1)}function TM(e){var t=PM(e);if(!t)return null;var r=t[0],i=t[1];if(r==="searchbot")return new IM;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<qm&&(n=km(km([],n,!0),FM(qm-n.length),!0)):n=[];var o=n.join("."),c=OM(e),v=CM.exec(e);return v&&v[1]?new SM(r,o,c,v[1]):new EM(r,o,c)}function OM(e){for(var t=0,r=Lm.length;t<r;t++){var i=Lm[t],n=i[0],o=i[1],c=o.exec(e);if(c)return n}return null}function DM(){var e=typeof process<"u"&&process.version;return e?new _M(process.version.slice(1)):null}function FM(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}function X3(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function nd(e,t){t||(t=e.reduce((n,o)=>n+o.length,0));const r=X3(t);let i=0;for(const n of e)r.set(n,i),i+=n.length;return r}const uc={...sM,...oM,...aM,...hM,...uM,...fM,...cM,...lM,...dM,...pM};function Z3(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const zm=Z3("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),sd=Z3("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=X3(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),t6={utf8:zm,"utf-8":zm,hex:uc.base16,latin1:sd,ascii:sd,binary:sd,...uc};function qi(e,t="utf8"){const r=t6[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function ui(e,t="utf8"){const r=t6[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}const UM={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},kM=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,qM=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,LM=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function zM(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){$M(e);return}return t}function $M(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function m0(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!LM.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(kM.test(e)||qM.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,zM)}return JSON.parse(e)}catch(i){if(t.strict)throw i;return e}}function HM(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Jr(e,...t){try{return HM(e(...t))}catch(r){return Promise.reject(r)}}function KM(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function jM(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function H0(e){if(KM(e))return String(e);if(jM(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return H0(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function e6(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const S1="base64:";function QM(e){if(typeof e=="string")return e;e6();const t=Buffer.from(e).toString("base64");return S1+t}function GM(e){return typeof e!="string"||!e.startsWith(S1)?e:(e6(),Buffer.from(e.slice(S1.length),"base64"))}function Ui(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function JM(...e){return Ui(e.join(":"))}function v0(e){return e=Ui(e),e?e+":":""}const YM="memory",VM=()=>{const e=new Map;return{name:YM,options:{},hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return Array.from(e.keys())},clear(){e.clear()},dispose(){e.clear()}}};function WM(e={}){const t={mounts:{"":e.driver||VM()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=p=>{for(const _ of t.mountpoints)if(p.startsWith(_))return{base:_,relativeKey:p.slice(_.length),driver:t.mounts[_]};return{base:"",relativeKey:p,driver:t.mounts[""]}},i=(p,_)=>t.mountpoints.filter(I=>I.startsWith(p)||_&&p.startsWith(I)).map(I=>({relativeBase:p.length>I.length?p.slice(I.length):void 0,mountpoint:I,driver:t.mounts[I]})),n=(p,_)=>{if(t.watching){_=Ui(_);for(const I of t.watchListeners)I(p,_)}},o=async()=>{if(!t.watching){t.watching=!0;for(const p in t.mounts)t.unwatch[p]=await $m(t.mounts[p],n,p)}},c=async()=>{if(t.watching){for(const p in t.unwatch)await t.unwatch[p]();t.unwatch={},t.watching=!1}},v=(p,_,I)=>{const B=new Map,R=O=>{let z=B.get(O.base);return z||(z={driver:O.driver,base:O.base,items:[]},B.set(O.base,z)),z};for(const O of p){const z=typeof O=="string",k=Ui(z?O:O.key),J=z?void 0:O.value,rt=z||!O.options?_:{..._,...O.options},ht=r(k);R(ht).items.push({key:k,value:J,relativeKey:ht.relativeKey,options:rt})}return Promise.all([...B.values()].map(O=>I(O))).then(O=>O.flat())},w={hasItem(p,_={}){p=Ui(p);const{relativeKey:I,driver:B}=r(p);return Jr(B.hasItem,I,_)},getItem(p,_={}){p=Ui(p);const{relativeKey:I,driver:B}=r(p);return Jr(B.getItem,I,_).then(R=>m0(R))},getItems(p,_){return v(p,_,I=>I.driver.getItems?Jr(I.driver.getItems,I.items.map(B=>({key:B.relativeKey,options:B.options})),_).then(B=>B.map(R=>({key:JM(I.base,R.key),value:m0(R.value)}))):Promise.all(I.items.map(B=>Jr(I.driver.getItem,B.relativeKey,B.options).then(R=>({key:B.key,value:m0(R)})))))},getItemRaw(p,_={}){p=Ui(p);const{relativeKey:I,driver:B}=r(p);return B.getItemRaw?Jr(B.getItemRaw,I,_):Jr(B.getItem,I,_).then(R=>GM(R))},async setItem(p,_,I={}){if(_===void 0)return w.removeItem(p);p=Ui(p);const{relativeKey:B,driver:R}=r(p);R.setItem&&(await Jr(R.setItem,B,H0(_),I),R.watch||n("update",p))},async setItems(p,_){await v(p,_,async I=>{if(I.driver.setItems)return Jr(I.driver.setItems,I.items.map(B=>({key:B.relativeKey,value:H0(B.value),options:B.options})),_);I.driver.setItem&&await Promise.all(I.items.map(B=>Jr(I.driver.setItem,B.relativeKey,H0(B.value),B.options)))})},async setItemRaw(p,_,I={}){if(_===void 0)return w.removeItem(p,I);p=Ui(p);const{relativeKey:B,driver:R}=r(p);if(R.setItemRaw)await Jr(R.setItemRaw,B,_,I);else if(R.setItem)await Jr(R.setItem,B,QM(_),I);else return;R.watch||n("update",p)},async removeItem(p,_={}){typeof _=="boolean"&&(_={removeMeta:_}),p=Ui(p);const{relativeKey:I,driver:B}=r(p);B.removeItem&&(await Jr(B.removeItem,I,_),(_.removeMeta||_.removeMata)&&await Jr(B.removeItem,I+"$",_),B.watch||n("remove",p))},async getMeta(p,_={}){typeof _=="boolean"&&(_={nativeOnly:_}),p=Ui(p);const{relativeKey:I,driver:B}=r(p),R=Object.create(null);if(B.getMeta&&Object.assign(R,await Jr(B.getMeta,I,_)),!_.nativeOnly){const O=await Jr(B.getItem,I+"$",_).then(z=>m0(z));O&&typeof O=="object"&&(typeof O.atime=="string"&&(O.atime=new Date(O.atime)),typeof O.mtime=="string"&&(O.mtime=new Date(O.mtime)),Object.assign(R,O))}return R},setMeta(p,_,I={}){return this.setItem(p+"$",_,I)},removeMeta(p,_={}){return this.removeItem(p+"$",_)},async getKeys(p,_={}){p=v0(p);const I=i(p,!0);let B=[];const R=[];for(const O of I){const k=(await Jr(O.driver.getKeys,O.relativeBase,_)).map(J=>O.mountpoint+Ui(J)).filter(J=>!B.some(rt=>J.startsWith(rt)));R.push(...k),B=[O.mountpoint,...B.filter(J=>!J.startsWith(O.mountpoint))]}return p?R.filter(O=>O.startsWith(p)&&!O.endsWith("$")):R.filter(O=>!O.endsWith("$"))},async clear(p,_={}){p=v0(p),await Promise.all(i(p,!1).map(async I=>{if(I.driver.clear)return Jr(I.driver.clear,I.relativeBase,_);if(I.driver.removeItem){const B=await I.driver.getKeys(I.relativeBase||"",_);return Promise.all(B.map(R=>I.driver.removeItem(R,_)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(p=>Hm(p)))},async watch(p){return await o(),t.watchListeners.push(p),async()=>{t.watchListeners=t.watchListeners.filter(_=>_!==p),t.watchListeners.length===0&&await c()}},async unwatch(){t.watchListeners=[],await c()},mount(p,_){if(p=v0(p),p&&t.mounts[p])throw new Error(`already mounted at ${p}`);return p&&(t.mountpoints.push(p),t.mountpoints.sort((I,B)=>B.length-I.length)),t.mounts[p]=_,t.watching&&Promise.resolve($m(_,n,p)).then(I=>{t.unwatch[p]=I}).catch(console.error),w},async unmount(p,_=!0){p=v0(p),!(!p||!t.mounts[p])&&(t.watching&&p in t.unwatch&&(t.unwatch[p](),delete t.unwatch[p]),_&&await Hm(t.mounts[p]),t.mountpoints=t.mountpoints.filter(I=>I!==p),delete t.mounts[p])},getMount(p=""){p=Ui(p)+":";const _=r(p);return{driver:_.driver,base:_.base}},getMounts(p="",_={}){return p=Ui(p),i(p,_.parents).map(B=>({driver:B.driver,base:B.mountpoint}))}};return w}function $m(e,t,r){return e.watch?e.watch((i,n)=>t(i,r+n)):()=>{}}async function Hm(e){typeof e.dispose=="function"&&await Jr(e.dispose)}function Ba(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function r6(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const i=Ba(r);return(n,o)=>i.then(c=>o(c.transaction(t,n).objectStore(t)))}let od;function ef(){return od||(od=r6("keyval-store","keyval")),od}function Km(e,t=ef()){return t("readonly",r=>Ba(r.get(e)))}function XM(e,t,r=ef()){return r("readwrite",i=>(i.put(t,e),Ba(i.transaction)))}function ZM(e,t=ef()){return t("readwrite",r=>(r.delete(e),Ba(r.transaction)))}function tE(e=ef()){return e("readwrite",t=>(t.clear(),Ba(t.transaction)))}function eE(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Ba(e.transaction)}function rE(e=ef()){return e("readonly",t=>{if(t.getAllKeys)return Ba(t.getAllKeys());const r=[];return eE(t,i=>r.push(i.key)).then(()=>r)})}const iE="idb-keyval";var nE=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=n=>t+n;let i;return e.dbName&&e.storeName&&(i=r6(e.dbName,e.storeName)),{name:iE,options:e,async hasItem(n){return!(typeof await Km(r(n),i)>"u")},async getItem(n){return await Km(r(n),i)??null},setItem(n,o){return XM(r(n),o,i)},removeItem(n){return ZM(r(n),i)},getKeys(){return rE(i)},clear(){return tE(i)}}};const sE="WALLET_CONNECT_V2_INDEXED_DB",oE="keyvaluestorage";let aE=class{constructor(){this.indexedDb=WM({driver:nE({dbName:sE,storeName:oE})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,Ia(r))}async removeItem(t){await this.indexedDb.removeItem(t)}};var ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K0={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,i){this[r]=String(i)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(i){r[i]=void 0,delete r[i]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof ad<"u"&&ad.localStorage?K0.exports=ad.localStorage:typeof window<"u"&&window.localStorage?K0.exports=window.localStorage:K0.exports=new t})();function hE(e){var t;return[e[0],xa((t=e[1])!=null?t:"")]}let uE=class{constructor(){this.localStorage=K0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(hE)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return xa(r)}async setItem(t,r){this.localStorage.setItem(t,Ia(r))}async removeItem(t){this.localStorage.removeItem(t)}};const fE="wc_storage_version",jm=1,cE=async(e,t,r)=>{const i=fE,n=await t.getItem(i);if(n&&n>=jm){r(t);return}const o=await e.getKeys();if(!o.length){r(t);return}const c=[];for(;o.length;){const v=o.shift();if(!v)continue;const w=v.toLowerCase();if(w.includes("wc@")||w.includes("walletconnect")||w.includes("wc_")||w.includes("wallet_connect")){const p=await e.getItem(v);await t.setItem(v,p),c.push(v)}}await t.setItem(i,jm),r(t),lE(e,c)},lE=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};let dE=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new uE;this.storage=t;try{const r=new aE;cE(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};class Ra{}let pE=class extends Ra{constructor(t){super()}};const Qm=Gt.FIVE_SECONDS,Th={pulse:"heartbeat_pulse"};class fp extends pE{constructor(t){super(t),this.events=new Pn.EventEmitter,this.interval=Qm,this.interval=(t==null?void 0:t.interval)||Qm}static async init(t){const r=new fp(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Gt.toMiliseconds(this.interval))}pulse(){this.events.emit(Th.pulse)}}var cp={},i6={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=gM,r=J3;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var i=function(){function v(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return v.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},v.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},v.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},v.prototype.update=function(w,p){if(p===void 0&&(p=w.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var _=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&p>0;)this._buffer[this._bufferLength++]=w[_++],p--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(_=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,w,_,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=w[_++],p--;return this},v.prototype.finish=function(w){if(!this._finished){var p=this._bytesHashed,_=this._bufferLength,I=p/536870912|0,B=p<<3,R=p%128<112?128:256;this._buffer[_]=128;for(var O=_+1;O<R-8;O++)this._buffer[O]=0;t.writeUint32BE(I,this._buffer,R-8),t.writeUint32BE(B,this._buffer,R-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,R),this._finished=!0}for(var O=0;O<this.digestLength/8;O++)t.writeUint32BE(this._stateHi[O],w,O*8),t.writeUint32BE(this._stateLo[O],w,O*8+4);return this},v.prototype.digest=function(){var w=new Uint8Array(this.digestLength);return this.finish(w),w},v.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},v.prototype.restoreState=function(w){return this._stateHi.set(w.stateHi),this._stateLo.set(w.stateLo),this._bufferLength=w.bufferLength,w.buffer&&this._buffer.set(w.buffer),this._bytesHashed=w.bytesHashed,this._finished=!1,this},v.prototype.cleanSavedState=function(w){r.wipe(w.stateHi),r.wipe(w.stateLo),w.buffer&&r.wipe(w.buffer),w.bufferLength=0,w.bytesHashed=0},v}();e.SHA512=i;var n=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(v,w,p,_,I,B,R){for(var O=p[0],z=p[1],k=p[2],J=p[3],rt=p[4],ht=p[5],et=p[6],W=p[7],V=_[0],nt=_[1],it=_[2],Qt=_[3],Yt=_[4],_t=_[5],Vt=_[6],s=_[7],u,d,y,A,M,S,m,a;R>=128;){for(var g=0;g<16;g++){var Q=8*g+B;v[g]=t.readUint32BE(I,Q),w[g]=t.readUint32BE(I,Q+4)}for(var g=0;g<80;g++){var j=O,f=z,T=k,x=J,C=rt,D=ht,E=et,P=W,$=V,G=nt,L=it,at=Qt,ut=Yt,ot=_t,he=Vt,St=s;if(u=W,d=s,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=(rt>>>14|Yt<<18)^(rt>>>18|Yt<<14)^(Yt>>>9|rt<<23),d=(Yt>>>14|rt<<18)^(Yt>>>18|rt<<14)^(rt>>>9|Yt<<23),M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,u=rt&ht^~rt&et,d=Yt&_t^~Yt&Vt,M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,u=n[g*2],d=n[g*2+1],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,u=v[g%16],d=w[g%16],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,y=m&65535|a<<16,A=M&65535|S<<16,u=y,d=A,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=(O>>>28|V<<4)^(V>>>2|O<<30)^(V>>>7|O<<25),d=(V>>>28|O<<4)^(O>>>2|V<<30)^(O>>>7|V<<25),M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,u=O&z^O&k^z&k,d=V&nt^V&it^nt&it,M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,P=m&65535|a<<16,St=M&65535|S<<16,u=x,d=at,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=y,d=A,M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,x=m&65535|a<<16,at=M&65535|S<<16,z=j,k=f,J=T,rt=x,ht=C,et=D,W=E,O=P,nt=$,it=G,Qt=L,Yt=at,_t=ut,Vt=ot,s=he,V=St,g%16===15)for(var Q=0;Q<16;Q++)u=v[Q],d=w[Q],M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=v[(Q+9)%16],d=w[(Q+9)%16],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,y=v[(Q+1)%16],A=w[(Q+1)%16],u=(y>>>1|A<<31)^(y>>>8|A<<24)^y>>>7,d=(A>>>1|y<<31)^(A>>>8|y<<24)^(A>>>7|y<<25),M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,y=v[(Q+14)%16],A=w[(Q+14)%16],u=(y>>>19|A<<13)^(A>>>29|y<<3)^y>>>6,d=(A>>>19|y<<13)^(y>>>29|A<<3)^(A>>>6|y<<26),M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,v[Q]=m&65535|a<<16,w[Q]=M&65535|S<<16}u=O,d=V,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=p[0],d=_[0],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,p[0]=O=m&65535|a<<16,_[0]=V=M&65535|S<<16,u=z,d=nt,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=p[1],d=_[1],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,p[1]=z=m&65535|a<<16,_[1]=nt=M&65535|S<<16,u=k,d=it,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=p[2],d=_[2],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,p[2]=k=m&65535|a<<16,_[2]=it=M&65535|S<<16,u=J,d=Qt,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=p[3],d=_[3],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,p[3]=J=m&65535|a<<16,_[3]=Qt=M&65535|S<<16,u=rt,d=Yt,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=p[4],d=_[4],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,p[4]=rt=m&65535|a<<16,_[4]=Yt=M&65535|S<<16,u=ht,d=_t,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=p[5],d=_[5],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,p[5]=ht=m&65535|a<<16,_[5]=_t=M&65535|S<<16,u=et,d=Vt,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=p[6],d=_[6],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,p[6]=et=m&65535|a<<16,_[6]=Vt=M&65535|S<<16,u=W,d=s,M=d&65535,S=d>>>16,m=u&65535,a=u>>>16,u=p[7],d=_[7],M+=d&65535,S+=d>>>16,m+=u&65535,a+=u>>>16,S+=M>>>16,m+=S>>>16,a+=m>>>16,p[7]=W=m&65535|a<<16,_[7]=s=M&65535|S<<16,B+=128,R-=128}return B}function c(v){var w=new i;w.update(v);var p=w.digest();return w.clean(),p}e.hash=c})(i6);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=Rh,r=i6,i=J3;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function n(x){const C=new Float64Array(16);if(x)for(let D=0;D<x.length;D++)C[D]=x[D];return C}const o=new Uint8Array(32);o[0]=9;const c=n(),v=n([1]),w=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),I=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(x,C){for(let D=0;D<16;D++)x[D]=C[D]|0}function O(x){let C=1;for(let D=0;D<16;D++){let E=x[D]+C+65535;C=Math.floor(E/65536),x[D]=E-C*65536}x[0]+=C-1+37*(C-1)}function z(x,C,D){const E=~(D-1);for(let P=0;P<16;P++){const $=E&(x[P]^C[P]);x[P]^=$,C[P]^=$}}function k(x,C){const D=n(),E=n();for(let P=0;P<16;P++)E[P]=C[P];O(E),O(E),O(E);for(let P=0;P<2;P++){D[0]=E[0]-65517;for(let G=1;G<15;G++)D[G]=E[G]-65535-(D[G-1]>>16&1),D[G-1]&=65535;D[15]=E[15]-32767-(D[14]>>16&1);const $=D[15]>>16&1;D[14]&=65535,z(E,D,1-$)}for(let P=0;P<16;P++)x[2*P]=E[P]&255,x[2*P+1]=E[P]>>8}function J(x,C){let D=0;for(let E=0;E<32;E++)D|=x[E]^C[E];return(1&D-1>>>8)-1}function rt(x,C){const D=new Uint8Array(32),E=new Uint8Array(32);return k(D,x),k(E,C),J(D,E)}function ht(x){const C=new Uint8Array(32);return k(C,x),C[0]&1}function et(x,C){for(let D=0;D<16;D++)x[D]=C[2*D]+(C[2*D+1]<<8);x[15]&=32767}function W(x,C,D){for(let E=0;E<16;E++)x[E]=C[E]+D[E]}function V(x,C,D){for(let E=0;E<16;E++)x[E]=C[E]-D[E]}function nt(x,C,D){let E,P,$=0,G=0,L=0,at=0,ut=0,ot=0,he=0,St=0,vt=0,te=0,dt=0,pt=0,ne=0,ft=0,gt=0,Zt=0,ct=0,wt=0,ee=0,It=0,Rt=0,pe=0,Ot=0,Tt=0,ge=0,Dt=0,kt=0,me=0,Lt=0,zt=0,xe=0,At=D[0],mt=D[1],se=D[2],bt=D[3],yt=D[4],ie=D[5],xt=D[6],Nt=D[7],oe=D[8],Ct=D[9],Mt=D[10],ae=D[11],Et=D[12],lt=D[13],ue=D[14],Bt=D[15];E=C[0],$+=E*At,G+=E*mt,L+=E*se,at+=E*bt,ut+=E*yt,ot+=E*ie,he+=E*xt,St+=E*Nt,vt+=E*oe,te+=E*Ct,dt+=E*Mt,pt+=E*ae,ne+=E*Et,ft+=E*lt,gt+=E*ue,Zt+=E*Bt,E=C[1],G+=E*At,L+=E*mt,at+=E*se,ut+=E*bt,ot+=E*yt,he+=E*ie,St+=E*xt,vt+=E*Nt,te+=E*oe,dt+=E*Ct,pt+=E*Mt,ne+=E*ae,ft+=E*Et,gt+=E*lt,Zt+=E*ue,ct+=E*Bt,E=C[2],L+=E*At,at+=E*mt,ut+=E*se,ot+=E*bt,he+=E*yt,St+=E*ie,vt+=E*xt,te+=E*Nt,dt+=E*oe,pt+=E*Ct,ne+=E*Mt,ft+=E*ae,gt+=E*Et,Zt+=E*lt,ct+=E*ue,wt+=E*Bt,E=C[3],at+=E*At,ut+=E*mt,ot+=E*se,he+=E*bt,St+=E*yt,vt+=E*ie,te+=E*xt,dt+=E*Nt,pt+=E*oe,ne+=E*Ct,ft+=E*Mt,gt+=E*ae,Zt+=E*Et,ct+=E*lt,wt+=E*ue,ee+=E*Bt,E=C[4],ut+=E*At,ot+=E*mt,he+=E*se,St+=E*bt,vt+=E*yt,te+=E*ie,dt+=E*xt,pt+=E*Nt,ne+=E*oe,ft+=E*Ct,gt+=E*Mt,Zt+=E*ae,ct+=E*Et,wt+=E*lt,ee+=E*ue,It+=E*Bt,E=C[5],ot+=E*At,he+=E*mt,St+=E*se,vt+=E*bt,te+=E*yt,dt+=E*ie,pt+=E*xt,ne+=E*Nt,ft+=E*oe,gt+=E*Ct,Zt+=E*Mt,ct+=E*ae,wt+=E*Et,ee+=E*lt,It+=E*ue,Rt+=E*Bt,E=C[6],he+=E*At,St+=E*mt,vt+=E*se,te+=E*bt,dt+=E*yt,pt+=E*ie,ne+=E*xt,ft+=E*Nt,gt+=E*oe,Zt+=E*Ct,ct+=E*Mt,wt+=E*ae,ee+=E*Et,It+=E*lt,Rt+=E*ue,pe+=E*Bt,E=C[7],St+=E*At,vt+=E*mt,te+=E*se,dt+=E*bt,pt+=E*yt,ne+=E*ie,ft+=E*xt,gt+=E*Nt,Zt+=E*oe,ct+=E*Ct,wt+=E*Mt,ee+=E*ae,It+=E*Et,Rt+=E*lt,pe+=E*ue,Ot+=E*Bt,E=C[8],vt+=E*At,te+=E*mt,dt+=E*se,pt+=E*bt,ne+=E*yt,ft+=E*ie,gt+=E*xt,Zt+=E*Nt,ct+=E*oe,wt+=E*Ct,ee+=E*Mt,It+=E*ae,Rt+=E*Et,pe+=E*lt,Ot+=E*ue,Tt+=E*Bt,E=C[9],te+=E*At,dt+=E*mt,pt+=E*se,ne+=E*bt,ft+=E*yt,gt+=E*ie,Zt+=E*xt,ct+=E*Nt,wt+=E*oe,ee+=E*Ct,It+=E*Mt,Rt+=E*ae,pe+=E*Et,Ot+=E*lt,Tt+=E*ue,ge+=E*Bt,E=C[10],dt+=E*At,pt+=E*mt,ne+=E*se,ft+=E*bt,gt+=E*yt,Zt+=E*ie,ct+=E*xt,wt+=E*Nt,ee+=E*oe,It+=E*Ct,Rt+=E*Mt,pe+=E*ae,Ot+=E*Et,Tt+=E*lt,ge+=E*ue,Dt+=E*Bt,E=C[11],pt+=E*At,ne+=E*mt,ft+=E*se,gt+=E*bt,Zt+=E*yt,ct+=E*ie,wt+=E*xt,ee+=E*Nt,It+=E*oe,Rt+=E*Ct,pe+=E*Mt,Ot+=E*ae,Tt+=E*Et,ge+=E*lt,Dt+=E*ue,kt+=E*Bt,E=C[12],ne+=E*At,ft+=E*mt,gt+=E*se,Zt+=E*bt,ct+=E*yt,wt+=E*ie,ee+=E*xt,It+=E*Nt,Rt+=E*oe,pe+=E*Ct,Ot+=E*Mt,Tt+=E*ae,ge+=E*Et,Dt+=E*lt,kt+=E*ue,me+=E*Bt,E=C[13],ft+=E*At,gt+=E*mt,Zt+=E*se,ct+=E*bt,wt+=E*yt,ee+=E*ie,It+=E*xt,Rt+=E*Nt,pe+=E*oe,Ot+=E*Ct,Tt+=E*Mt,ge+=E*ae,Dt+=E*Et,kt+=E*lt,me+=E*ue,Lt+=E*Bt,E=C[14],gt+=E*At,Zt+=E*mt,ct+=E*se,wt+=E*bt,ee+=E*yt,It+=E*ie,Rt+=E*xt,pe+=E*Nt,Ot+=E*oe,Tt+=E*Ct,ge+=E*Mt,Dt+=E*ae,kt+=E*Et,me+=E*lt,Lt+=E*ue,zt+=E*Bt,E=C[15],Zt+=E*At,ct+=E*mt,wt+=E*se,ee+=E*bt,It+=E*yt,Rt+=E*ie,pe+=E*xt,Ot+=E*Nt,Tt+=E*oe,ge+=E*Ct,Dt+=E*Mt,kt+=E*ae,me+=E*Et,Lt+=E*lt,zt+=E*ue,xe+=E*Bt,$+=38*ct,G+=38*wt,L+=38*ee,at+=38*It,ut+=38*Rt,ot+=38*pe,he+=38*Ot,St+=38*Tt,vt+=38*ge,te+=38*Dt,dt+=38*kt,pt+=38*me,ne+=38*Lt,ft+=38*zt,gt+=38*xe,P=1,E=$+P+65535,P=Math.floor(E/65536),$=E-P*65536,E=G+P+65535,P=Math.floor(E/65536),G=E-P*65536,E=L+P+65535,P=Math.floor(E/65536),L=E-P*65536,E=at+P+65535,P=Math.floor(E/65536),at=E-P*65536,E=ut+P+65535,P=Math.floor(E/65536),ut=E-P*65536,E=ot+P+65535,P=Math.floor(E/65536),ot=E-P*65536,E=he+P+65535,P=Math.floor(E/65536),he=E-P*65536,E=St+P+65535,P=Math.floor(E/65536),St=E-P*65536,E=vt+P+65535,P=Math.floor(E/65536),vt=E-P*65536,E=te+P+65535,P=Math.floor(E/65536),te=E-P*65536,E=dt+P+65535,P=Math.floor(E/65536),dt=E-P*65536,E=pt+P+65535,P=Math.floor(E/65536),pt=E-P*65536,E=ne+P+65535,P=Math.floor(E/65536),ne=E-P*65536,E=ft+P+65535,P=Math.floor(E/65536),ft=E-P*65536,E=gt+P+65535,P=Math.floor(E/65536),gt=E-P*65536,E=Zt+P+65535,P=Math.floor(E/65536),Zt=E-P*65536,$+=P-1+37*(P-1),P=1,E=$+P+65535,P=Math.floor(E/65536),$=E-P*65536,E=G+P+65535,P=Math.floor(E/65536),G=E-P*65536,E=L+P+65535,P=Math.floor(E/65536),L=E-P*65536,E=at+P+65535,P=Math.floor(E/65536),at=E-P*65536,E=ut+P+65535,P=Math.floor(E/65536),ut=E-P*65536,E=ot+P+65535,P=Math.floor(E/65536),ot=E-P*65536,E=he+P+65535,P=Math.floor(E/65536),he=E-P*65536,E=St+P+65535,P=Math.floor(E/65536),St=E-P*65536,E=vt+P+65535,P=Math.floor(E/65536),vt=E-P*65536,E=te+P+65535,P=Math.floor(E/65536),te=E-P*65536,E=dt+P+65535,P=Math.floor(E/65536),dt=E-P*65536,E=pt+P+65535,P=Math.floor(E/65536),pt=E-P*65536,E=ne+P+65535,P=Math.floor(E/65536),ne=E-P*65536,E=ft+P+65535,P=Math.floor(E/65536),ft=E-P*65536,E=gt+P+65535,P=Math.floor(E/65536),gt=E-P*65536,E=Zt+P+65535,P=Math.floor(E/65536),Zt=E-P*65536,$+=P-1+37*(P-1),x[0]=$,x[1]=G,x[2]=L,x[3]=at,x[4]=ut,x[5]=ot,x[6]=he,x[7]=St,x[8]=vt,x[9]=te,x[10]=dt,x[11]=pt,x[12]=ne,x[13]=ft,x[14]=gt,x[15]=Zt}function it(x,C){nt(x,C,C)}function Qt(x,C){const D=n();let E;for(E=0;E<16;E++)D[E]=C[E];for(E=253;E>=0;E--)it(D,D),E!==2&&E!==4&&nt(D,D,C);for(E=0;E<16;E++)x[E]=D[E]}function Yt(x,C){const D=n();let E;for(E=0;E<16;E++)D[E]=C[E];for(E=250;E>=0;E--)it(D,D),E!==1&&nt(D,D,C);for(E=0;E<16;E++)x[E]=D[E]}function _t(x,C){const D=n(),E=n(),P=n(),$=n(),G=n(),L=n(),at=n(),ut=n(),ot=n();V(D,x[1],x[0]),V(ot,C[1],C[0]),nt(D,D,ot),W(E,x[0],x[1]),W(ot,C[0],C[1]),nt(E,E,ot),nt(P,x[3],C[3]),nt(P,P,p),nt($,x[2],C[2]),W($,$,$),V(G,E,D),V(L,$,P),W(at,$,P),W(ut,E,D),nt(x[0],G,L),nt(x[1],ut,at),nt(x[2],at,L),nt(x[3],G,ut)}function Vt(x,C,D){for(let E=0;E<4;E++)z(x[E],C[E],D)}function s(x,C){const D=n(),E=n(),P=n();Qt(P,C[2]),nt(D,C[0],P),nt(E,C[1],P),k(x,E),x[31]^=ht(D)<<7}function u(x,C,D){R(x[0],c),R(x[1],v),R(x[2],v),R(x[3],c);for(let E=255;E>=0;--E){const P=D[E/8|0]>>(E&7)&1;Vt(x,C,P),_t(C,x),_t(x,x),Vt(x,C,P)}}function d(x,C){const D=[n(),n(),n(),n()];R(D[0],_),R(D[1],I),R(D[2],v),nt(D[3],_,I),u(x,D,C)}function y(x){if(x.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const C=(0,r.hash)(x);C[0]&=248,C[31]&=127,C[31]|=64;const D=new Uint8Array(32),E=[n(),n(),n(),n()];d(E,C),s(D,E);const P=new Uint8Array(64);return P.set(x),P.set(D,32),{publicKey:D,secretKey:P}}e.generateKeyPairFromSeed=y;function A(x){const C=(0,t.randomBytes)(32,x),D=y(C);return(0,i.wipe)(C),D}e.generateKeyPair=A;function M(x){if(x.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(x.subarray(32))}e.extractPublicKeyFromSecretKey=M;const S=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function m(x,C){let D,E,P,$;for(E=63;E>=32;--E){for(D=0,P=E-32,$=E-12;P<$;++P)C[P]+=D-16*C[E]*S[P-(E-32)],D=Math.floor((C[P]+128)/256),C[P]-=D*256;C[P]+=D,C[E]=0}for(D=0,P=0;P<32;P++)C[P]+=D-(C[31]>>4)*S[P],D=C[P]>>8,C[P]&=255;for(P=0;P<32;P++)C[P]-=D*S[P];for(E=0;E<32;E++)C[E+1]+=C[E]>>8,x[E]=C[E]&255}function a(x){const C=new Float64Array(64);for(let D=0;D<64;D++)C[D]=x[D];for(let D=0;D<64;D++)x[D]=0;m(x,C)}function g(x,C){const D=new Float64Array(64),E=[n(),n(),n(),n()],P=(0,r.hash)(x.subarray(0,32));P[0]&=248,P[31]&=127,P[31]|=64;const $=new Uint8Array(64);$.set(P.subarray(32),32);const G=new r.SHA512;G.update($.subarray(32)),G.update(C);const L=G.digest();G.clean(),a(L),d(E,L),s($,E),G.reset(),G.update($.subarray(0,32)),G.update(x.subarray(32)),G.update(C);const at=G.digest();a(at);for(let ut=0;ut<32;ut++)D[ut]=L[ut];for(let ut=0;ut<32;ut++)for(let ot=0;ot<32;ot++)D[ut+ot]+=at[ut]*P[ot];return m($.subarray(32),D),$}e.sign=g;function Q(x,C){const D=n(),E=n(),P=n(),$=n(),G=n(),L=n(),at=n();return R(x[2],v),et(x[1],C),it(P,x[1]),nt($,P,w),V(P,P,x[2]),W($,x[2],$),it(G,$),it(L,G),nt(at,L,G),nt(D,at,P),nt(D,D,$),Yt(D,D),nt(D,D,P),nt(D,D,$),nt(D,D,$),nt(x[0],D,$),it(E,x[0]),nt(E,E,$),rt(E,P)&&nt(x[0],x[0],B),it(E,x[0]),nt(E,E,$),rt(E,P)?-1:(ht(x[0])===C[31]>>7&&V(x[0],c,x[0]),nt(x[3],x[0],x[1]),0)}function j(x,C,D){const E=new Uint8Array(32),P=[n(),n(),n(),n()],$=[n(),n(),n(),n()];if(D.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(Q($,x))return!1;const G=new r.SHA512;G.update(D.subarray(0,32)),G.update(x),G.update(C);const L=G.digest();return a(L),u(P,$,L),d($,D.subarray(32)),_t(P,$),s(E,P),!J(D,E)}e.verify=j;function f(x){let C=[n(),n(),n(),n()];if(Q(C,x))throw new Error("Ed25519: invalid public key");let D=n(),E=n(),P=C[1];W(D,v,P),V(E,v,P),Qt(E,E),nt(D,D,E);let $=new Uint8Array(32);return k($,D),$}e.convertPublicKeyToX25519=f;function T(x){const C=(0,r.hash)(x.subarray(0,32));C[0]&=248,C[31]&=127,C[31]|=64;const D=new Uint8Array(C.subarray(0,32));return(0,i.wipe)(C),D}e.convertSecretKeyToX25519=T})(cp);const gE="EdDSA",mE="JWT",fc=".",Oc="base64url",n6="utf8",s6="utf8",vE=":",yE="did",wE="key",Gm="base58btc",AE="z",bE="K36",ME=32;function lp(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function o6(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?lp(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function EE(e,t){t||(t=e.reduce((n,o)=>n+o.length,0));const r=o6(t);let i=0;for(const n of e)r.set(n,i),i+=n.length;return lp(r)}function a6(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Jm=a6("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),hd=a6("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=o6(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),h6={utf8:Jm,"utf-8":Jm,hex:uc.base16,latin1:hd,ascii:hd,binary:hd,...uc};function Dc(e,t="utf8"){const r=h6[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function Oh(e,t="utf8"){const r=h6[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?lp(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function Ym(e){return xa(Dc(Oh(e,Oc),n6))}function cc(e){return Dc(Oh(Ia(e),n6),Oc)}function u6(e){const t=Oh(bE,Gm),r=AE+Dc(EE([t,e]),Gm);return[yE,wE,r].join(vE)}function _E(e){return Dc(e,Oc)}function SE(e){return Oh(e,Oc)}function IE(e){return Oh([cc(e.header),cc(e.payload)].join(fc),s6)}function xE(e){return[cc(e.header),cc(e.payload),_E(e.signature)].join(fc)}function I1(e){const t=e.split(fc),r=Ym(t[0]),i=Ym(t[1]),n=SE(t[2]),o=Oh(t.slice(0,2).join(fc),s6);return{header:r,payload:i,signature:n,data:o}}function Vm(e=Rh.randomBytes(ME)){return cp.generateKeyPairFromSeed(e)}async function NE(e,t,r,i,n=Gt.fromMiliseconds(Date.now())){const o={alg:gE,typ:mE},c=u6(i.publicKey),v=n+r,w={iss:c,sub:e,aud:t,iat:n,exp:v},p=IE({header:o,payload:w}),_=cp.sign(i.secretKey,p);return xE({header:o,payload:w,signature:_})}const CE="PARSE_ERROR",BE="INVALID_REQUEST",RE="METHOD_NOT_FOUND",PE="INVALID_PARAMS",f6="INTERNAL_ERROR",dp="SERVER_ERROR",TE=[-32700,-32600,-32601,-32602,-32603],Fu={[CE]:{code:-32700,message:"Parse error"},[BE]:{code:-32600,message:"Invalid Request"},[RE]:{code:-32601,message:"Method not found"},[PE]:{code:-32602,message:"Invalid params"},[f6]:{code:-32603,message:"Internal error"},[dp]:{code:-32e3,message:"Server error"}},c6=dp;function OE(e){return TE.includes(e)}function Wm(e){return Object.keys(Fu).includes(e)?Fu[e]:Fu[c6]}function DE(e){const t=Object.values(Fu).find(r=>r.code===e);return t||Fu[c6]}function l6(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}function Ko(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function Aa(e=6){return BigInt(Ko(e))}function ta(e,t,r){return{id:r||Ko(),jsonrpc:"2.0",method:e,params:t}}function Fc(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Uc(e,t,r){return{id:e,jsonrpc:"2.0",error:FE(t)}}function FE(e,t){return typeof e>"u"?Wm(f6):(typeof e=="string"&&(e=Object.assign(Object.assign({},Wm(dp)),{message:e})),OE(e.code)&&(e=DE(e.code)),e)}class UE{}let kE=class extends UE{constructor(){super()}};class qE extends kE{constructor(t){super()}}const LE="^https?:",zE="^wss?:";function $E(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function d6(e,t){const r=$E(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Xm(e){return d6(e,LE)}function Zm(e){return d6(e,zE)}function HE(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function p6(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function pp(e){return p6(e)&&"method"in e}function kc(e){return p6(e)&&(ws(e)||xn(e))}function ws(e){return"result"in e}function xn(e){return"error"in e}class fs extends qE{constructor(t){super(t),this.events=new Pn.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(ta(t.method,t.params||[],t.id||Aa().toString()),r)}async requestStrict(t,r){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(o){n(o)}this.events.on(`${t.id}`,o=>{xn(o)?n(o.error):i(o.result)});try{await this.connection.send(t,r)}catch(o){n(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),kc(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const KE=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),jE=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",t2=e=>e.split("?")[0],e2=10,QE=KE();let GE=class{constructor(t){if(this.url=t,this.events=new Pn.EventEmitter,this.registering=!1,!Zm(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ia(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!Zm(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),n(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,i)=>{const n=new URLSearchParams(t).get("origin"),o=mM.isReactNative()?{headers:{origin:n}}:{rejectUnauthorized:!HE(t)},c=new QE(t,[],o);jE()?c.onerror=v=>{const w=v;i(this.emitError(w.error))}:c.on("error",v=>{i(this.emitError(v))}),c.onopen=()=>{this.onOpen(c),r(c)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?xa(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),n=i.message||i.toString(),o=Uc(t,n);this.events.emit("payload",o)}parseError(t,r=this.url){return l6(t,t2(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>e2&&this.events.setMaxListeners(e2)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${t2(this.url)}`));return this.events.emit("register_error",r),r}};var lc={exports:{}};lc.exports;(function(e,t){var r=200,i="__lodash_hash_undefined__",n=1,o=2,c=9007199254740991,v="[object Arguments]",w="[object Array]",p="[object AsyncFunction]",_="[object Boolean]",I="[object Date]",B="[object Error]",R="[object Function]",O="[object GeneratorFunction]",z="[object Map]",k="[object Number]",J="[object Null]",rt="[object Object]",ht="[object Promise]",et="[object Proxy]",W="[object RegExp]",V="[object Set]",nt="[object String]",it="[object Symbol]",Qt="[object Undefined]",Yt="[object WeakMap]",_t="[object ArrayBuffer]",Vt="[object DataView]",s="[object Float32Array]",u="[object Float64Array]",d="[object Int8Array]",y="[object Int16Array]",A="[object Int32Array]",M="[object Uint8Array]",S="[object Uint8ClampedArray]",m="[object Uint16Array]",a="[object Uint32Array]",g=/[\\^$.*+?()[\]{}|]/g,Q=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,f={};f[s]=f[u]=f[d]=f[y]=f[A]=f[M]=f[S]=f[m]=f[a]=!0,f[v]=f[w]=f[_t]=f[_]=f[Vt]=f[I]=f[B]=f[R]=f[z]=f[k]=f[rt]=f[W]=f[V]=f[nt]=f[Yt]=!1;var T=typeof g0=="object"&&g0&&g0.Object===Object&&g0,x=typeof self=="object"&&self&&self.Object===Object&&self,C=T||x||Function("return this")(),D=t&&!t.nodeType&&t,E=D&&!0&&e&&!e.nodeType&&e,P=E&&E.exports===D,$=P&&T.process,G=function(){try{return $&&$.binding&&$.binding("util")}catch{}}(),L=G&&G.isTypedArray;function at(H,X){for(var $t=-1,Wt=H==null?0:H.length,ir=0,we=[];++$t<Wt;){var hr=H[$t];X(hr,$t,H)&&(we[ir++]=hr)}return we}function ut(H,X){for(var $t=-1,Wt=X.length,ir=H.length;++$t<Wt;)H[ir+$t]=X[$t];return H}function ot(H,X){for(var $t=-1,Wt=H==null?0:H.length;++$t<Wt;)if(X(H[$t],$t,H))return!0;return!1}function he(H,X){for(var $t=-1,Wt=Array(H);++$t<H;)Wt[$t]=X($t);return Wt}function St(H){return function(X){return H(X)}}function vt(H,X){return H.has(X)}function te(H,X){return H==null?void 0:H[X]}function dt(H){var X=-1,$t=Array(H.size);return H.forEach(function(Wt,ir){$t[++X]=[ir,Wt]}),$t}function pt(H,X){return function($t){return H(X($t))}}function ne(H){var X=-1,$t=Array(H.size);return H.forEach(function(Wt){$t[++X]=Wt}),$t}var ft=Array.prototype,gt=Function.prototype,Zt=Object.prototype,ct=C["__core-js_shared__"],wt=gt.toString,ee=Zt.hasOwnProperty,It=function(){var H=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Rt=Zt.toString,pe=RegExp("^"+wt.call(ee).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=P?C.Buffer:void 0,Tt=C.Symbol,ge=C.Uint8Array,Dt=Zt.propertyIsEnumerable,kt=ft.splice,me=Tt?Tt.toStringTag:void 0,Lt=Object.getOwnPropertySymbols,zt=Ot?Ot.isBuffer:void 0,xe=pt(Object.keys,Object),At=Qi(C,"DataView"),mt=Qi(C,"Map"),se=Qi(C,"Promise"),bt=Qi(C,"Set"),yt=Qi(C,"WeakMap"),ie=Qi(Object,"create"),xt=ro(At),Nt=ro(mt),oe=ro(se),Ct=ro(bt),Mt=ro(yt),ae=Tt?Tt.prototype:void 0,Et=ae?ae.valueOf:void 0;function lt(H){var X=-1,$t=H==null?0:H.length;for(this.clear();++X<$t;){var Wt=H[X];this.set(Wt[0],Wt[1])}}function ue(){this.__data__=ie?ie(null):{},this.size=0}function Bt(H){var X=this.has(H)&&delete this.__data__[H];return this.size-=X?1:0,X}function Ht(H){var X=this.__data__;if(ie){var $t=X[H];return $t===i?void 0:$t}return ee.call(X,H)?X[H]:void 0}function Ke(H){var X=this.__data__;return ie?X[H]!==void 0:ee.call(X,H)}function Kt(H,X){var $t=this.__data__;return this.size+=this.has(H)?0:1,$t[H]=ie&&X===void 0?i:X,this}lt.prototype.clear=ue,lt.prototype.delete=Bt,lt.prototype.get=Ht,lt.prototype.has=Ke,lt.prototype.set=Kt;function Ft(H){var X=-1,$t=H==null?0:H.length;for(this.clear();++X<$t;){var Wt=H[X];this.set(Wt[0],Wt[1])}}function Ne(){this.__data__=[],this.size=0}function Ce(H){var X=this.__data__,$t=na(X,H);if($t<0)return!1;var Wt=X.length-1;return $t==Wt?X.pop():kt.call(X,$t,1),--this.size,!0}function Be(H){var X=this.__data__,$t=na(X,H);return $t<0?void 0:X[$t][1]}function Re(H){return na(this.__data__,H)>-1}function Pe(H,X){var $t=this.__data__,Wt=na($t,H);return Wt<0?(++this.size,$t.push([H,X])):$t[Wt][1]=X,this}Ft.prototype.clear=Ne,Ft.prototype.delete=Ce,Ft.prototype.get=Be,Ft.prototype.has=Re,Ft.prototype.set=Pe;function ve(H){var X=-1,$t=H==null?0:H.length;for(this.clear();++X<$t;){var Wt=H[X];this.set(Wt[0],Wt[1])}}function dr(){this.size=0,this.__data__={hash:new lt,map:new(mt||Ft),string:new lt}}function Nr(H){var X=Bo(this,H).delete(H);return this.size-=X?1:0,X}function pr(H){return Bo(this,H).get(H)}function Cr(H){return Bo(this,H).has(H)}function Br(H,X){var $t=Bo(this,H),Wt=$t.size;return $t.set(H,X),this.size+=$t.size==Wt?0:1,this}ve.prototype.clear=dr,ve.prototype.delete=Nr,ve.prototype.get=pr,ve.prototype.has=Cr,ve.prototype.set=Br;function gr(H){var X=-1,$t=H==null?0:H.length;for(this.__data__=new ve;++X<$t;)this.add(H[X])}function _r(H){return this.__data__.set(H,i),this}function Sr(H){return this.__data__.has(H)}gr.prototype.add=gr.prototype.push=_r,gr.prototype.has=Sr;function er(H){var X=this.__data__=new Ft(H);this.size=X.size}function Rr(){this.__data__=new Ft,this.size=0}function Pr(H){var X=this.__data__,$t=X.delete(H);return this.size=X.size,$t}function Tr(H){return this.__data__.get(H)}function Or(H){return this.__data__.has(H)}function df(H,X){var $t=this.__data__;if($t instanceof Ft){var Wt=$t.__data__;if(!mt||Wt.length<r-1)return Wt.push([H,X]),this.size=++$t.size,this;$t=this.__data__=new ve(Wt)}return $t.set(H,X),this.size=$t.size,this}er.prototype.clear=Rr,er.prototype.delete=Pr,er.prototype.get=Tr,er.prototype.has=Or,er.prototype.set=df;function pf(H,X){var $t=za(H),Wt=!$t&&If(H),ir=!$t&&!Wt&&Zh(H),we=!$t&&!Wt&&!ir&&Cf(H),hr=$t||Wt||ir||we,Ir=hr?he(H.length,String):[],je=Ir.length;for(var nr in H)ee.call(H,nr)&&!(hr&&(nr=="length"||ir&&(nr=="offset"||nr=="parent")||we&&(nr=="buffer"||nr=="byteLength"||nr=="byteOffset")||bf(nr,je)))&&Ir.push(nr);return Ir}function na(H,X){for(var $t=H.length;$t--;)if(Sf(H[$t][0],X))return $t;return-1}function Wh(H,X,$t){var Wt=X(H);return za(H)?Wt:ut(Wt,$t(H))}function sa(H){return H==null?H===void 0?Qt:J:me&&me in Object(H)?wf(H):Wc(H)}function Xh(H){return aa(H)&&sa(H)==v}function oa(H,X,$t,Wt,ir){return H===X?!0:H==null||X==null||!aa(H)&&!aa(X)?H!==H&&X!==X:gf(H,X,$t,Wt,oa,ir)}function gf(H,X,$t,Wt,ir,we){var hr=za(H),Ir=za(X),je=hr?w:ls(H),nr=Ir?w:ls(X);je=je==v?rt:je,nr=nr==v?rt:nr;var wr=je==rt,xi=nr==rt,xr=je==nr;if(xr&&Zh(H)){if(!Zh(X))return!1;hr=!0,wr=!1}if(xr&&!wr)return we||(we=new er),hr||Cf(H)?qa(H,X,$t,Wt,ir,we):Vc(H,X,je,$t,Wt,ir,we);if(!($t&n)){var ur=wr&&ee.call(H,"__wrapped__"),fi=xi&&ee.call(X,"__wrapped__");if(ur||fi){var Tn=ur?H.value():H,sn=fi?X.value():X;return we||(we=new er),ir(Tn,sn,$t,Wt,we)}}return xr?(we||(we=new er),yf(H,X,$t,Wt,ir,we)):!1}function Yc(H){if(!Nf(H)||Ef(H))return!1;var X=$a(H)?pe:Q;return X.test(ro(H))}function mf(H){return aa(H)&&xf(H.length)&&!!f[sa(H)]}function vf(H){if(!_f(H))return xe(H);var X=[];for(var $t in Object(H))ee.call(H,$t)&&$t!="constructor"&&X.push($t);return X}function qa(H,X,$t,Wt,ir,we){var hr=$t&n,Ir=H.length,je=X.length;if(Ir!=je&&!(hr&&je>Ir))return!1;var nr=we.get(H);if(nr&&we.get(X))return nr==X;var wr=-1,xi=!0,xr=$t&o?new gr:void 0;for(we.set(H,X),we.set(X,H);++wr<Ir;){var ur=H[wr],fi=X[wr];if(Wt)var Tn=hr?Wt(fi,ur,wr,X,H,we):Wt(ur,fi,wr,H,X,we);if(Tn!==void 0){if(Tn)continue;xi=!1;break}if(xr){if(!ot(X,function(sn,ds){if(!vt(xr,ds)&&(ur===sn||ir(ur,sn,$t,Wt,we)))return xr.push(ds)})){xi=!1;break}}else if(!(ur===fi||ir(ur,fi,$t,Wt,we))){xi=!1;break}}return we.delete(H),we.delete(X),xi}function Vc(H,X,$t,Wt,ir,we,hr){switch($t){case Vt:if(H.byteLength!=X.byteLength||H.byteOffset!=X.byteOffset)return!1;H=H.buffer,X=X.buffer;case _t:return!(H.byteLength!=X.byteLength||!we(new ge(H),new ge(X)));case _:case I:case k:return Sf(+H,+X);case B:return H.name==X.name&&H.message==X.message;case W:case nt:return H==X+"";case z:var Ir=dt;case V:var je=Wt&n;if(Ir||(Ir=ne),H.size!=X.size&&!je)return!1;var nr=hr.get(H);if(nr)return nr==X;Wt|=o,hr.set(H,X);var wr=qa(Ir(H),Ir(X),Wt,ir,we,hr);return hr.delete(H),wr;case it:if(Et)return Et.call(H)==Et.call(X)}return!1}function yf(H,X,$t,Wt,ir,we){var hr=$t&n,Ir=La(H),je=Ir.length,nr=La(X),wr=nr.length;if(je!=wr&&!hr)return!1;for(var xi=je;xi--;){var xr=Ir[xi];if(!(hr?xr in X:ee.call(X,xr)))return!1}var ur=we.get(H);if(ur&&we.get(X))return ur==X;var fi=!0;we.set(H,X),we.set(X,H);for(var Tn=hr;++xi<je;){xr=Ir[xi];var sn=H[xr],ds=X[xr];if(Wt)var tu=hr?Wt(ds,sn,xr,X,H,we):Wt(sn,ds,xr,H,X,we);if(!(tu===void 0?sn===ds||ir(sn,ds,$t,Wt,we):tu)){fi=!1;break}Tn||(Tn=xr=="constructor")}if(fi&&!Tn){var ha=H.constructor,zr=X.constructor;ha!=zr&&"constructor"in H&&"constructor"in X&&!(typeof ha=="function"&&ha instanceof ha&&typeof zr=="function"&&zr instanceof zr)&&(fi=!1)}return we.delete(H),we.delete(X),fi}function La(H){return Wh(H,tl,Af)}function Bo(H,X){var $t=H.__data__;return Mf(X)?$t[typeof X=="string"?"string":"hash"]:$t.map}function Qi(H,X){var $t=te(H,X);return Yc($t)?$t:void 0}function wf(H){var X=ee.call(H,me),$t=H[me];try{H[me]=void 0;var Wt=!0}catch{}var ir=Rt.call(H);return Wt&&(X?H[me]=$t:delete H[me]),ir}var Af=Lt?function(H){return H==null?[]:(H=Object(H),at(Lt(H),function(X){return Dt.call(H,X)}))}:rr,ls=sa;(At&&ls(new At(new ArrayBuffer(1)))!=Vt||mt&&ls(new mt)!=z||se&&ls(se.resolve())!=ht||bt&&ls(new bt)!=V||yt&&ls(new yt)!=Yt)&&(ls=function(H){var X=sa(H),$t=X==rt?H.constructor:void 0,Wt=$t?ro($t):"";if(Wt)switch(Wt){case xt:return Vt;case Nt:return z;case oe:return ht;case Ct:return V;case Mt:return Yt}return X});function bf(H,X){return X=X??c,!!X&&(typeof H=="number"||j.test(H))&&H>-1&&H%1==0&&H<X}function Mf(H){var X=typeof H;return X=="string"||X=="number"||X=="symbol"||X=="boolean"?H!=="__proto__":H===null}function Ef(H){return!!It&&It in H}function _f(H){var X=H&&H.constructor,$t=typeof X=="function"&&X.prototype||Zt;return H===$t}function Wc(H){return Rt.call(H)}function ro(H){if(H!=null){try{return wt.call(H)}catch{}try{return H+""}catch{}}return""}function Sf(H,X){return H===X||H!==H&&X!==X}var If=Xh(function(){return arguments}())?Xh:function(H){return aa(H)&&ee.call(H,"callee")&&!Dt.call(H,"callee")},za=Array.isArray;function Xc(H){return H!=null&&xf(H.length)&&!$a(H)}var Zh=zt||tr;function Zc(H,X){return oa(H,X)}function $a(H){if(!Nf(H))return!1;var X=sa(H);return X==R||X==O||X==p||X==et}function xf(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=c}function Nf(H){var X=typeof H;return H!=null&&(X=="object"||X=="function")}function aa(H){return H!=null&&typeof H=="object"}var Cf=L?St(L):mf;function tl(H){return Xc(H)?pf(H):vf(H)}function rr(){return[]}function tr(){return!1}e.exports=Zc})(lc,lc.exports);var JE=lc.exports;const YE=vM(JE);var VE=Object.defineProperty,WE=Object.defineProperties,XE=Object.getOwnPropertyDescriptors,r2=Object.getOwnPropertySymbols,ZE=Object.prototype.hasOwnProperty,t_=Object.prototype.propertyIsEnumerable,i2=(e,t,r)=>t in e?VE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n2=(e,t)=>{for(var r in t||(t={}))ZE.call(t,r)&&i2(e,r,t[r]);if(r2)for(var r of r2(t))t_.call(t,r)&&i2(e,r,t[r]);return e},s2=(e,t)=>WE(e,XE(t));const e_={Accept:"application/json","Content-Type":"application/json"},r_="POST",o2={headers:e_,method:r_},a2=10;class Ws{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Pn.EventEmitter,this.isAvailable=!1,this.registering=!1,!Xm(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const r=Ia(t),i=await(await Um(this.url,s2(n2({},o2),{body:r}))).json();this.onPayload({data:i})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!Xm(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),n(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));i()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=Ia({id:1,jsonrpc:"2.0",method:"test",params:[]});await Um(t,s2(n2({},o2),{body:r}))}this.onOpen()}catch(r){const i=this.parseError(r);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?xa(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),n=i.message||i.toString(),o=Uc(t,n);this.events.emit("payload",o)}parseError(t,r=this.url){return l6(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>a2&&this.events.setMaxListeners(a2)}}function h2(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const n=e[i];r.push(...n.accounts)}),r}var g6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i_(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var n_={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var o=!i&&typeof self=="object",c=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?n=g6:o&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,w=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],I=[4,1024,262144,67108864],B=[1,256,65536,16777216],R=[6,1536,393216,100663296],O=[0,8,16,24],z=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],J=[128,256],rt=["hex","buffer","arrayBuffer","array","digest"],ht={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"}),w&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(f){return typeof f=="object"&&f.buffer&&f.buffer.constructor===ArrayBuffer});for(var et=function(f,T,x){return function(C){return new g(f,T,f).update(C)[x]()}},W=function(f,T,x){return function(C,D){return new g(f,T,D).update(C)[x]()}},V=function(f,T,x){return function(C,D,E,P){return u["cshake"+f].update(C,D,E,P)[x]()}},nt=function(f,T,x){return function(C,D,E,P){return u["kmac"+f].update(C,D,E,P)[x]()}},it=function(f,T,x,C){for(var D=0;D<rt.length;++D){var E=rt[D];f[E]=T(x,C,E)}return f},Qt=function(f,T){var x=et(f,T,"hex");return x.create=function(){return new g(f,T,f)},x.update=function(C){return x.create().update(C)},it(x,et,f,T)},Yt=function(f,T){var x=W(f,T,"hex");return x.create=function(C){return new g(f,T,C)},x.update=function(C,D){return x.create(D).update(C)},it(x,W,f,T)},_t=function(f,T){var x=ht[f],C=V(f,T,"hex");return C.create=function(D,E,P){return!E&&!P?u["shake"+f].create(D):new g(f,T,D).bytepad([E,P],x)},C.update=function(D,E,P,$){return C.create(E,P,$).update(D)},it(C,V,f,T)},Vt=function(f,T){var x=ht[f],C=nt(f,T,"hex");return C.create=function(D,E,P){return new Q(f,T,E).bytepad(["KMAC",P],x).bytepad([D],x)},C.update=function(D,E,P,$){return C.create(D,P,$).update(E)},it(C,nt,f,T)},s=[{name:"keccak",padding:B,bits:k,createMethod:Qt},{name:"sha3",padding:R,bits:k,createMethod:Qt},{name:"shake",padding:_,bits:J,createMethod:Yt},{name:"cshake",padding:I,bits:J,createMethod:_t},{name:"kmac",padding:I,bits:J,createMethod:Vt}],u={},d=[],y=0;y<s.length;++y)for(var A=s[y],M=A.bits,S=0;S<M.length;++S){var m=A.name+"_"+M[S];if(d.push(m),u[m]=A.createMethod(M[S],A.padding),A.name!=="sha3"){var a=A.name+M[S];d.push(a),u[a]=u[m]}}function g(f,T,x){this.blocks=[],this.s=[],this.padding=T,this.outputBits=x,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(f<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=x>>5,this.extraBytes=(x&31)>>3;for(var C=0;C<50;++C)this.s[C]=0}g.prototype.update=function(f){if(this.finalized)throw new Error(r);var T,x=typeof f;if(x!=="string"){if(x==="object"){if(f===null)throw new Error(t);if(w&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!w||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);T=!0}for(var C=this.blocks,D=this.byteCount,E=f.length,P=this.blockCount,$=0,G=this.s,L,at;$<E;){if(this.reset)for(this.reset=!1,C[0]=this.block,L=1;L<P+1;++L)C[L]=0;if(T)for(L=this.start;$<E&&L<D;++$)C[L>>2]|=f[$]<<O[L++&3];else for(L=this.start;$<E&&L<D;++$)at=f.charCodeAt($),at<128?C[L>>2]|=at<<O[L++&3]:at<2048?(C[L>>2]|=(192|at>>6)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]):at<55296||at>=57344?(C[L>>2]|=(224|at>>12)<<O[L++&3],C[L>>2]|=(128|at>>6&63)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]):(at=65536+((at&1023)<<10|f.charCodeAt(++$)&1023),C[L>>2]|=(240|at>>18)<<O[L++&3],C[L>>2]|=(128|at>>12&63)<<O[L++&3],C[L>>2]|=(128|at>>6&63)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]);if(this.lastByteIndex=L,L>=D){for(this.start=L-D,this.block=C[P],L=0;L<P;++L)G[L]^=C[L];j(G),this.reset=!0}else this.start=L}return this},g.prototype.encode=function(f,T){var x=f&255,C=1,D=[x];for(f=f>>8,x=f&255;x>0;)D.unshift(x),f=f>>8,x=f&255,++C;return T?D.push(C):D.unshift(C),this.update(D),D.length},g.prototype.encodeString=function(f){var T,x=typeof f;if(x!=="string"){if(x==="object"){if(f===null)throw new Error(t);if(w&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!w||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);T=!0}var C=0,D=f.length;if(T)C=D;else for(var E=0;E<f.length;++E){var P=f.charCodeAt(E);P<128?C+=1:P<2048?C+=2:P<55296||P>=57344?C+=3:(P=65536+((P&1023)<<10|f.charCodeAt(++E)&1023),C+=4)}return C+=this.encode(C*8),this.update(f),C},g.prototype.bytepad=function(f,T){for(var x=this.encode(T),C=0;C<f.length;++C)x+=this.encodeString(f[C]);var D=T-x%T,E=[];return E.length=D,this.update(E),this},g.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var f=this.blocks,T=this.lastByteIndex,x=this.blockCount,C=this.s;if(f[T>>2]|=this.padding[T&3],this.lastByteIndex===this.byteCount)for(f[0]=f[x],T=1;T<x+1;++T)f[T]=0;for(f[x-1]|=2147483648,T=0;T<x;++T)C[T]^=f[T];j(C)}},g.prototype.toString=g.prototype.hex=function(){this.finalize();for(var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P="",$;E<x;){for(D=0;D<f&&E<x;++D,++E)$=T[D],P+=p[$>>4&15]+p[$&15]+p[$>>12&15]+p[$>>8&15]+p[$>>20&15]+p[$>>16&15]+p[$>>28&15]+p[$>>24&15];E%f===0&&(j(T),D=0)}return C&&($=T[D],P+=p[$>>4&15]+p[$&15],C>1&&(P+=p[$>>12&15]+p[$>>8&15]),C>2&&(P+=p[$>>20&15]+p[$>>16&15])),P},g.prototype.arrayBuffer=function(){this.finalize();var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P=this.outputBits>>3,$;C?$=new ArrayBuffer(x+1<<2):$=new ArrayBuffer(P);for(var G=new Uint32Array($);E<x;){for(D=0;D<f&&E<x;++D,++E)G[E]=T[D];E%f===0&&j(T)}return C&&(G[D]=T[D],$=$.slice(0,P)),$},g.prototype.buffer=g.prototype.arrayBuffer,g.prototype.digest=g.prototype.array=function(){this.finalize();for(var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P=[],$,G;E<x;){for(D=0;D<f&&E<x;++D,++E)$=E<<2,G=T[D],P[$]=G&255,P[$+1]=G>>8&255,P[$+2]=G>>16&255,P[$+3]=G>>24&255;E%f===0&&j(T)}return C&&($=E<<2,G=T[D],P[$]=G&255,C>1&&(P[$+1]=G>>8&255),C>2&&(P[$+2]=G>>16&255)),P};function Q(f,T,x){g.call(this,f,T,x)}Q.prototype=new g,Q.prototype.finalize=function(){return this.encode(this.outputBits,!0),g.prototype.finalize.call(this)};var j=function(f){var T,x,C,D,E,P,$,G,L,at,ut,ot,he,St,vt,te,dt,pt,ne,ft,gt,Zt,ct,wt,ee,It,Rt,pe,Ot,Tt,ge,Dt,kt,me,Lt,zt,xe,At,mt,se,bt,yt,ie,xt,Nt,oe,Ct,Mt,ae,Et,lt,ue,Bt,Ht,Ke,Kt,Ft,Ne,Ce,Be,Re,Pe,ve;for(C=0;C<48;C+=2)D=f[0]^f[10]^f[20]^f[30]^f[40],E=f[1]^f[11]^f[21]^f[31]^f[41],P=f[2]^f[12]^f[22]^f[32]^f[42],$=f[3]^f[13]^f[23]^f[33]^f[43],G=f[4]^f[14]^f[24]^f[34]^f[44],L=f[5]^f[15]^f[25]^f[35]^f[45],at=f[6]^f[16]^f[26]^f[36]^f[46],ut=f[7]^f[17]^f[27]^f[37]^f[47],ot=f[8]^f[18]^f[28]^f[38]^f[48],he=f[9]^f[19]^f[29]^f[39]^f[49],T=ot^(P<<1|$>>>31),x=he^($<<1|P>>>31),f[0]^=T,f[1]^=x,f[10]^=T,f[11]^=x,f[20]^=T,f[21]^=x,f[30]^=T,f[31]^=x,f[40]^=T,f[41]^=x,T=D^(G<<1|L>>>31),x=E^(L<<1|G>>>31),f[2]^=T,f[3]^=x,f[12]^=T,f[13]^=x,f[22]^=T,f[23]^=x,f[32]^=T,f[33]^=x,f[42]^=T,f[43]^=x,T=P^(at<<1|ut>>>31),x=$^(ut<<1|at>>>31),f[4]^=T,f[5]^=x,f[14]^=T,f[15]^=x,f[24]^=T,f[25]^=x,f[34]^=T,f[35]^=x,f[44]^=T,f[45]^=x,T=G^(ot<<1|he>>>31),x=L^(he<<1|ot>>>31),f[6]^=T,f[7]^=x,f[16]^=T,f[17]^=x,f[26]^=T,f[27]^=x,f[36]^=T,f[37]^=x,f[46]^=T,f[47]^=x,T=at^(D<<1|E>>>31),x=ut^(E<<1|D>>>31),f[8]^=T,f[9]^=x,f[18]^=T,f[19]^=x,f[28]^=T,f[29]^=x,f[38]^=T,f[39]^=x,f[48]^=T,f[49]^=x,St=f[0],vt=f[1],oe=f[11]<<4|f[10]>>>28,Ct=f[10]<<4|f[11]>>>28,pe=f[20]<<3|f[21]>>>29,Ot=f[21]<<3|f[20]>>>29,Be=f[31]<<9|f[30]>>>23,Re=f[30]<<9|f[31]>>>23,yt=f[40]<<18|f[41]>>>14,ie=f[41]<<18|f[40]>>>14,me=f[2]<<1|f[3]>>>31,Lt=f[3]<<1|f[2]>>>31,te=f[13]<<12|f[12]>>>20,dt=f[12]<<12|f[13]>>>20,Mt=f[22]<<10|f[23]>>>22,ae=f[23]<<10|f[22]>>>22,Tt=f[33]<<13|f[32]>>>19,ge=f[32]<<13|f[33]>>>19,Pe=f[42]<<2|f[43]>>>30,ve=f[43]<<2|f[42]>>>30,Ht=f[5]<<30|f[4]>>>2,Ke=f[4]<<30|f[5]>>>2,zt=f[14]<<6|f[15]>>>26,xe=f[15]<<6|f[14]>>>26,pt=f[25]<<11|f[24]>>>21,ne=f[24]<<11|f[25]>>>21,Et=f[34]<<15|f[35]>>>17,lt=f[35]<<15|f[34]>>>17,Dt=f[45]<<29|f[44]>>>3,kt=f[44]<<29|f[45]>>>3,wt=f[6]<<28|f[7]>>>4,ee=f[7]<<28|f[6]>>>4,Kt=f[17]<<23|f[16]>>>9,Ft=f[16]<<23|f[17]>>>9,At=f[26]<<25|f[27]>>>7,mt=f[27]<<25|f[26]>>>7,ft=f[36]<<21|f[37]>>>11,gt=f[37]<<21|f[36]>>>11,ue=f[47]<<24|f[46]>>>8,Bt=f[46]<<24|f[47]>>>8,xt=f[8]<<27|f[9]>>>5,Nt=f[9]<<27|f[8]>>>5,It=f[18]<<20|f[19]>>>12,Rt=f[19]<<20|f[18]>>>12,Ne=f[29]<<7|f[28]>>>25,Ce=f[28]<<7|f[29]>>>25,se=f[38]<<8|f[39]>>>24,bt=f[39]<<8|f[38]>>>24,Zt=f[48]<<14|f[49]>>>18,ct=f[49]<<14|f[48]>>>18,f[0]=St^~te&pt,f[1]=vt^~dt&ne,f[10]=wt^~It&pe,f[11]=ee^~Rt&Ot,f[20]=me^~zt&At,f[21]=Lt^~xe&mt,f[30]=xt^~oe&Mt,f[31]=Nt^~Ct&ae,f[40]=Ht^~Kt&Ne,f[41]=Ke^~Ft&Ce,f[2]=te^~pt&ft,f[3]=dt^~ne&gt,f[12]=It^~pe&Tt,f[13]=Rt^~Ot&ge,f[22]=zt^~At&se,f[23]=xe^~mt&bt,f[32]=oe^~Mt&Et,f[33]=Ct^~ae&lt,f[42]=Kt^~Ne&Be,f[43]=Ft^~Ce&Re,f[4]=pt^~ft&Zt,f[5]=ne^~gt&ct,f[14]=pe^~Tt&Dt,f[15]=Ot^~ge&kt,f[24]=At^~se&yt,f[25]=mt^~bt&ie,f[34]=Mt^~Et&ue,f[35]=ae^~lt&Bt,f[44]=Ne^~Be&Pe,f[45]=Ce^~Re&ve,f[6]=ft^~Zt&St,f[7]=gt^~ct&vt,f[16]=Tt^~Dt&wt,f[17]=ge^~kt&ee,f[26]=se^~yt&me,f[27]=bt^~ie&Lt,f[36]=Et^~ue&xt,f[37]=lt^~Bt&Nt,f[46]=Be^~Pe&Ht,f[47]=Re^~ve&Ke,f[8]=Zt^~St&te,f[9]=ct^~vt&dt,f[18]=Dt^~wt&It,f[19]=kt^~ee&Rt,f[28]=yt^~me&zt,f[29]=ie^~Lt&xe,f[38]=ue^~xt&oe,f[39]=Bt^~Nt&Ct,f[48]=Pe^~Ht&Kt,f[49]=ve^~Ke&Ft,f[0]^=z[C],f[1]^=z[C+1]};if(v)e.exports=u;else for(y=0;y<d.length;++y)n[d[y]]=u[d[y]]})()})(n_);const s_="logger/5.7.0";let u2=!1,f2=!1;const j0={debug:1,default:2,info:2,warning:3,error:4,off:5};let c2=j0.default,ud=null;function o_(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("Г©".normalize("NFD")!=="eМЃ")throw new Error("broken implementation")}catch(e){return e.message}return null}const l2=o_();var x1;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(x1||(x1={}));var Yn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Yn||(Yn={}));const d2="0123456789abcdef";let Li=class Ur{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();j0[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(c2>j0[i])&&console.log.apply(console,r)}debug(...t){this._log(Ur.levels.DEBUG,t)}info(...t){this._log(Ur.levels.INFO,t)}warn(...t){this._log(Ur.levels.WARNING,t)}makeError(t,r,i){if(f2)return this.makeError("censored error",r,{});r||(r=Ur.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(w=>{const p=i[w];try{if(p instanceof Uint8Array){let _="";for(let I=0;I<p.length;I++)_+=d2[p[I]>>4],_+=d2[p[I]&15];n.push(w+"=Uint8Array(0x"+_+")")}else n.push(w+"="+JSON.stringify(p))}catch{n.push(w+"="+JSON.stringify(i[w].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const o=t;let c="";switch(r){case Yn.NUMERIC_FAULT:{c="NUMERIC_FAULT";const w=t;switch(w){case"overflow":case"underflow":case"division-by-zero":c+="-"+w;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case Yn.CALL_EXCEPTION:case Yn.INSUFFICIENT_FUNDS:case Yn.MISSING_NEW:case Yn.NONCE_EXPIRED:case Yn.REPLACEMENT_UNDERPRICED:case Yn.TRANSACTION_REPLACED:case Yn.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=o,v.code=r,Object.keys(i).forEach(function(w){v[w]=i[w]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,Ur.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){l2&&this.throwError("platform missing String.prototype.normalize",Ur.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:l2})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Ur.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Ur.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,Ur.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,Ur.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Ur.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ur.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Ur.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return ud||(ud=new Ur(s_)),ud}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ur.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),u2){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ur.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}f2=!!t,u2=!!r}static setLogLevel(t){const r=j0[t.toLowerCase()];if(r==null){Ur.globalLogger().warn("invalid log level - "+t);return}c2=r}static from(t){return new Ur(t)}};Li.errors=Yn,Li.levels=x1;const a_="bytes/5.7.0",ea=new Li(a_);function m6(e){return!!e.toHexString}function Q0(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Q0(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function p2(e){return typeof e=="number"&&e==e&&e%1===0}function rf(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!p2(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!p2(r)||r<0||r>=256)return!1}return!0}function v6(e,t){if(t||(t={}),typeof e=="number"){ea.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Q0(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),m6(e)&&(e=e.toHexString()),Ah(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":ea.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return Q0(new Uint8Array(i))}return rf(e)?Q0(new Uint8Array(e)):ea.throwArgumentError("invalid arrayify value","value",e)}function Ah(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t)}const fd="0123456789abcdef";function y6(e,t){if(t||(t={}),typeof e=="number"){ea.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=fd[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),m6(e))return e.toHexString();if(Ah(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":ea.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(rf(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=fd[(n&240)>>4]+fd[n&15]}return r}return ea.throwArgumentError("invalid hexlify value","value",e)}function dc(e,t){for(typeof e!="string"?e=y6(e):Ah(e)||ea.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&ea.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var w6={exports:{}},h_={},u_=Object.freeze({__proto__:null,default:h_}),f_=i_(u_);(function(e){(function(t,r){function i(s,u){if(!s)throw new Error(u||"Assertion failed")}function n(s,u){s.super_=u;var d=function(){};d.prototype=u.prototype,s.prototype=new d,s.prototype.constructor=s}function o(s,u,d){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(s||0,u||10,d||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=f_.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,u){return s.cmp(u)>0?s:u},o.min=function(s,u){return s.cmp(u)<0?s:u},o.prototype._init=function(s,u,d){if(typeof s=="number")return this._initNumber(s,u,d);if(typeof s=="object")return this._initArray(s,u,d);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var y=0;s[0]==="-"&&(y++,this.negative=1),y<s.length&&(u===16?this._parseHex(s,y,d):(this._parseBase(s,u,y),d==="le"&&this._initArray(this.toArray(),u,d)))},o.prototype._initNumber=function(s,u,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(i(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},o.prototype._initArray=function(s,u,d){if(i(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A,M,S=0;if(d==="be")for(y=s.length-1,A=0;y>=0;y-=3)M=s[y]|s[y-1]<<8|s[y-2]<<16,this.words[A]|=M<<S&67108863,this.words[A+1]=M>>>26-S&67108863,S+=24,S>=26&&(S-=26,A++);else if(d==="le")for(y=0,A=0;y<s.length;y+=3)M=s[y]|s[y+1]<<8|s[y+2]<<16,this.words[A]|=M<<S&67108863,this.words[A+1]=M>>>26-S&67108863,S+=24,S>=26&&(S-=26,A++);return this._strip()};function v(s,u){var d=s.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+s)}function w(s,u,d){var y=v(s,d);return d-1>=u&&(y|=v(s,d-1)<<4),y}o.prototype._parseHex=function(s,u,d){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A=0,M=0,S;if(d==="be")for(y=s.length-1;y>=u;y-=2)S=w(s,u,y)<<A,this.words[M]|=S&67108863,A>=18?(A-=18,M+=1,this.words[M]|=S>>>26):A+=8;else{var m=s.length-u;for(y=m%2===0?u+1:u;y<s.length;y+=2)S=w(s,u,y)<<A,this.words[M]|=S&67108863,A>=18?(A-=18,M+=1,this.words[M]|=S>>>26):A+=8}this._strip()};function p(s,u,d,y){for(var A=0,M=0,S=Math.min(s.length,d),m=u;m<S;m++){var a=s.charCodeAt(m)-48;A*=y,a>=49?M=a-49+10:a>=17?M=a-17+10:M=a,i(a>=0&&M<y,"Invalid character"),A+=M}return A}o.prototype._parseBase=function(s,u,d){this.words=[0],this.length=1;for(var y=0,A=1;A<=67108863;A*=u)y++;y--,A=A/u|0;for(var M=s.length-d,S=M%y,m=Math.min(M,M-S)+d,a=0,g=d;g<m;g+=y)a=p(s,g,g+y,u),this.imuln(A),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(S!==0){var Q=1;for(a=p(s,g,s.length,u),g=0;g<S;g++)Q*=u;this.imuln(Q),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(s,u){s.words=u.words,s.length=u.length,s.negative=u.negative,s.red=u.red}if(o.prototype._move=function(s){_(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{o.prototype.inspect=I}else o.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,u){s=s||10,u=u|0||1;var d;if(s===16||s==="hex"){d="";for(var y=0,A=0,M=0;M<this.length;M++){var S=this.words[M],m=((S<<y|A)&16777215).toString(16);A=S>>>24-y&16777215,y+=2,y>=26&&(y-=26,M--),A!==0||M!==this.length-1?d=B[6-m.length]+m+d:d=m+d}for(A!==0&&(d=A.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var a=R[s],g=O[s];d="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var j=Q.modrn(g).toString(s);Q=Q.idivn(g),Q.isZero()?d=j+d:d=B[a-j.length]+j+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},c&&(o.prototype.toBuffer=function(s,u){return this.toArrayLike(c,s,u)}),o.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var z=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};o.prototype.toArrayLike=function(s,u,d){this._strip();var y=this.byteLength(),A=d||Math.max(1,y);i(y<=A,"byte array longer than desired length"),i(A>0,"Requested array length <= 0");var M=z(s,A),S=u==="le"?"LE":"BE";return this["_toArrayLike"+S](M,y),M},o.prototype._toArrayLikeLE=function(s,u){for(var d=0,y=0,A=0,M=0;A<this.length;A++){var S=this.words[A]<<M|y;s[d++]=S&255,d<s.length&&(s[d++]=S>>8&255),d<s.length&&(s[d++]=S>>16&255),M===6?(d<s.length&&(s[d++]=S>>24&255),y=0,M=0):(y=S>>>24,M+=2)}if(d<s.length)for(s[d++]=y;d<s.length;)s[d++]=0},o.prototype._toArrayLikeBE=function(s,u){for(var d=s.length-1,y=0,A=0,M=0;A<this.length;A++){var S=this.words[A]<<M|y;s[d--]=S&255,d>=0&&(s[d--]=S>>8&255),d>=0&&(s[d--]=S>>16&255),M===6?(d>=0&&(s[d--]=S>>24&255),y=0,M=0):(y=S>>>24,M+=2)}if(d>=0)for(s[d--]=y;d>=0;)s[d--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var u=s,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},o.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,d=0;return u&8191||(d+=13,u>>>=13),u&127||(d+=7,u>>>=7),u&15||(d+=4,u>>>=4),u&3||(d+=2,u>>>=2),u&1||d++,d},o.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function k(s){for(var u=new Array(s.bitLength()),d=0;d<u.length;d++){var y=d/26|0,A=d%26;u[d]=s.words[y]>>>A&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(s+=d,d!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},o.prototype.ior=function(s){return i((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=u.length,this._strip()},o.prototype.iand=function(s){return i((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var u,d;this.length>s.length?(u=this,d=s):(u=s,d=this);for(var y=0;y<d.length;y++)this.words[y]=u.words[y]^d.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this._strip()},o.prototype.ixor=function(s){return i((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){i(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,d=s%26;this._expand(u),d>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return d>0&&(this.words[y]=~this.words[y]&67108863>>26-d),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,u){i(typeof s=="number"&&s>=0);var d=s/26|0,y=s%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<y:this.words[d]=this.words[d]&~(1<<y),this._strip()},o.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var d,y;this.length>s.length?(d=this,y=s):(d=s,y=this);for(var A=0,M=0;M<y.length;M++)u=(d.words[M]|0)+(y.words[M]|0)+A,this.words[M]=u&67108863,A=u>>>26;for(;A!==0&&M<d.length;M++)u=(d.words[M]|0)+A,this.words[M]=u&67108863,A=u>>>26;if(this.length=d.length,A!==0)this.words[this.length]=A,this.length++;else if(d!==this)for(;M<d.length;M++)this.words[M]=d.words[M];return this},o.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,A;d>0?(y=this,A=s):(y=s,A=this);for(var M=0,S=0;S<A.length;S++)u=(y.words[S]|0)-(A.words[S]|0)+M,M=u>>26,this.words[S]=u&67108863;for(;M!==0&&S<y.length;S++)u=(y.words[S]|0)+M,M=u>>26,this.words[S]=u&67108863;if(M===0&&S<y.length&&y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this.length=Math.max(this.length,S),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function J(s,u,d){d.negative=u.negative^s.negative;var y=s.length+u.length|0;d.length=y,y=y-1|0;var A=s.words[0]|0,M=u.words[0]|0,S=A*M,m=S&67108863,a=S/67108864|0;d.words[0]=m;for(var g=1;g<y;g++){for(var Q=a>>>26,j=a&67108863,f=Math.min(g,u.length-1),T=Math.max(0,g-s.length+1);T<=f;T++){var x=g-T|0;A=s.words[x]|0,M=u.words[T]|0,S=A*M+j,Q+=S/67108864|0,j=S&67108863}d.words[g]=j|0,a=Q|0}return a!==0?d.words[g]=a|0:d.length--,d._strip()}var rt=function(s,u,d){var y=s.words,A=u.words,M=d.words,S=0,m,a,g,Q=y[0]|0,j=Q&8191,f=Q>>>13,T=y[1]|0,x=T&8191,C=T>>>13,D=y[2]|0,E=D&8191,P=D>>>13,$=y[3]|0,G=$&8191,L=$>>>13,at=y[4]|0,ut=at&8191,ot=at>>>13,he=y[5]|0,St=he&8191,vt=he>>>13,te=y[6]|0,dt=te&8191,pt=te>>>13,ne=y[7]|0,ft=ne&8191,gt=ne>>>13,Zt=y[8]|0,ct=Zt&8191,wt=Zt>>>13,ee=y[9]|0,It=ee&8191,Rt=ee>>>13,pe=A[0]|0,Ot=pe&8191,Tt=pe>>>13,ge=A[1]|0,Dt=ge&8191,kt=ge>>>13,me=A[2]|0,Lt=me&8191,zt=me>>>13,xe=A[3]|0,At=xe&8191,mt=xe>>>13,se=A[4]|0,bt=se&8191,yt=se>>>13,ie=A[5]|0,xt=ie&8191,Nt=ie>>>13,oe=A[6]|0,Ct=oe&8191,Mt=oe>>>13,ae=A[7]|0,Et=ae&8191,lt=ae>>>13,ue=A[8]|0,Bt=ue&8191,Ht=ue>>>13,Ke=A[9]|0,Kt=Ke&8191,Ft=Ke>>>13;d.negative=s.negative^u.negative,d.length=19,m=Math.imul(j,Ot),a=Math.imul(j,Tt),a=a+Math.imul(f,Ot)|0,g=Math.imul(f,Tt);var Ne=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(x,Ot),a=Math.imul(x,Tt),a=a+Math.imul(C,Ot)|0,g=Math.imul(C,Tt),m=m+Math.imul(j,Dt)|0,a=a+Math.imul(j,kt)|0,a=a+Math.imul(f,Dt)|0,g=g+Math.imul(f,kt)|0;var Ce=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,m=Math.imul(E,Ot),a=Math.imul(E,Tt),a=a+Math.imul(P,Ot)|0,g=Math.imul(P,Tt),m=m+Math.imul(x,Dt)|0,a=a+Math.imul(x,kt)|0,a=a+Math.imul(C,Dt)|0,g=g+Math.imul(C,kt)|0,m=m+Math.imul(j,Lt)|0,a=a+Math.imul(j,zt)|0,a=a+Math.imul(f,Lt)|0,g=g+Math.imul(f,zt)|0;var Be=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,m=Math.imul(G,Ot),a=Math.imul(G,Tt),a=a+Math.imul(L,Ot)|0,g=Math.imul(L,Tt),m=m+Math.imul(E,Dt)|0,a=a+Math.imul(E,kt)|0,a=a+Math.imul(P,Dt)|0,g=g+Math.imul(P,kt)|0,m=m+Math.imul(x,Lt)|0,a=a+Math.imul(x,zt)|0,a=a+Math.imul(C,Lt)|0,g=g+Math.imul(C,zt)|0,m=m+Math.imul(j,At)|0,a=a+Math.imul(j,mt)|0,a=a+Math.imul(f,At)|0,g=g+Math.imul(f,mt)|0;var Re=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(ut,Ot),a=Math.imul(ut,Tt),a=a+Math.imul(ot,Ot)|0,g=Math.imul(ot,Tt),m=m+Math.imul(G,Dt)|0,a=a+Math.imul(G,kt)|0,a=a+Math.imul(L,Dt)|0,g=g+Math.imul(L,kt)|0,m=m+Math.imul(E,Lt)|0,a=a+Math.imul(E,zt)|0,a=a+Math.imul(P,Lt)|0,g=g+Math.imul(P,zt)|0,m=m+Math.imul(x,At)|0,a=a+Math.imul(x,mt)|0,a=a+Math.imul(C,At)|0,g=g+Math.imul(C,mt)|0,m=m+Math.imul(j,bt)|0,a=a+Math.imul(j,yt)|0,a=a+Math.imul(f,bt)|0,g=g+Math.imul(f,yt)|0;var Pe=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,m=Math.imul(St,Ot),a=Math.imul(St,Tt),a=a+Math.imul(vt,Ot)|0,g=Math.imul(vt,Tt),m=m+Math.imul(ut,Dt)|0,a=a+Math.imul(ut,kt)|0,a=a+Math.imul(ot,Dt)|0,g=g+Math.imul(ot,kt)|0,m=m+Math.imul(G,Lt)|0,a=a+Math.imul(G,zt)|0,a=a+Math.imul(L,Lt)|0,g=g+Math.imul(L,zt)|0,m=m+Math.imul(E,At)|0,a=a+Math.imul(E,mt)|0,a=a+Math.imul(P,At)|0,g=g+Math.imul(P,mt)|0,m=m+Math.imul(x,bt)|0,a=a+Math.imul(x,yt)|0,a=a+Math.imul(C,bt)|0,g=g+Math.imul(C,yt)|0,m=m+Math.imul(j,xt)|0,a=a+Math.imul(j,Nt)|0,a=a+Math.imul(f,xt)|0,g=g+Math.imul(f,Nt)|0;var ve=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,m=Math.imul(dt,Ot),a=Math.imul(dt,Tt),a=a+Math.imul(pt,Ot)|0,g=Math.imul(pt,Tt),m=m+Math.imul(St,Dt)|0,a=a+Math.imul(St,kt)|0,a=a+Math.imul(vt,Dt)|0,g=g+Math.imul(vt,kt)|0,m=m+Math.imul(ut,Lt)|0,a=a+Math.imul(ut,zt)|0,a=a+Math.imul(ot,Lt)|0,g=g+Math.imul(ot,zt)|0,m=m+Math.imul(G,At)|0,a=a+Math.imul(G,mt)|0,a=a+Math.imul(L,At)|0,g=g+Math.imul(L,mt)|0,m=m+Math.imul(E,bt)|0,a=a+Math.imul(E,yt)|0,a=a+Math.imul(P,bt)|0,g=g+Math.imul(P,yt)|0,m=m+Math.imul(x,xt)|0,a=a+Math.imul(x,Nt)|0,a=a+Math.imul(C,xt)|0,g=g+Math.imul(C,Nt)|0,m=m+Math.imul(j,Ct)|0,a=a+Math.imul(j,Mt)|0,a=a+Math.imul(f,Ct)|0,g=g+Math.imul(f,Mt)|0;var dr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ft,Ot),a=Math.imul(ft,Tt),a=a+Math.imul(gt,Ot)|0,g=Math.imul(gt,Tt),m=m+Math.imul(dt,Dt)|0,a=a+Math.imul(dt,kt)|0,a=a+Math.imul(pt,Dt)|0,g=g+Math.imul(pt,kt)|0,m=m+Math.imul(St,Lt)|0,a=a+Math.imul(St,zt)|0,a=a+Math.imul(vt,Lt)|0,g=g+Math.imul(vt,zt)|0,m=m+Math.imul(ut,At)|0,a=a+Math.imul(ut,mt)|0,a=a+Math.imul(ot,At)|0,g=g+Math.imul(ot,mt)|0,m=m+Math.imul(G,bt)|0,a=a+Math.imul(G,yt)|0,a=a+Math.imul(L,bt)|0,g=g+Math.imul(L,yt)|0,m=m+Math.imul(E,xt)|0,a=a+Math.imul(E,Nt)|0,a=a+Math.imul(P,xt)|0,g=g+Math.imul(P,Nt)|0,m=m+Math.imul(x,Ct)|0,a=a+Math.imul(x,Mt)|0,a=a+Math.imul(C,Ct)|0,g=g+Math.imul(C,Mt)|0,m=m+Math.imul(j,Et)|0,a=a+Math.imul(j,lt)|0,a=a+Math.imul(f,Et)|0,g=g+Math.imul(f,lt)|0;var Nr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,m=Math.imul(ct,Ot),a=Math.imul(ct,Tt),a=a+Math.imul(wt,Ot)|0,g=Math.imul(wt,Tt),m=m+Math.imul(ft,Dt)|0,a=a+Math.imul(ft,kt)|0,a=a+Math.imul(gt,Dt)|0,g=g+Math.imul(gt,kt)|0,m=m+Math.imul(dt,Lt)|0,a=a+Math.imul(dt,zt)|0,a=a+Math.imul(pt,Lt)|0,g=g+Math.imul(pt,zt)|0,m=m+Math.imul(St,At)|0,a=a+Math.imul(St,mt)|0,a=a+Math.imul(vt,At)|0,g=g+Math.imul(vt,mt)|0,m=m+Math.imul(ut,bt)|0,a=a+Math.imul(ut,yt)|0,a=a+Math.imul(ot,bt)|0,g=g+Math.imul(ot,yt)|0,m=m+Math.imul(G,xt)|0,a=a+Math.imul(G,Nt)|0,a=a+Math.imul(L,xt)|0,g=g+Math.imul(L,Nt)|0,m=m+Math.imul(E,Ct)|0,a=a+Math.imul(E,Mt)|0,a=a+Math.imul(P,Ct)|0,g=g+Math.imul(P,Mt)|0,m=m+Math.imul(x,Et)|0,a=a+Math.imul(x,lt)|0,a=a+Math.imul(C,Et)|0,g=g+Math.imul(C,lt)|0,m=m+Math.imul(j,Bt)|0,a=a+Math.imul(j,Ht)|0,a=a+Math.imul(f,Bt)|0,g=g+Math.imul(f,Ht)|0;var pr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(It,Ot),a=Math.imul(It,Tt),a=a+Math.imul(Rt,Ot)|0,g=Math.imul(Rt,Tt),m=m+Math.imul(ct,Dt)|0,a=a+Math.imul(ct,kt)|0,a=a+Math.imul(wt,Dt)|0,g=g+Math.imul(wt,kt)|0,m=m+Math.imul(ft,Lt)|0,a=a+Math.imul(ft,zt)|0,a=a+Math.imul(gt,Lt)|0,g=g+Math.imul(gt,zt)|0,m=m+Math.imul(dt,At)|0,a=a+Math.imul(dt,mt)|0,a=a+Math.imul(pt,At)|0,g=g+Math.imul(pt,mt)|0,m=m+Math.imul(St,bt)|0,a=a+Math.imul(St,yt)|0,a=a+Math.imul(vt,bt)|0,g=g+Math.imul(vt,yt)|0,m=m+Math.imul(ut,xt)|0,a=a+Math.imul(ut,Nt)|0,a=a+Math.imul(ot,xt)|0,g=g+Math.imul(ot,Nt)|0,m=m+Math.imul(G,Ct)|0,a=a+Math.imul(G,Mt)|0,a=a+Math.imul(L,Ct)|0,g=g+Math.imul(L,Mt)|0,m=m+Math.imul(E,Et)|0,a=a+Math.imul(E,lt)|0,a=a+Math.imul(P,Et)|0,g=g+Math.imul(P,lt)|0,m=m+Math.imul(x,Bt)|0,a=a+Math.imul(x,Ht)|0,a=a+Math.imul(C,Bt)|0,g=g+Math.imul(C,Ht)|0,m=m+Math.imul(j,Kt)|0,a=a+Math.imul(j,Ft)|0,a=a+Math.imul(f,Kt)|0,g=g+Math.imul(f,Ft)|0;var Cr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(It,Dt),a=Math.imul(It,kt),a=a+Math.imul(Rt,Dt)|0,g=Math.imul(Rt,kt),m=m+Math.imul(ct,Lt)|0,a=a+Math.imul(ct,zt)|0,a=a+Math.imul(wt,Lt)|0,g=g+Math.imul(wt,zt)|0,m=m+Math.imul(ft,At)|0,a=a+Math.imul(ft,mt)|0,a=a+Math.imul(gt,At)|0,g=g+Math.imul(gt,mt)|0,m=m+Math.imul(dt,bt)|0,a=a+Math.imul(dt,yt)|0,a=a+Math.imul(pt,bt)|0,g=g+Math.imul(pt,yt)|0,m=m+Math.imul(St,xt)|0,a=a+Math.imul(St,Nt)|0,a=a+Math.imul(vt,xt)|0,g=g+Math.imul(vt,Nt)|0,m=m+Math.imul(ut,Ct)|0,a=a+Math.imul(ut,Mt)|0,a=a+Math.imul(ot,Ct)|0,g=g+Math.imul(ot,Mt)|0,m=m+Math.imul(G,Et)|0,a=a+Math.imul(G,lt)|0,a=a+Math.imul(L,Et)|0,g=g+Math.imul(L,lt)|0,m=m+Math.imul(E,Bt)|0,a=a+Math.imul(E,Ht)|0,a=a+Math.imul(P,Bt)|0,g=g+Math.imul(P,Ht)|0,m=m+Math.imul(x,Kt)|0,a=a+Math.imul(x,Ft)|0,a=a+Math.imul(C,Kt)|0,g=g+Math.imul(C,Ft)|0;var Br=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(It,Lt),a=Math.imul(It,zt),a=a+Math.imul(Rt,Lt)|0,g=Math.imul(Rt,zt),m=m+Math.imul(ct,At)|0,a=a+Math.imul(ct,mt)|0,a=a+Math.imul(wt,At)|0,g=g+Math.imul(wt,mt)|0,m=m+Math.imul(ft,bt)|0,a=a+Math.imul(ft,yt)|0,a=a+Math.imul(gt,bt)|0,g=g+Math.imul(gt,yt)|0,m=m+Math.imul(dt,xt)|0,a=a+Math.imul(dt,Nt)|0,a=a+Math.imul(pt,xt)|0,g=g+Math.imul(pt,Nt)|0,m=m+Math.imul(St,Ct)|0,a=a+Math.imul(St,Mt)|0,a=a+Math.imul(vt,Ct)|0,g=g+Math.imul(vt,Mt)|0,m=m+Math.imul(ut,Et)|0,a=a+Math.imul(ut,lt)|0,a=a+Math.imul(ot,Et)|0,g=g+Math.imul(ot,lt)|0,m=m+Math.imul(G,Bt)|0,a=a+Math.imul(G,Ht)|0,a=a+Math.imul(L,Bt)|0,g=g+Math.imul(L,Ht)|0,m=m+Math.imul(E,Kt)|0,a=a+Math.imul(E,Ft)|0,a=a+Math.imul(P,Kt)|0,g=g+Math.imul(P,Ft)|0;var gr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(It,At),a=Math.imul(It,mt),a=a+Math.imul(Rt,At)|0,g=Math.imul(Rt,mt),m=m+Math.imul(ct,bt)|0,a=a+Math.imul(ct,yt)|0,a=a+Math.imul(wt,bt)|0,g=g+Math.imul(wt,yt)|0,m=m+Math.imul(ft,xt)|0,a=a+Math.imul(ft,Nt)|0,a=a+Math.imul(gt,xt)|0,g=g+Math.imul(gt,Nt)|0,m=m+Math.imul(dt,Ct)|0,a=a+Math.imul(dt,Mt)|0,a=a+Math.imul(pt,Ct)|0,g=g+Math.imul(pt,Mt)|0,m=m+Math.imul(St,Et)|0,a=a+Math.imul(St,lt)|0,a=a+Math.imul(vt,Et)|0,g=g+Math.imul(vt,lt)|0,m=m+Math.imul(ut,Bt)|0,a=a+Math.imul(ut,Ht)|0,a=a+Math.imul(ot,Bt)|0,g=g+Math.imul(ot,Ht)|0,m=m+Math.imul(G,Kt)|0,a=a+Math.imul(G,Ft)|0,a=a+Math.imul(L,Kt)|0,g=g+Math.imul(L,Ft)|0;var _r=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(It,bt),a=Math.imul(It,yt),a=a+Math.imul(Rt,bt)|0,g=Math.imul(Rt,yt),m=m+Math.imul(ct,xt)|0,a=a+Math.imul(ct,Nt)|0,a=a+Math.imul(wt,xt)|0,g=g+Math.imul(wt,Nt)|0,m=m+Math.imul(ft,Ct)|0,a=a+Math.imul(ft,Mt)|0,a=a+Math.imul(gt,Ct)|0,g=g+Math.imul(gt,Mt)|0,m=m+Math.imul(dt,Et)|0,a=a+Math.imul(dt,lt)|0,a=a+Math.imul(pt,Et)|0,g=g+Math.imul(pt,lt)|0,m=m+Math.imul(St,Bt)|0,a=a+Math.imul(St,Ht)|0,a=a+Math.imul(vt,Bt)|0,g=g+Math.imul(vt,Ht)|0,m=m+Math.imul(ut,Kt)|0,a=a+Math.imul(ut,Ft)|0,a=a+Math.imul(ot,Kt)|0,g=g+Math.imul(ot,Ft)|0;var Sr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(It,xt),a=Math.imul(It,Nt),a=a+Math.imul(Rt,xt)|0,g=Math.imul(Rt,Nt),m=m+Math.imul(ct,Ct)|0,a=a+Math.imul(ct,Mt)|0,a=a+Math.imul(wt,Ct)|0,g=g+Math.imul(wt,Mt)|0,m=m+Math.imul(ft,Et)|0,a=a+Math.imul(ft,lt)|0,a=a+Math.imul(gt,Et)|0,g=g+Math.imul(gt,lt)|0,m=m+Math.imul(dt,Bt)|0,a=a+Math.imul(dt,Ht)|0,a=a+Math.imul(pt,Bt)|0,g=g+Math.imul(pt,Ht)|0,m=m+Math.imul(St,Kt)|0,a=a+Math.imul(St,Ft)|0,a=a+Math.imul(vt,Kt)|0,g=g+Math.imul(vt,Ft)|0;var er=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(It,Ct),a=Math.imul(It,Mt),a=a+Math.imul(Rt,Ct)|0,g=Math.imul(Rt,Mt),m=m+Math.imul(ct,Et)|0,a=a+Math.imul(ct,lt)|0,a=a+Math.imul(wt,Et)|0,g=g+Math.imul(wt,lt)|0,m=m+Math.imul(ft,Bt)|0,a=a+Math.imul(ft,Ht)|0,a=a+Math.imul(gt,Bt)|0,g=g+Math.imul(gt,Ht)|0,m=m+Math.imul(dt,Kt)|0,a=a+Math.imul(dt,Ft)|0,a=a+Math.imul(pt,Kt)|0,g=g+Math.imul(pt,Ft)|0;var Rr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(It,Et),a=Math.imul(It,lt),a=a+Math.imul(Rt,Et)|0,g=Math.imul(Rt,lt),m=m+Math.imul(ct,Bt)|0,a=a+Math.imul(ct,Ht)|0,a=a+Math.imul(wt,Bt)|0,g=g+Math.imul(wt,Ht)|0,m=m+Math.imul(ft,Kt)|0,a=a+Math.imul(ft,Ft)|0,a=a+Math.imul(gt,Kt)|0,g=g+Math.imul(gt,Ft)|0;var Pr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(It,Bt),a=Math.imul(It,Ht),a=a+Math.imul(Rt,Bt)|0,g=Math.imul(Rt,Ht),m=m+Math.imul(ct,Kt)|0,a=a+Math.imul(ct,Ft)|0,a=a+Math.imul(wt,Kt)|0,g=g+Math.imul(wt,Ft)|0;var Tr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(It,Kt),a=Math.imul(It,Ft),a=a+Math.imul(Rt,Kt)|0,g=Math.imul(Rt,Ft);var Or=(S+m|0)+((a&8191)<<13)|0;return S=(g+(a>>>13)|0)+(Or>>>26)|0,Or&=67108863,M[0]=Ne,M[1]=Ce,M[2]=Be,M[3]=Re,M[4]=Pe,M[5]=ve,M[6]=dr,M[7]=Nr,M[8]=pr,M[9]=Cr,M[10]=Br,M[11]=gr,M[12]=_r,M[13]=Sr,M[14]=er,M[15]=Rr,M[16]=Pr,M[17]=Tr,M[18]=Or,S!==0&&(M[19]=S,d.length++),d};Math.imul||(rt=J);function ht(s,u,d){d.negative=u.negative^s.negative,d.length=s.length+u.length;for(var y=0,A=0,M=0;M<d.length-1;M++){var S=A;A=0;for(var m=y&67108863,a=Math.min(M,u.length-1),g=Math.max(0,M-s.length+1);g<=a;g++){var Q=M-g,j=s.words[Q]|0,f=u.words[g]|0,T=j*f,x=T&67108863;S=S+(T/67108864|0)|0,x=x+m|0,m=x&67108863,S=S+(x>>>26)|0,A+=S>>>26,S&=67108863}d.words[M]=m,y=S,S=A}return y!==0?d.words[M]=y:d.length--,d._strip()}function et(s,u,d){return ht(s,u,d)}o.prototype.mulTo=function(s,u){var d,y=this.length+s.length;return this.length===10&&s.length===10?d=rt(this,s,u):y<63?d=J(this,s,u):y<1024?d=ht(this,s,u):d=et(this,s,u),d},o.prototype.mul=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},o.prototype.mulf=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),et(this,s,u)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var u=s<0;u&&(s=-s),i(typeof s=="number"),i(s<67108864);for(var d=0,y=0;y<this.length;y++){var A=(this.words[y]|0)*s,M=(A&67108863)+(d&67108863);d>>=26,d+=A/67108864|0,d+=M>>>26,this.words[y]=M&67108863}return d!==0&&(this.words[y]=d,this.length++),u?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var u=k(s);if(u.length===0)return new o(1);for(var d=this,y=0;y<u.length&&u[y]===0;y++,d=d.sqr());if(++y<u.length)for(var A=d.sqr();y<u.length;y++,A=A.sqr())u[y]!==0&&(d=d.mul(A));return d},o.prototype.iushln=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,y=67108863>>>26-u<<26-u,A;if(u!==0){var M=0;for(A=0;A<this.length;A++){var S=this.words[A]&y,m=(this.words[A]|0)-S<<u;this.words[A]=m|M,M=S>>>26-u}M&&(this.words[A]=M,this.length++)}if(d!==0){for(A=this.length-1;A>=0;A--)this.words[A+d]=this.words[A];for(A=0;A<d;A++)this.words[A]=0;this.length+=d}return this._strip()},o.prototype.ishln=function(s){return i(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,u,d){i(typeof s=="number"&&s>=0);var y;u?y=(u-u%26)/26:y=0;var A=s%26,M=Math.min((s-A)/26,this.length),S=67108863^67108863>>>A<<A,m=d;if(y-=M,y=Math.max(0,y),m){for(var a=0;a<M;a++)m.words[a]=this.words[a];m.length=M}if(M!==0)if(this.length>M)for(this.length-=M,a=0;a<this.length;a++)this.words[a]=this.words[a+M];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=y);a--){var Q=this.words[a]|0;this.words[a]=g<<26-A|Q>>>A,g=Q&S}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,u,d){return i(this.negative===0),this.iushrn(s,u,d)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,y=1<<u;if(this.length<=d)return!1;var A=this.words[d];return!!(A&y)},o.prototype.imaskn=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return i(typeof s=="number"),i(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},o.prototype.isubn=function(s){if(i(typeof s=="number"),i(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,u,d){var y=s.length+d,A;this._expand(y);var M,S=0;for(A=0;A<s.length;A++){M=(this.words[A+d]|0)+S;var m=(s.words[A]|0)*u;M-=m&67108863,S=(M>>26)-(m/67108864|0),this.words[A+d]=M&67108863}for(;A<this.length-d;A++)M=(this.words[A+d]|0)+S,S=M>>26,this.words[A+d]=M&67108863;if(S===0)return this._strip();for(i(S===-1),S=0,A=0;A<this.length;A++)M=-(this.words[A]|0)+S,S=M>>26,this.words[A]=M&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,u){var d=this.length-s.length,y=this.clone(),A=s,M=A.words[A.length-1]|0,S=this._countBits(M);d=26-S,d!==0&&(A=A.ushln(d),y.iushln(d),M=A.words[A.length-1]|0);var m=y.length-A.length,a;if(u!=="mod"){a=new o(null),a.length=m+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var Q=y.clone()._ishlnsubmul(A,1,m);Q.negative===0&&(y=Q,a&&(a.words[m]=1));for(var j=m-1;j>=0;j--){var f=(y.words[A.length+j]|0)*67108864+(y.words[A.length+j-1]|0);for(f=Math.min(f/M|0,67108863),y._ishlnsubmul(A,f,j);y.negative!==0;)f--,y.negative=0,y._ishlnsubmul(A,1,j),y.isZero()||(y.negative^=1);a&&(a.words[j]=f)}return a&&a._strip(),y._strip(),u!=="div"&&d!==0&&y.iushrn(d),{div:a||null,mod:y}},o.prototype.divmod=function(s,u,d){if(i(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,A,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(y=M.div.neg()),u!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.iadd(s)),{div:y,mod:A}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(y=M.div.neg()),{div:y,mod:M.mod}):this.negative&s.negative?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.isub(s)),{div:M.div,mod:A}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,u)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(s):u.mod,y=s.ushrn(1),A=s.andln(1),M=d.cmp(y);return M<0||A===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},o.prototype.modrn=function(s){var u=s<0;u&&(s=-s),i(s<=67108863);for(var d=(1<<26)%s,y=0,A=this.length-1;A>=0;A--)y=(d*y+(this.words[A]|0))%s;return u?-y:y},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var u=s<0;u&&(s=-s),i(s<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var A=(this.words[y]|0)+d*67108864;this.words[y]=A/s|0,d=A%s}return this._strip(),u?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){i(s.negative===0),i(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var y=new o(1),A=new o(0),M=new o(0),S=new o(1),m=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++m;for(var a=d.clone(),g=u.clone();!u.isZero();){for(var Q=0,j=1;!(u.words[0]&j)&&Q<26;++Q,j<<=1);if(Q>0)for(u.iushrn(Q);Q-- >0;)(y.isOdd()||A.isOdd())&&(y.iadd(a),A.isub(g)),y.iushrn(1),A.iushrn(1);for(var f=0,T=1;!(d.words[0]&T)&&f<26;++f,T<<=1);if(f>0)for(d.iushrn(f);f-- >0;)(M.isOdd()||S.isOdd())&&(M.iadd(a),S.isub(g)),M.iushrn(1),S.iushrn(1);u.cmp(d)>=0?(u.isub(d),y.isub(M),A.isub(S)):(d.isub(u),M.isub(y),S.isub(A))}return{a:M,b:S,gcd:d.iushln(m)}},o.prototype._invmp=function(s){i(s.negative===0),i(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var y=new o(1),A=new o(0),M=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var S=0,m=1;!(u.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)y.isOdd()&&y.iadd(M),y.iushrn(1);for(var a=0,g=1;!(d.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(d.iushrn(a);a-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);u.cmp(d)>=0?(u.isub(d),y.isub(A)):(d.isub(u),A.isub(y))}var Q;return u.cmpn(1)===0?Q=y:Q=A,Q.cmpn(0)<0&&Q.iadd(s),Q},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),d=s.clone();u.negative=0,d.negative=0;for(var y=0;u.isEven()&&d.isEven();y++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var A=u.cmp(d);if(A<0){var M=u;u=d,d=M}else if(A===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(y)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){i(typeof s=="number");var u=s%26,d=(s-u)/26,y=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=y,this;for(var A=y,M=d;A!==0&&M<this.length;M++){var S=this.words[M]|0;S+=A,A=S>>>26,S&=67108863,this.words[M]=S}return A!==0&&(this.words[M]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(s=-s),i(s<=67108863,"Number is too big");var y=this.words[0]|0;d=y===s?0:y<s?-1:1}return this.negative!==0?-d|0:d},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var y=this.words[d]|0,A=s.words[d]|0;if(y!==A){y<A?u=-1:y>A&&(u=1);break}}return u},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new _t(s)},o.prototype.toRed=function(s){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return i(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return i(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var W={k256:null,p224:null,p192:null,p25519:null};function V(s,u){this.name=s,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},V.prototype.ireduce=function(s){var u=s,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var y=d<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},V.prototype.split=function(s,u){s.iushrn(this.n,0,u)},V.prototype.imulK=function(s){return s.imul(this.k)};function nt(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(nt,V),nt.prototype.split=function(s,u){for(var d=4194303,y=Math.min(s.length,9),A=0;A<y;A++)u.words[A]=s.words[A];if(u.length=y,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&d,A=10;A<s.length;A++){var S=s.words[A]|0;s.words[A-10]=(S&d)<<4|M>>>22,M=S}M>>>=22,s.words[A-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},nt.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,d=0;d<s.length;d++){var y=s.words[d]|0;u+=y*977,s.words[d]=u&67108863,u=y*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function it(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(it,V);function Qt(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Qt,V);function Yt(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Yt,V),Yt.prototype.imulK=function(s){for(var u=0,d=0;d<s.length;d++){var y=(s.words[d]|0)*19+u,A=y&67108863;y>>>=26,s.words[d]=A,u=y}return u!==0&&(s.words[s.length++]=u),s},o._prime=function(s){if(W[s])return W[s];var u;if(s==="k256")u=new nt;else if(s==="p224")u=new it;else if(s==="p192")u=new Qt;else if(s==="p25519")u=new Yt;else throw new Error("Unknown prime "+s);return W[s]=u,u};function _t(s){if(typeof s=="string"){var u=o._prime(s);this.m=u.p,this.prime=u}else i(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}_t.prototype._verify1=function(s){i(s.negative===0,"red works only with positives"),i(s.red,"red works only with red numbers")},_t.prototype._verify2=function(s,u){i((s.negative|u.negative)===0,"red works only with positives"),i(s.red&&s.red===u.red,"red works only with red numbers")},_t.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},_t.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},_t.prototype.add=function(s,u){this._verify2(s,u);var d=s.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},_t.prototype.iadd=function(s,u){this._verify2(s,u);var d=s.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},_t.prototype.sub=function(s,u){this._verify2(s,u);var d=s.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},_t.prototype.isub=function(s,u){this._verify2(s,u);var d=s.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},_t.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},_t.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},_t.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},_t.prototype.isqr=function(s){return this.imul(s,s.clone())},_t.prototype.sqr=function(s){return this.mul(s,s)},_t.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var d=this.m.add(new o(1)).iushrn(2);return this.pow(s,d)}for(var y=this.m.subn(1),A=0;!y.isZero()&&y.andln(1)===0;)A++,y.iushrn(1);i(!y.isZero());var M=new o(1).toRed(this),S=M.redNeg(),m=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new o(2*a*a).toRed(this);this.pow(a,m).cmp(S)!==0;)a.redIAdd(S);for(var g=this.pow(a,y),Q=this.pow(s,y.addn(1).iushrn(1)),j=this.pow(s,y),f=A;j.cmp(M)!==0;){for(var T=j,x=0;T.cmp(M)!==0;x++)T=T.redSqr();i(x<f);var C=this.pow(g,new o(1).iushln(f-x-1));Q=Q.redMul(C),g=C.redSqr(),j=j.redMul(g),f=x}return Q},_t.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},_t.prototype.pow=function(s,u){if(u.isZero())return new o(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var d=4,y=new Array(1<<d);y[0]=new o(1).toRed(this),y[1]=s;for(var A=2;A<y.length;A++)y[A]=this.mul(y[A-1],s);var M=y[0],S=0,m=0,a=u.bitLength()%26;for(a===0&&(a=26),A=u.length-1;A>=0;A--){for(var g=u.words[A],Q=a-1;Q>=0;Q--){var j=g>>Q&1;if(M!==y[0]&&(M=this.sqr(M)),j===0&&S===0){m=0;continue}S<<=1,S|=j,m++,!(m!==d&&(A!==0||Q!==0))&&(M=this.mul(M,y[S]),m=0,S=0)}a=26}return M},_t.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},_t.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},o.mont=function(s){return new Vt(s)};function Vt(s){_t.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Vt,_t),Vt.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Vt.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},Vt.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(u),y=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(y).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},Vt.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new o(0)._forceRed(this);var d=s.mul(u),y=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(y).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},Vt.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,g6)})(w6);var be=w6.exports;const A6="bignumber/5.7.0";var N1=be.BN;const yo=new Li(A6),cd={},g2=9007199254740991;function c_(e){return e!=null&&(Ei.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Ah(e)||typeof e=="bigint"||rf(e))}let m2=!1,Ei=class Qn{constructor(t,r){t!==cd&&yo.throwError("cannot call constructor directly; use BigNumber.from",Li.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Pi(Fe(this).fromTwos(t))}toTwos(t){return Pi(Fe(this).toTwos(t))}abs(){return this._hex[0]==="-"?Qn.from(this._hex.substring(1)):this}add(t){return Pi(Fe(this).add(Fe(t)))}sub(t){return Pi(Fe(this).sub(Fe(t)))}div(t){return Qn.from(t).isZero()&&dn("division-by-zero","div"),Pi(Fe(this).div(Fe(t)))}mul(t){return Pi(Fe(this).mul(Fe(t)))}mod(t){const r=Fe(t);return r.isNeg()&&dn("division-by-zero","mod"),Pi(Fe(this).umod(r))}pow(t){const r=Fe(t);return r.isNeg()&&dn("negative-power","pow"),Pi(Fe(this).pow(r))}and(t){const r=Fe(t);return(this.isNegative()||r.isNeg())&&dn("unbound-bitwise-result","and"),Pi(Fe(this).and(r))}or(t){const r=Fe(t);return(this.isNegative()||r.isNeg())&&dn("unbound-bitwise-result","or"),Pi(Fe(this).or(r))}xor(t){const r=Fe(t);return(this.isNegative()||r.isNeg())&&dn("unbound-bitwise-result","xor"),Pi(Fe(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&dn("negative-width","mask"),Pi(Fe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&dn("negative-width","shl"),Pi(Fe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&dn("negative-width","shr"),Pi(Fe(this).shrn(t))}eq(t){return Fe(this).eq(Fe(t))}lt(t){return Fe(this).lt(Fe(t))}lte(t){return Fe(this).lte(Fe(t))}gt(t){return Fe(this).gt(Fe(t))}gte(t){return Fe(this).gte(Fe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Fe(this).isZero()}toNumber(){try{return Fe(this).toNumber()}catch{dn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return yo.throwError("this platform does not support BigInt",Li.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?m2||(m2=!0,yo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?yo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Li.errors.UNEXPECTED_ARGUMENT,{}):yo.throwError("BigNumber.toString does not accept parameters",Li.errors.UNEXPECTED_ARGUMENT,{})),Fe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Qn)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Qn(cd,Ju(t)):t.match(/^-?[0-9]+$/)?new Qn(cd,Ju(new N1(t))):yo.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&dn("underflow","BigNumber.from",t),(t>=g2||t<=-g2)&&dn("overflow","BigNumber.from",t),Qn.from(String(t));const r=t;if(typeof r=="bigint")return Qn.from(r.toString());if(rf(r))return Qn.from(y6(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return Qn.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Ah(i)||i[0]==="-"&&Ah(i.substring(1))))return Qn.from(i)}return yo.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function Ju(e){if(typeof e!="string")return Ju(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&yo.throwArgumentError("invalid hex","value",e),e=Ju(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Pi(e){return Ei.from(Ju(e))}function Fe(e){const t=Ei.from(e).toHexString();return t[0]==="-"?new N1("-"+t.substring(3),16):new N1(t.substring(2),16)}function dn(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),yo.throwError(e,Li.errors.NUMERIC_FAULT,i)}const yi=new Li(A6),Uu={},b6=Ei.from(0),M6=Ei.from(-1);function E6(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),yi.throwError(e,Li.errors.NUMERIC_FAULT,n)}let ku="0";for(;ku.length<256;)ku+=ku;function gp(e){if(typeof e!="number")try{e=Ei.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+ku.substring(0,e):yi.throwArgumentError("invalid decimal size","decimals",e)}function ld(e,t){t==null&&(t=0);const r=gp(t);e=Ei.from(e);const i=e.lt(b6);i&&(e=e.mul(M6));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return r.length===1?e=o:e=o+"."+n,i&&(e="-"+e),e}function lo(e,t){t==null&&(t=0);const r=gp(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&yi.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&yi.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&yi.throwArgumentError("too many decimal points","value",e);let o=n[0],c=n[1];for(o||(o="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&E6("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const v=Ei.from(o),w=Ei.from(c);let p=v.mul(r).add(w);return i&&(p=p.mul(M6)),p}let dd=class C1{constructor(t,r,i,n){t!==Uu&&yi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Li.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=gp(n),Object.freeze(this)}static from(t){if(t instanceof C1)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||yi.throwArgumentError("invalid fixed format","format",t),r=o[1]!=="u",i=parseInt(o[2]),n=parseInt(o[3])}}else if(t){const o=(c,v,w)=>t[c]==null?w:(typeof t[c]!==v&&yi.throwArgumentError("invalid fixed format ("+c+" not "+v+")","format."+c,t[c]),t[c]);r=o("signed","boolean",r),i=o("width","number",i),n=o("decimals","number",n)}return i%8&&yi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&yi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new C1(Uu,r,i,n)}},_6=class pi{constructor(t,r,i,n){t!==Uu&&yi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Li.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&yi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=lo(this._value,this.format.decimals),i=lo(t._value,t.format.decimals);return pi.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=lo(this._value,this.format.decimals),i=lo(t._value,t.format.decimals);return pi.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=lo(this._value,this.format.decimals),i=lo(t._value,t.format.decimals);return pi.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=lo(this._value,this.format.decimals),i=lo(t._value,t.format.decimals);return pi.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=pi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(v2.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=pi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(v2.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&yi.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=pi.from("1"+ku.substring(0,t),this.format),n=l_.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&yi.throwArgumentError("invalid byte width","width",t);const r=Ei.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return dc(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return pi.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!c_(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),pi.fromString(ld(t,r),dd.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=dd.from(r),n=lo(t,i.decimals);!i.signed&&n.lt(b6)&&E6("unsigned value cannot be negative","overflow","value",t);let o=null;i.signed?o=n.toTwos(i.width).toHexString():(o=n.toHexString(),o=dc(o,i.width/8));const c=ld(n,i.decimals);return new pi(Uu,o,c,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=dd.from(r);if(v6(t).length>i.width/8)throw new Error("overflow");let n=Ei.from(t);i.signed&&(n=n.fromTwos(i.width));const o=n.toTwos((i.signed?0:1)+i.width).toHexString(),c=ld(n,i.decimals);return new pi(Uu,o,c,i)}static from(t,r){if(typeof t=="string")return pi.fromString(t,r);if(rf(t))return pi.fromBytes(t,r);try{return pi.fromValue(t,0,r)}catch(i){if(i.code!==Li.errors.INVALID_ARGUMENT)throw i}return yi.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const v2=_6.from(1),l_=_6.from("0.5");var y2;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(y2||(y2={}));var w2;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(w2||(w2={}));function d_(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function pd(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let o=n.split(":");r+=parseInt(o[0],16),i[r]=t(o[1])}),i}function A2(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}A2("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),pd("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),pd("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),pd("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",d_),A2("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function p_(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return v6(t)}function S6(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(o,c){i.call(o,function(v){c>0&&Array.isArray(v)?n(v,c-1):r.push(v)})};return n(e,t),r}function g_(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function m_(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,o=[0,1];for(let W=1;W<i;W++)o.push(n+=r());let c=r(),v=t;t+=c;let w=0,p=0;function _(){return w==0&&(p=p<<8|e[t++],w=8),p>>--w&1}const I=31,B=Math.pow(2,I),R=B>>>1,O=R>>1,z=B-1;let k=0;for(let W=0;W<I;W++)k=k<<1|_();let J=[],rt=0,ht=B;for(;;){let W=Math.floor(((k-rt+1)*n-1)/ht),V=0,nt=i;for(;nt-V>1;){let Yt=V+nt>>>1;W<o[Yt]?nt=Yt:V=Yt}if(V==0)break;J.push(V);let it=rt+Math.floor(ht*o[V]/n),Qt=rt+Math.floor(ht*o[V+1]/n)-1;for(;!((it^Qt)&R);)k=k<<1&z|_(),it=it<<1&z,Qt=Qt<<1&z|1;for(;it&~Qt&O;)k=k&R|k<<1&z>>>1|_(),it=it<<1^R,Qt=(Qt^R)<<1|R|1;rt=it,ht=1+Qt-it}let et=i-4;return J.map(W=>{switch(W-et){case 3:return et+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return et+256+(e[v++]<<8|e[v++]);case 1:return et+e[v++];default:return W-1}})}function v_(e){let t=0;return()=>e[t++]}function y_(e){return v_(m_(e))}function w_(e){return e&1?~e>>1:e>>1}function A_(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function b2(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function b_(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=w_(t());return r}function pc(e,t){let r=b2(e(),e),i=e(),n=b2(i,e),o=A_(i,e);for(let c=0;c<i;c++)for(let v=0;v<o[c];v++)r.push(n[c]+v);return t?r.map(c=>t[c]):r}function M_(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(__(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(S_(r,e))}return g_(S6(t))}function E_(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function I6(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)b_(e,r).forEach((o,c)=>i[c].push(o));return i}function __(e,t){let r=1+t(),i=t(),n=E_(t),o=I6(n.length,1+e,t);return S6(o.map((c,v)=>{const w=c[0],p=c.slice(1);return Array(n[v]).fill(void 0).map((_,I)=>{let B=I*i;return[w+I*r,p.map(R=>R+B)]})}))}function S_(e,t){let r=1+t();return I6(r,1+e,t).map(i=>[i[0],i.slice(1)])}function I_(e){let t=pc(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let p=pc(e,t);if(p.length==0)break;i.push({set:new Set(p),node:r()})}i.sort((p,_)=>_.set.size-p.set.size);let n=e(),o=n%3;n=n/3|0;let c=!!(n&1);n>>=1;let v=n==1,w=n==2;return{branches:i,valid:o,fe0f:c,save:v,check:w}}}function x_(){return y_(p_("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"))}const y0=x_();new Set(pc(y0)),new Set(pc(y0)),M_(y0),I_(y0);const N_=new Uint8Array(32);N_.fill(0);const C_=new Uint8Array(32);C_.fill(0),Ei.from(-1);const B_=Ei.from(0),R_=Ei.from(1);Ei.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),dc(R_.toHexString(),32),dc(B_.toHexString(),32);var As={},Le={},nf=x6;function x6(e,t){if(!e)throw new Error(t||"Assertion failed")}x6.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var B1={exports:{}};typeof Object.create=="function"?B1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:B1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var P_=nf,T_=B1.exports;Le.inherits=T_;function O_(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function D_(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):O_(e,n)?(o=65536+((o&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}Le.toArray=D_;function F_(e){for(var t="",r=0;r<e.length;r++)t+=C6(e[r].toString(16));return t}Le.toHex=F_;function N6(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Le.htonl=N6;function U_(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=N6(n)),r+=B6(n.toString(16))}return r}Le.toHex32=U_;function C6(e){return e.length===1?"0"+e:e}Le.zero2=C6;function B6(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Le.zero8=B6;function k_(e,t,r,i){var n=r-t;P_(n%4===0);for(var o=new Array(n/4),c=0,v=t;c<o.length;c++,v+=4){var w;i==="big"?w=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:w=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],o[c]=w>>>0}return o}Le.join32=k_;function q_(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var o=e[i];t==="big"?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=o&255)}return r}Le.split32=q_;function L_(e,t){return e>>>t|e<<32-t}Le.rotr32=L_;function z_(e,t){return e<<t|e>>>32-t}Le.rotl32=z_;function $_(e,t){return e+t>>>0}Le.sum32=$_;function H_(e,t,r){return e+t+r>>>0}Le.sum32_3=H_;function K_(e,t,r,i){return e+t+r+i>>>0}Le.sum32_4=K_;function j_(e,t,r,i,n){return e+t+r+i+n>>>0}Le.sum32_5=j_;function Q_(e,t,r,i){var n=e[t],o=e[t+1],c=i+o>>>0,v=(c<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=c}Le.sum64=Q_;function G_(e,t,r,i){var n=t+i>>>0,o=(n<t?1:0)+e+r;return o>>>0}Le.sum64_hi=G_;function J_(e,t,r,i){var n=t+i;return n>>>0}Le.sum64_lo=J_;function Y_(e,t,r,i,n,o,c,v){var w=0,p=t;p=p+i>>>0,w+=p<t?1:0,p=p+o>>>0,w+=p<o?1:0,p=p+v>>>0,w+=p<v?1:0;var _=e+r+n+c+w;return _>>>0}Le.sum64_4_hi=Y_;function V_(e,t,r,i,n,o,c,v){var w=t+i+o+v;return w>>>0}Le.sum64_4_lo=V_;function W_(e,t,r,i,n,o,c,v,w,p){var _=0,I=t;I=I+i>>>0,_+=I<t?1:0,I=I+o>>>0,_+=I<o?1:0,I=I+v>>>0,_+=I<v?1:0,I=I+p>>>0,_+=I<p?1:0;var B=e+r+n+c+w+_;return B>>>0}Le.sum64_5_hi=W_;function X_(e,t,r,i,n,o,c,v,w,p){var _=t+i+o+v+p;return _>>>0}Le.sum64_5_lo=X_;function Z_(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}Le.rotr64_hi=Z_;function tS(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Le.rotr64_lo=tS;function eS(e,t,r){return e>>>r}Le.shr64_hi=eS;function rS(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Le.shr64_lo=rS;var Dh={},M2=Le,iS=nf;function w0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Dh.BlockHash=w0,w0.prototype.update=function(e,t){if(e=M2.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=M2.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},w0.prototype.digest=function(e){return this.update(this._pad()),iS(this.pending===null),this._digest(e)},w0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,o=8;o<this.padLength;o++)i[n++]=0;return i};var oh={},Xs={},nS=Le,Us=nS.rotr32;function sS(e,t,r,i){if(e===0)return R6(t,r,i);if(e===1||e===3)return T6(t,r,i);if(e===2)return P6(t,r,i)}Xs.ft_1=sS;function R6(e,t,r){return e&t^~e&r}Xs.ch32=R6;function P6(e,t,r){return e&t^e&r^t&r}Xs.maj32=P6;function T6(e,t,r){return e^t^r}Xs.p32=T6;function oS(e){return Us(e,2)^Us(e,13)^Us(e,22)}Xs.s0_256=oS;function aS(e){return Us(e,6)^Us(e,11)^Us(e,25)}Xs.s1_256=aS;function hS(e){return Us(e,7)^Us(e,18)^e>>>3}Xs.g0_256=hS;function uS(e){return Us(e,17)^Us(e,19)^e>>>10}Xs.g1_256=uS;var bh=Le,fS=Dh,cS=Xs,gd=bh.rotl32,mu=bh.sum32,lS=bh.sum32_5,dS=cS.ft_1,O6=fS.BlockHash,pS=[1518500249,1859775393,2400959708,3395469782];function Cs(){if(!(this instanceof Cs))return new Cs;O6.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}bh.inherits(Cs,O6);var gS=Cs;Cs.blockSize=512,Cs.outSize=160,Cs.hmacStrength=80,Cs.padLength=64,Cs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=gd(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],o=this.h[1],c=this.h[2],v=this.h[3],w=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),_=lS(gd(n,5),dS(p,o,c,v),w,r[i],pS[p]);w=v,v=c,c=gd(o,30),o=n,n=_}this.h[0]=mu(this.h[0],n),this.h[1]=mu(this.h[1],o),this.h[2]=mu(this.h[2],c),this.h[3]=mu(this.h[3],v),this.h[4]=mu(this.h[4],w)},Cs.prototype._digest=function(e){return e==="hex"?bh.toHex32(this.h,"big"):bh.split32(this.h,"big")};var Mh=Le,mS=Dh,Fh=Xs,vS=nf,kn=Mh.sum32,yS=Mh.sum32_4,wS=Mh.sum32_5,AS=Fh.ch32,bS=Fh.maj32,MS=Fh.s0_256,ES=Fh.s1_256,_S=Fh.g0_256,SS=Fh.g1_256,D6=mS.BlockHash,IS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bs(){if(!(this instanceof Bs))return new Bs;D6.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=IS,this.W=new Array(64)}Mh.inherits(Bs,D6);var F6=Bs;Bs.blockSize=512,Bs.outSize=256,Bs.hmacStrength=192,Bs.padLength=64,Bs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=yS(SS(r[i-2]),r[i-7],_S(r[i-15]),r[i-16]);var n=this.h[0],o=this.h[1],c=this.h[2],v=this.h[3],w=this.h[4],p=this.h[5],_=this.h[6],I=this.h[7];for(vS(this.k.length===r.length),i=0;i<r.length;i++){var B=wS(I,ES(w),AS(w,p,_),this.k[i],r[i]),R=kn(MS(n),bS(n,o,c));I=_,_=p,p=w,w=kn(v,B),v=c,c=o,o=n,n=kn(B,R)}this.h[0]=kn(this.h[0],n),this.h[1]=kn(this.h[1],o),this.h[2]=kn(this.h[2],c),this.h[3]=kn(this.h[3],v),this.h[4]=kn(this.h[4],w),this.h[5]=kn(this.h[5],p),this.h[6]=kn(this.h[6],_),this.h[7]=kn(this.h[7],I)},Bs.prototype._digest=function(e){return e==="hex"?Mh.toHex32(this.h,"big"):Mh.split32(this.h,"big")};var R1=Le,U6=F6;function Mo(){if(!(this instanceof Mo))return new Mo;U6.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}R1.inherits(Mo,U6);var xS=Mo;Mo.blockSize=512,Mo.outSize=224,Mo.hmacStrength=192,Mo.padLength=64,Mo.prototype._digest=function(e){return e==="hex"?R1.toHex32(this.h.slice(0,7),"big"):R1.split32(this.h.slice(0,7),"big")};var $i=Le,NS=Dh,CS=nf,ks=$i.rotr64_hi,qs=$i.rotr64_lo,k6=$i.shr64_hi,q6=$i.shr64_lo,Lo=$i.sum64,md=$i.sum64_hi,vd=$i.sum64_lo,BS=$i.sum64_4_hi,RS=$i.sum64_4_lo,PS=$i.sum64_5_hi,TS=$i.sum64_5_lo,L6=NS.BlockHash,OS=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Zn(){if(!(this instanceof Zn))return new Zn;L6.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=OS,this.W=new Array(160)}$i.inherits(Zn,L6);var z6=Zn;Zn.blockSize=1024,Zn.outSize=512,Zn.hmacStrength=192,Zn.padLength=128,Zn.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=jS(r[i-4],r[i-3]),o=QS(r[i-4],r[i-3]),c=r[i-14],v=r[i-13],w=HS(r[i-30],r[i-29]),p=KS(r[i-30],r[i-29]),_=r[i-32],I=r[i-31];r[i]=BS(n,o,c,v,w,p,_,I),r[i+1]=RS(n,o,c,v,w,p,_,I)}},Zn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],o=this.h[2],c=this.h[3],v=this.h[4],w=this.h[5],p=this.h[6],_=this.h[7],I=this.h[8],B=this.h[9],R=this.h[10],O=this.h[11],z=this.h[12],k=this.h[13],J=this.h[14],rt=this.h[15];CS(this.k.length===r.length);for(var ht=0;ht<r.length;ht+=2){var et=J,W=rt,V=zS(I,B),nt=$S(I,B),it=DS(I,B,R,O,z),Qt=FS(I,B,R,O,z,k),Yt=this.k[ht],_t=this.k[ht+1],Vt=r[ht],s=r[ht+1],u=PS(et,W,V,nt,it,Qt,Yt,_t,Vt,s),d=TS(et,W,V,nt,it,Qt,Yt,_t,Vt,s);et=qS(i,n),W=LS(i,n),V=US(i,n,o,c,v),nt=kS(i,n,o,c,v,w);var y=md(et,W,V,nt),A=vd(et,W,V,nt);J=z,rt=k,z=R,k=O,R=I,O=B,I=md(p,_,u,d),B=vd(_,_,u,d),p=v,_=w,v=o,w=c,o=i,c=n,i=md(u,d,y,A),n=vd(u,d,y,A)}Lo(this.h,0,i,n),Lo(this.h,2,o,c),Lo(this.h,4,v,w),Lo(this.h,6,p,_),Lo(this.h,8,I,B),Lo(this.h,10,R,O),Lo(this.h,12,z,k),Lo(this.h,14,J,rt)},Zn.prototype._digest=function(e){return e==="hex"?$i.toHex32(this.h,"big"):$i.split32(this.h,"big")};function DS(e,t,r,i,n){var o=e&r^~e&n;return o<0&&(o+=4294967296),o}function FS(e,t,r,i,n,o){var c=t&i^~t&o;return c<0&&(c+=4294967296),c}function US(e,t,r,i,n){var o=e&r^e&n^r&n;return o<0&&(o+=4294967296),o}function kS(e,t,r,i,n,o){var c=t&i^t&o^i&o;return c<0&&(c+=4294967296),c}function qS(e,t){var r=ks(e,t,28),i=ks(t,e,2),n=ks(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function LS(e,t){var r=qs(e,t,28),i=qs(t,e,2),n=qs(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function zS(e,t){var r=ks(e,t,14),i=ks(e,t,18),n=ks(t,e,9),o=r^i^n;return o<0&&(o+=4294967296),o}function $S(e,t){var r=qs(e,t,14),i=qs(e,t,18),n=qs(t,e,9),o=r^i^n;return o<0&&(o+=4294967296),o}function HS(e,t){var r=ks(e,t,1),i=ks(e,t,8),n=k6(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function KS(e,t){var r=qs(e,t,1),i=qs(e,t,8),n=q6(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function jS(e,t){var r=ks(e,t,19),i=ks(t,e,29),n=k6(e,t,6),o=r^i^n;return o<0&&(o+=4294967296),o}function QS(e,t){var r=qs(e,t,19),i=qs(t,e,29),n=q6(e,t,6),o=r^i^n;return o<0&&(o+=4294967296),o}var P1=Le,$6=z6;function Eo(){if(!(this instanceof Eo))return new Eo;$6.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}P1.inherits(Eo,$6);var GS=Eo;Eo.blockSize=1024,Eo.outSize=384,Eo.hmacStrength=192,Eo.padLength=128,Eo.prototype._digest=function(e){return e==="hex"?P1.toHex32(this.h.slice(0,12),"big"):P1.split32(this.h.slice(0,12),"big")},oh.sha1=gS,oh.sha224=xS,oh.sha256=F6,oh.sha384=GS,oh.sha512=z6;var H6={},Ma=Le,JS=Dh,A0=Ma.rotl32,E2=Ma.sum32,vu=Ma.sum32_3,_2=Ma.sum32_4,K6=JS.BlockHash;function bs(){if(!(this instanceof bs))return new bs;K6.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ma.inherits(bs,K6),H6.ripemd160=bs,bs.blockSize=512,bs.outSize=160,bs.hmacStrength=192,bs.padLength=64,bs.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],o=this.h[3],c=this.h[4],v=r,w=i,p=n,_=o,I=c,B=0;B<80;B++){var R=E2(A0(_2(r,S2(B,i,n,o),e[WS[B]+t],YS(B)),ZS[B]),c);r=c,c=o,o=A0(n,10),n=i,i=R,R=E2(A0(_2(v,S2(79-B,w,p,_),e[XS[B]+t],VS(B)),tI[B]),I),v=I,I=_,_=A0(p,10),p=w,w=R}R=vu(this.h[1],n,_),this.h[1]=vu(this.h[2],o,I),this.h[2]=vu(this.h[3],c,v),this.h[3]=vu(this.h[4],r,w),this.h[4]=vu(this.h[0],i,p),this.h[0]=R},bs.prototype._digest=function(e){return e==="hex"?Ma.toHex32(this.h,"little"):Ma.split32(this.h,"little")};function S2(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function YS(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function VS(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var WS=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],XS=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ZS=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],tI=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],eI=Le,rI=nf;function dh(e,t,r){if(!(this instanceof dh))return new dh(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(eI.toArray(t,r))}var iI=dh;dh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),rI(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},dh.prototype.update=function(e,t){return this.inner.update(e,t),this},dh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=Le,t.common=Dh,t.sha=oh,t.ripemd=H6,t.hmac=iI,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(As);function Uh(e,t,r){return r={path:t,exports:{},require:function(i,n){return nI(i,n??r.path)}},e(r,r.exports),r.exports}function nI(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var mp=j6;function j6(e,t){if(!e)throw new Error(t||"Assertion failed")}j6.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var ns=Uh(function(e,t){var r=t;function i(c,v){if(Array.isArray(c))return c.slice();if(!c)return[];var w=[];if(typeof c!="string"){for(var p=0;p<c.length;p++)w[p]=c[p]|0;return w}if(v==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var p=0;p<c.length;p+=2)w.push(parseInt(c[p]+c[p+1],16))}else for(var p=0;p<c.length;p++){var _=c.charCodeAt(p),I=_>>8,B=_&255;I?w.push(I,B):w.push(B)}return w}r.toArray=i;function n(c){return c.length===1?"0"+c:c}r.zero2=n;function o(c){for(var v="",w=0;w<c.length;w++)v+=n(c[w].toString(16));return v}r.toHex=o,r.encode=function(c,v){return v==="hex"?o(c):c}}),Zi=Uh(function(e,t){var r=t;r.assert=mp,r.toArray=ns.toArray,r.zero2=ns.zero2,r.toHex=ns.toHex,r.encode=ns.encode;function i(w,p,_){var I=new Array(Math.max(w.bitLength(),_)+1);I.fill(0);for(var B=1<<p+1,R=w.clone(),O=0;O<I.length;O++){var z,k=R.andln(B-1);R.isOdd()?(k>(B>>1)-1?z=(B>>1)-k:z=k,R.isubn(z)):z=0,I[O]=z,R.iushrn(1)}return I}r.getNAF=i;function n(w,p){var _=[[],[]];w=w.clone(),p=p.clone();for(var I=0,B=0,R;w.cmpn(-I)>0||p.cmpn(-B)>0;){var O=w.andln(3)+I&3,z=p.andln(3)+B&3;O===3&&(O=-1),z===3&&(z=-1);var k;O&1?(R=w.andln(7)+I&7,(R===3||R===5)&&z===2?k=-O:k=O):k=0,_[0].push(k);var J;z&1?(R=p.andln(7)+B&7,(R===3||R===5)&&O===2?J=-z:J=z):J=0,_[1].push(J),2*I===k+1&&(I=1-I),2*B===J+1&&(B=1-B),w.iushrn(1),p.iushrn(1)}return _}r.getJSF=n;function o(w,p,_){var I="_"+p;w.prototype[p]=function(){return this[I]!==void 0?this[I]:this[I]=_.call(this)}}r.cachedProperty=o;function c(w){return typeof w=="string"?r.toArray(w,"hex"):w}r.parseBytes=c;function v(w){return new be(w,"hex","le")}r.intFromLE=v}),b0=Zi.getNAF,sI=Zi.getJSF,gc=Zi.assert;function Qo(e,t){this.type=e,this.p=new be(t.p,16),this.red=t.prime?be.red(t.prime):be.mont(this.p),this.zero=new be(0).toRed(this.red),this.one=new be(1).toRed(this.red),this.two=new be(2).toRed(this.red),this.n=t.n&&new be(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Pa=Qo;Qo.prototype.point=function(){throw new Error("Not implemented")},Qo.prototype.validate=function(){throw new Error("Not implemented")},Qo.prototype._fixedNafMul=function(e,t){gc(e.precomputed);var r=e._getDoubles(),i=b0(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var o=[],c,v;for(c=0;c<i.length;c+=r.step){v=0;for(var w=c+r.step-1;w>=c;w--)v=(v<<1)+i[w];o.push(v)}for(var p=this.jpoint(null,null,null),_=this.jpoint(null,null,null),I=n;I>0;I--){for(c=0;c<o.length;c++)v=o[c],v===I?_=_.mixedAdd(r.points[c]):v===-I&&(_=_.mixedAdd(r.points[c].neg()));p=p.add(_)}return p.toP()},Qo.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=b0(t,r,this._bitLength),c=this.jpoint(null,null,null),v=o.length-1;v>=0;v--){for(var w=0;v>=0&&o[v]===0;v--)w++;if(v>=0&&w++,c=c.dblp(w),v<0)break;var p=o[v];gc(p!==0),e.type==="affine"?p>0?c=c.mixedAdd(n[p-1>>1]):c=c.mixedAdd(n[-p-1>>1].neg()):p>0?c=c.add(n[p-1>>1]):c=c.add(n[-p-1>>1].neg())}return e.type==="affine"?c.toP():c},Qo.prototype._wnafMulAdd=function(e,t,r,i,n){var o=this._wnafT1,c=this._wnafT2,v=this._wnafT3,w=0,p,_,I;for(p=0;p<i;p++){I=t[p];var B=I._getNAFPoints(e);o[p]=B.wnd,c[p]=B.points}for(p=i-1;p>=1;p-=2){var R=p-1,O=p;if(o[R]!==1||o[O]!==1){v[R]=b0(r[R],o[R],this._bitLength),v[O]=b0(r[O],o[O],this._bitLength),w=Math.max(v[R].length,w),w=Math.max(v[O].length,w);continue}var z=[t[R],null,null,t[O]];t[R].y.cmp(t[O].y)===0?(z[1]=t[R].add(t[O]),z[2]=t[R].toJ().mixedAdd(t[O].neg())):t[R].y.cmp(t[O].y.redNeg())===0?(z[1]=t[R].toJ().mixedAdd(t[O]),z[2]=t[R].add(t[O].neg())):(z[1]=t[R].toJ().mixedAdd(t[O]),z[2]=t[R].toJ().mixedAdd(t[O].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],J=sI(r[R],r[O]);for(w=Math.max(J[0].length,w),v[R]=new Array(w),v[O]=new Array(w),_=0;_<w;_++){var rt=J[0][_]|0,ht=J[1][_]|0;v[R][_]=k[(rt+1)*3+(ht+1)],v[O][_]=0,c[R]=z}}var et=this.jpoint(null,null,null),W=this._wnafT4;for(p=w;p>=0;p--){for(var V=0;p>=0;){var nt=!0;for(_=0;_<i;_++)W[_]=v[_][p]|0,W[_]!==0&&(nt=!1);if(!nt)break;V++,p--}if(p>=0&&V++,et=et.dblp(V),p<0)break;for(_=0;_<i;_++){var it=W[_];it!==0&&(it>0?I=c[_][it-1>>1]:it<0&&(I=c[_][-it-1>>1].neg()),I.type==="affine"?et=et.mixedAdd(I):et=et.add(I))}}for(p=0;p<i;p++)c[p]=null;return n?et:et.toP()};function pn(e,t){this.curve=e,this.type=t,this.precomputed=null}Qo.BasePoint=pn,pn.prototype.eq=function(){throw new Error("Not implemented")},pn.prototype.validate=function(){return this.curve.validate(this)},Qo.prototype.decodePoint=function(e,t){e=Zi.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?gc(e[e.length-1]%2===0):e[0]===7&&gc(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},pn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},pn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},pn.prototype.encode=function(e,t){return Zi.encode(this._encode(t),e)},pn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},pn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},pn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}},pn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},pn.prototype._getBeta=function(){return null},pn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var vp=Uh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),oI=Zi.assert;function Nn(e){Pa.call(this,"short",e),this.a=new be(e.a,16).toRed(this.red),this.b=new be(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}vp(Nn,Pa);var aI=Nn;Nn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new be(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new be(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],oI(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(c){return{a:new be(c.a,16),b:new be(c.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}},Nn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:be.mont(e),r=new be(2).toRed(t).redInvm(),i=r.redNeg(),n=new be(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(n).fromRed(),c=i.redSub(n).fromRed();return[o,c]},Nn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new be(1),o=new be(0),c=new be(0),v=new be(1),w,p,_,I,B,R,O,z=0,k,J;r.cmpn(0)!==0;){var rt=i.div(r);k=i.sub(rt.mul(r)),J=c.sub(rt.mul(n));var ht=v.sub(rt.mul(o));if(!_&&k.cmp(t)<0)w=O.neg(),p=n,_=k.neg(),I=J;else if(_&&++z===2)break;O=k,i=r,r=k,c=n,n=J,v=o,o=ht}B=k.neg(),R=J;var et=_.sqr().add(I.sqr()),W=B.sqr().add(R.sqr());return W.cmp(et)>=0&&(B=w,R=p),_.negative&&(_=_.neg(),I=I.neg()),B.negative&&(B=B.neg(),R=R.neg()),[{a:_,b:I},{a:B,b:R}]},Nn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),c=n.mul(r.a),v=o.mul(i.a),w=n.mul(r.b),p=o.mul(i.b),_=e.sub(c).sub(v),I=w.add(p).neg();return{k1:_,k2:I}},Nn.prototype.pointFromX=function(e,t){e=new be(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Nn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Nn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var c=this._endoSplit(t[o]),v=e[o],w=v._getBeta();c.k1.negative&&(c.k1.ineg(),v=v.neg(!0)),c.k2.negative&&(c.k2.ineg(),w=w.neg(!0)),i[o*2]=v,i[o*2+1]=w,n[o*2]=c.k1,n[o*2+1]=c.k2}for(var p=this._wnafMulAdd(1,i,n,o*2,r),_=0;_<o*2;_++)i[_]=null,n[_]=null;return p};function Hr(e,t,r,i){Pa.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new be(t,16),this.y=new be(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}vp(Hr,Pa.BasePoint),Nn.prototype.point=function(e,t,r){return new Hr(this,e,t,r)},Nn.prototype.pointFromJSON=function(e,t){return Hr.fromJSON(this,e,t)},Hr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Hr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Hr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(c){return e.point(c[0],c[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},Hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Hr.prototype.isInfinity=function(){return this.inf},Hr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Hr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),c=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,c)},Hr.prototype.getX=function(){return this.x.fromRed()},Hr.prototype.getY=function(){return this.y.fromRed()},Hr.prototype.mul=function(e){return e=new be(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Hr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Hr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Hr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Hr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Hr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Vr(e,t,r,i){Pa.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new be(0)):(this.x=new be(t,16),this.y=new be(r,16),this.z=new be(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}vp(Vr,Pa.BasePoint),Nn.prototype.jpoint=function(e,t,r){return new Vr(this,e,t,r)},Vr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Vr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Vr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),w=o.redSub(c);if(v.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=v.redSqr(),_=p.redMul(v),I=i.redMul(p),B=w.redSqr().redIAdd(_).redISub(I).redISub(I),R=w.redMul(I.redISub(B)).redISub(o.redMul(_)),O=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(B,R,O)},Vr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),c=r.redSub(i),v=n.redSub(o);if(c.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=c.redSqr(),p=w.redMul(c),_=r.redMul(w),I=v.redSqr().redIAdd(p).redISub(_).redISub(_),B=v.redMul(_.redISub(I)).redISub(n.redMul(p)),R=this.z.redMul(c);return this.curve.jpoint(I,B,R)},Vr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,o=this.x,c=this.y,v=this.z,w=v.redSqr().redSqr(),p=c.redAdd(c);for(t=0;t<e;t++){var _=o.redSqr(),I=p.redSqr(),B=I.redSqr(),R=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(w)),O=o.redMul(I),z=R.redSqr().redISub(O.redAdd(O)),k=O.redISub(z),J=R.redMul(k);J=J.redIAdd(J).redISub(B);var rt=p.redMul(v);t+1<e&&(w=w.redMul(B)),o=z,v=rt,p=J}return this.curve.jpoint(o,p.redMul(n),v)},Vr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Vr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var v=i.redAdd(i).redIAdd(i),w=v.redSqr().redISub(c).redISub(c),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),e=w,t=v.redMul(c.redISub(w)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),I=this.y.redSqr(),B=I.redSqr(),R=this.x.redAdd(I).redSqr().redISub(_).redISub(B);R=R.redIAdd(R);var O=_.redAdd(_).redIAdd(_),z=O.redSqr(),k=B.redIAdd(B);k=k.redIAdd(k),k=k.redIAdd(k),e=z.redISub(R).redISub(R),t=O.redMul(R.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Vr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),w=v.redSqr().redISub(c).redISub(c);e=w;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),t=v.redMul(c.redISub(w)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),I=this.y.redSqr(),B=this.x.redMul(I),R=this.x.redSub(_).redMul(this.x.redAdd(_));R=R.redAdd(R).redIAdd(R);var O=B.redIAdd(B);O=O.redIAdd(O);var z=O.redAdd(O);e=R.redSqr().redISub(z),r=this.y.redAdd(this.z).redSqr().redISub(I).redISub(_);var k=I.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=R.redMul(O.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},Vr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=t.redSqr(),c=r.redSqr(),v=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),w=t.redAdd(t);w=w.redIAdd(w);var p=w.redMul(c),_=v.redSqr().redISub(p.redAdd(p)),I=p.redISub(_),B=c.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=v.redMul(I).redISub(B),O=r.redAdd(r).redMul(i);return this.curve.jpoint(_,R,O)},Vr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(o);var v=c.redSqr(),w=i.redIAdd(i);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var p=n.redIAdd(c).redSqr().redISub(o).redISub(v).redISub(w),_=t.redMul(p);_=_.redIAdd(_),_=_.redIAdd(_);var I=this.x.redMul(v).redISub(_);I=I.redIAdd(I),I=I.redIAdd(I);var B=this.y.redMul(p.redMul(w.redISub(p)).redISub(c.redMul(v)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=this.z.redAdd(c).redSqr().redISub(r).redISub(v);return this.curve.jpoint(I,B,R)},Vr.prototype.mul=function(e,t){return e=new be(e,t),this.curve._wnafMul(this,e)},Vr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},Vr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},Vr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Vr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var G0=Uh(function(e,t){var r=t;r.base=Pa,r.short=aI,r.mont=null,r.edwards=null}),J0=Uh(function(e,t){var r=t,i=Zi.assert;function n(v){v.type==="short"?this.curve=new G0.short(v):v.type==="edwards"?this.curve=new G0.edwards(v):this.curve=new G0.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function o(v,w){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var p=new n(w);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:p}),p}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:As.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:As.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:As.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:As.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:As.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:As.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:As.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:As.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function Go(e){if(!(this instanceof Go))return new Go(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=ns.toArray(e.entropy,e.entropyEnc||"hex"),r=ns.toArray(e.nonce,e.nonceEnc||"hex"),i=ns.toArray(e.pers,e.persEnc||"hex");mp(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var I2=Go;Go.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Go.prototype._hmac=function(){return new As.hmac(this.hash,this.K)},Go.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Go.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=ns.toArray(e,t),r=ns.toArray(r,i),mp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Go.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=ns.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,e);return this._update(r),this._reseed++,ns.encode(o,t)};var yd=Zi.assert;function si(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var wd=si;si.fromPublic=function(e,t,r){return t instanceof si?t:new si(e,{pub:t,pubEnc:r})},si.fromPrivate=function(e,t,r){return t instanceof si?t:new si(e,{priv:t,privEnc:r})},si.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},si.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},si.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},si.prototype._importPrivate=function(e,t){this.priv=new be(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},si.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?yd(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&yd(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},si.prototype.derive=function(e){return e.validate()||yd(e.validate(),"public point not validated"),e.mul(this.priv).getX()},si.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},si.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},si.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var hI=Zi.assert;function qc(e,t){if(e instanceof qc)return e;this._importDER(e,t)||(hI(e.r&&e.s,"Signature without r or s"),this.r=new be(e.r,16),this.s=new be(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var M0=qc;function uI(){this.place=0}function Ad(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,o=0,c=t.place;o<i;o++,c++)n<<=8,n|=e[c],n>>>=0;return n<=127?!1:(t.place=c,n)}function x2(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}qc.prototype._importDER=function(e,t){e=Zi.toArray(e,t);var r=new uI;if(e[r.place++]!==48)return!1;var i=Ad(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Ad(e,r);if(n===!1)return!1;var o=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var c=Ad(e,r);if(c===!1||e.length!==c+r.place)return!1;var v=e.slice(r.place,c+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new be(o),this.s=new be(v),this.recoveryParam=null,!0};function bd(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}qc.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=x2(t),r=x2(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];bd(i,t.length),i=i.concat(t),i.push(2),bd(i,r.length);var n=i.concat(r),o=[48];return bd(o,n.length),o=o.concat(n),Zi.encode(o,e)};var fI=function(){throw new Error("unsupported")},Q6=Zi.assert;function En(e){if(!(this instanceof En))return new En(e);typeof e=="string"&&(Q6(Object.prototype.hasOwnProperty.call(J0,e),"Unknown curve "+e),e=J0[e]),e instanceof J0.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var cI=En;En.prototype.keyPair=function(e){return new wd(this,e)},En.prototype.keyFromPrivate=function(e,t){return wd.fromPrivate(this,e,t)},En.prototype.keyFromPublic=function(e,t){return wd.fromPublic(this,e,t)},En.prototype.genKeyPair=function(e){e||(e={});for(var t=new I2({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||fI(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new be(2));;){var n=new be(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},En.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},En.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new be(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),c=e.toArray("be",n),v=new I2({hash:this.hash,entropy:o,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),w=this.n.sub(new be(1)),p=0;;p++){var _=i.k?i.k(p):new be(v.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(w)>=0)){var I=this.g.mul(_);if(!I.isInfinity()){var B=I.getX(),R=B.umod(this.n);if(R.cmpn(0)!==0){var O=_.invm(this.n).mul(R.mul(t.getPrivate()).iadd(e));if(O=O.umod(this.n),O.cmpn(0)!==0){var z=(I.getY().isOdd()?1:0)|(B.cmp(R)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),z^=1),new M0({r:R,s:O,recoveryParam:z})}}}}}},En.prototype.verify=function(e,t,r,i){e=this._truncateToN(new be(e,16)),r=this.keyFromPublic(r,i),t=new M0(t,"hex");var n=t.r,o=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),v=c.mul(e).umod(this.n),w=c.mul(n).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(v,r.getPublic(),w),p.isInfinity()?!1:p.eqXToP(n)):(p=this.g.mulAdd(v,r.getPublic(),w),p.isInfinity()?!1:p.getX().umod(this.n).cmp(n)===0)},En.prototype.recoverPubKey=function(e,t,r,i){Q6((3&r)===r,"The recovery param is more than two bits"),t=new M0(t,i);var n=this.n,o=new be(e),c=t.r,v=t.s,w=r&1,p=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");p?c=this.curve.pointFromX(c.add(this.curve.n),w):c=this.curve.pointFromX(c,w);var _=t.r.invm(n),I=n.sub(o).mul(_).umod(n),B=v.mul(_).umod(n);return this.g.mulAdd(I,c,B)},En.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new M0(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch{continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var lI=Uh(function(e,t){var r=t;r.version="6.5.4",r.utils=Zi,r.rand=function(){throw new Error("unsupported")},r.curve=G0,r.curves=J0,r.ec=cI,r.eddsa=null});lI.ec;var N2;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(N2||(N2={}));const dI={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function pI(e,t){const{message:r,code:i}=dI[e];return{message:r,code:i}}function T1(e,t){return!!Array.isArray(e)}class gI extends Ra{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class mI extends Ra{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}}class vI{constructor(t,r){this.logger=t,this.core=r}}let yI=class extends Ra{constructor(t,r){super(),this.relayer=t,this.logger=r}},wI=class extends Ra{constructor(t){super()}},AI=class{constructor(t,r,i,n){this.core=t,this.logger=r,this.name=i}};class bI extends Ra{constructor(t,r){super(),this.relayer=t,this.logger=r}}let MI=class extends Ra{constructor(t,r){super(),this.core=t,this.logger=r}},EI=class{constructor(t,r,i){this.core=t,this.logger=r,this.store=i}},_I=class{constructor(t,r){this.projectId=t,this.logger=r}},SI=class{constructor(t,r,i){this.core=t,this.logger=r,this.telemetryEnabled=i}};class II{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}let xI=class{constructor(t){this.client=t}};var NI={},CI=Object.defineProperty,C2=Object.getOwnPropertySymbols,BI=Object.prototype.hasOwnProperty,RI=Object.prototype.propertyIsEnumerable,B2=(e,t,r)=>t in e?CI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,R2=(e,t)=>{for(var r in t||(t={}))BI.call(t,r)&&B2(e,r,t[r]);if(C2)for(var r of C2(t))RI.call(t,r)&&B2(e,r,t[r]);return e};const PI="ReactNative",ss={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},TI="js";function mc(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function sf(){return!tf()&&!!Pc()&&navigator.product===PI}function Lc(){return!mc()&&!!Pc()&&!!tf()}function zc(){return sf()?ss.reactNative:mc()?ss.node:Lc()?ss.browser:ss.unknown}function OI(){var e;try{return sf()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function DI(e,t){let r=hc.parse(e);return r=R2(R2({},r),t),e=hc.stringify(r),e}function FI(){return Y3()||{name:"",description:"",url:"",icons:[""]}}function UI(){if(zc()===ss.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:i}=global.Platform;return[r,i].join("-")}const e=RM();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function kI(){var e;const t=zc();return t===ss.browser?[t,((e=wM())==null?void 0:e.host)||"unknown"].join(":"):t}function G6(e,t,r){const i=UI(),n=kI();return[[e,t].join("-"),[TI,r].join("-"),i,n].join("/")}function qI({protocol:e,version:t,relayUrl:r,sdkVersion:i,auth:n,projectId:o,useOnCloseEvent:c,bundleId:v}){const w=r.split("?"),p=G6(e,t,i),_={auth:n,ua:p,projectId:o,useOnCloseEvent:c||void 0,origin:v||void 0},I=DI(w[1]||"",_);return w[0]+"?"+I}function J6(e){return Object.fromEntries(e.entries())}function Y6(e){return new Map(Object.entries(e))}function LI(e=Gt.FIVE_MINUTES,t){const r=Gt.toMiliseconds(e||Gt.FIVE_MINUTES);let i,n,o;return{resolve:c=>{o&&i&&(clearTimeout(o),i(c))},reject:c=>{o&&n&&(clearTimeout(o),n(c))},done:()=>new Promise((c,v)=>{o=setTimeout(()=>{v(new Error(t))},r),i=c,n=v})}}function ph(e,t,r){return new Promise(async(i,n)=>{const o=setTimeout(()=>n(new Error(r)),t);try{const c=await e;i(c)}catch(c){n(c)}clearTimeout(o)})}function V6(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function zI(e){return V6("topic",e)}function $I(e){return V6("id",e)}function HI(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function qu(e,t){return Gt.fromMiliseconds(Date.now()+Gt.toMiliseconds(e))}function P2(e){return Date.now()>=Gt.toMiliseconds(e)}function Md(e,t){return`${e}${t?`:${t}`:""}`}function T2(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function W6(){return typeof process<"u"&&NI.IS_VITEST==="true"}function X6(e){return Buffer.from(e,"base64").toString("utf-8")}var Z6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KI(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var jI={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var o=!i&&typeof self=="object",c=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?n=Z6:o&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,w=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],I=[4,1024,262144,67108864],B=[1,256,65536,16777216],R=[6,1536,393216,100663296],O=[0,8,16,24],z=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],J=[128,256],rt=["hex","buffer","arrayBuffer","array","digest"],ht={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"}),w&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(f){return typeof f=="object"&&f.buffer&&f.buffer.constructor===ArrayBuffer});for(var et=function(f,T,x){return function(C){return new g(f,T,f).update(C)[x]()}},W=function(f,T,x){return function(C,D){return new g(f,T,D).update(C)[x]()}},V=function(f,T,x){return function(C,D,E,P){return u["cshake"+f].update(C,D,E,P)[x]()}},nt=function(f,T,x){return function(C,D,E,P){return u["kmac"+f].update(C,D,E,P)[x]()}},it=function(f,T,x,C){for(var D=0;D<rt.length;++D){var E=rt[D];f[E]=T(x,C,E)}return f},Qt=function(f,T){var x=et(f,T,"hex");return x.create=function(){return new g(f,T,f)},x.update=function(C){return x.create().update(C)},it(x,et,f,T)},Yt=function(f,T){var x=W(f,T,"hex");return x.create=function(C){return new g(f,T,C)},x.update=function(C,D){return x.create(D).update(C)},it(x,W,f,T)},_t=function(f,T){var x=ht[f],C=V(f,T,"hex");return C.create=function(D,E,P){return!E&&!P?u["shake"+f].create(D):new g(f,T,D).bytepad([E,P],x)},C.update=function(D,E,P,$){return C.create(E,P,$).update(D)},it(C,V,f,T)},Vt=function(f,T){var x=ht[f],C=nt(f,T,"hex");return C.create=function(D,E,P){return new Q(f,T,E).bytepad(["KMAC",P],x).bytepad([D],x)},C.update=function(D,E,P,$){return C.create(D,P,$).update(E)},it(C,nt,f,T)},s=[{name:"keccak",padding:B,bits:k,createMethod:Qt},{name:"sha3",padding:R,bits:k,createMethod:Qt},{name:"shake",padding:_,bits:J,createMethod:Yt},{name:"cshake",padding:I,bits:J,createMethod:_t},{name:"kmac",padding:I,bits:J,createMethod:Vt}],u={},d=[],y=0;y<s.length;++y)for(var A=s[y],M=A.bits,S=0;S<M.length;++S){var m=A.name+"_"+M[S];if(d.push(m),u[m]=A.createMethod(M[S],A.padding),A.name!=="sha3"){var a=A.name+M[S];d.push(a),u[a]=u[m]}}function g(f,T,x){this.blocks=[],this.s=[],this.padding=T,this.outputBits=x,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(f<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=x>>5,this.extraBytes=(x&31)>>3;for(var C=0;C<50;++C)this.s[C]=0}g.prototype.update=function(f){if(this.finalized)throw new Error(r);var T,x=typeof f;if(x!=="string"){if(x==="object"){if(f===null)throw new Error(t);if(w&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!w||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);T=!0}for(var C=this.blocks,D=this.byteCount,E=f.length,P=this.blockCount,$=0,G=this.s,L,at;$<E;){if(this.reset)for(this.reset=!1,C[0]=this.block,L=1;L<P+1;++L)C[L]=0;if(T)for(L=this.start;$<E&&L<D;++$)C[L>>2]|=f[$]<<O[L++&3];else for(L=this.start;$<E&&L<D;++$)at=f.charCodeAt($),at<128?C[L>>2]|=at<<O[L++&3]:at<2048?(C[L>>2]|=(192|at>>6)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]):at<55296||at>=57344?(C[L>>2]|=(224|at>>12)<<O[L++&3],C[L>>2]|=(128|at>>6&63)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]):(at=65536+((at&1023)<<10|f.charCodeAt(++$)&1023),C[L>>2]|=(240|at>>18)<<O[L++&3],C[L>>2]|=(128|at>>12&63)<<O[L++&3],C[L>>2]|=(128|at>>6&63)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]);if(this.lastByteIndex=L,L>=D){for(this.start=L-D,this.block=C[P],L=0;L<P;++L)G[L]^=C[L];j(G),this.reset=!0}else this.start=L}return this},g.prototype.encode=function(f,T){var x=f&255,C=1,D=[x];for(f=f>>8,x=f&255;x>0;)D.unshift(x),f=f>>8,x=f&255,++C;return T?D.push(C):D.unshift(C),this.update(D),D.length},g.prototype.encodeString=function(f){var T,x=typeof f;if(x!=="string"){if(x==="object"){if(f===null)throw new Error(t);if(w&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!w||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);T=!0}var C=0,D=f.length;if(T)C=D;else for(var E=0;E<f.length;++E){var P=f.charCodeAt(E);P<128?C+=1:P<2048?C+=2:P<55296||P>=57344?C+=3:(P=65536+((P&1023)<<10|f.charCodeAt(++E)&1023),C+=4)}return C+=this.encode(C*8),this.update(f),C},g.prototype.bytepad=function(f,T){for(var x=this.encode(T),C=0;C<f.length;++C)x+=this.encodeString(f[C]);var D=T-x%T,E=[];return E.length=D,this.update(E),this},g.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var f=this.blocks,T=this.lastByteIndex,x=this.blockCount,C=this.s;if(f[T>>2]|=this.padding[T&3],this.lastByteIndex===this.byteCount)for(f[0]=f[x],T=1;T<x+1;++T)f[T]=0;for(f[x-1]|=2147483648,T=0;T<x;++T)C[T]^=f[T];j(C)}},g.prototype.toString=g.prototype.hex=function(){this.finalize();for(var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P="",$;E<x;){for(D=0;D<f&&E<x;++D,++E)$=T[D],P+=p[$>>4&15]+p[$&15]+p[$>>12&15]+p[$>>8&15]+p[$>>20&15]+p[$>>16&15]+p[$>>28&15]+p[$>>24&15];E%f===0&&(j(T),D=0)}return C&&($=T[D],P+=p[$>>4&15]+p[$&15],C>1&&(P+=p[$>>12&15]+p[$>>8&15]),C>2&&(P+=p[$>>20&15]+p[$>>16&15])),P},g.prototype.arrayBuffer=function(){this.finalize();var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P=this.outputBits>>3,$;C?$=new ArrayBuffer(x+1<<2):$=new ArrayBuffer(P);for(var G=new Uint32Array($);E<x;){for(D=0;D<f&&E<x;++D,++E)G[E]=T[D];E%f===0&&j(T)}return C&&(G[D]=T[D],$=$.slice(0,P)),$},g.prototype.buffer=g.prototype.arrayBuffer,g.prototype.digest=g.prototype.array=function(){this.finalize();for(var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P=[],$,G;E<x;){for(D=0;D<f&&E<x;++D,++E)$=E<<2,G=T[D],P[$]=G&255,P[$+1]=G>>8&255,P[$+2]=G>>16&255,P[$+3]=G>>24&255;E%f===0&&j(T)}return C&&($=E<<2,G=T[D],P[$]=G&255,C>1&&(P[$+1]=G>>8&255),C>2&&(P[$+2]=G>>16&255)),P};function Q(f,T,x){g.call(this,f,T,x)}Q.prototype=new g,Q.prototype.finalize=function(){return this.encode(this.outputBits,!0),g.prototype.finalize.call(this)};var j=function(f){var T,x,C,D,E,P,$,G,L,at,ut,ot,he,St,vt,te,dt,pt,ne,ft,gt,Zt,ct,wt,ee,It,Rt,pe,Ot,Tt,ge,Dt,kt,me,Lt,zt,xe,At,mt,se,bt,yt,ie,xt,Nt,oe,Ct,Mt,ae,Et,lt,ue,Bt,Ht,Ke,Kt,Ft,Ne,Ce,Be,Re,Pe,ve;for(C=0;C<48;C+=2)D=f[0]^f[10]^f[20]^f[30]^f[40],E=f[1]^f[11]^f[21]^f[31]^f[41],P=f[2]^f[12]^f[22]^f[32]^f[42],$=f[3]^f[13]^f[23]^f[33]^f[43],G=f[4]^f[14]^f[24]^f[34]^f[44],L=f[5]^f[15]^f[25]^f[35]^f[45],at=f[6]^f[16]^f[26]^f[36]^f[46],ut=f[7]^f[17]^f[27]^f[37]^f[47],ot=f[8]^f[18]^f[28]^f[38]^f[48],he=f[9]^f[19]^f[29]^f[39]^f[49],T=ot^(P<<1|$>>>31),x=he^($<<1|P>>>31),f[0]^=T,f[1]^=x,f[10]^=T,f[11]^=x,f[20]^=T,f[21]^=x,f[30]^=T,f[31]^=x,f[40]^=T,f[41]^=x,T=D^(G<<1|L>>>31),x=E^(L<<1|G>>>31),f[2]^=T,f[3]^=x,f[12]^=T,f[13]^=x,f[22]^=T,f[23]^=x,f[32]^=T,f[33]^=x,f[42]^=T,f[43]^=x,T=P^(at<<1|ut>>>31),x=$^(ut<<1|at>>>31),f[4]^=T,f[5]^=x,f[14]^=T,f[15]^=x,f[24]^=T,f[25]^=x,f[34]^=T,f[35]^=x,f[44]^=T,f[45]^=x,T=G^(ot<<1|he>>>31),x=L^(he<<1|ot>>>31),f[6]^=T,f[7]^=x,f[16]^=T,f[17]^=x,f[26]^=T,f[27]^=x,f[36]^=T,f[37]^=x,f[46]^=T,f[47]^=x,T=at^(D<<1|E>>>31),x=ut^(E<<1|D>>>31),f[8]^=T,f[9]^=x,f[18]^=T,f[19]^=x,f[28]^=T,f[29]^=x,f[38]^=T,f[39]^=x,f[48]^=T,f[49]^=x,St=f[0],vt=f[1],oe=f[11]<<4|f[10]>>>28,Ct=f[10]<<4|f[11]>>>28,pe=f[20]<<3|f[21]>>>29,Ot=f[21]<<3|f[20]>>>29,Be=f[31]<<9|f[30]>>>23,Re=f[30]<<9|f[31]>>>23,yt=f[40]<<18|f[41]>>>14,ie=f[41]<<18|f[40]>>>14,me=f[2]<<1|f[3]>>>31,Lt=f[3]<<1|f[2]>>>31,te=f[13]<<12|f[12]>>>20,dt=f[12]<<12|f[13]>>>20,Mt=f[22]<<10|f[23]>>>22,ae=f[23]<<10|f[22]>>>22,Tt=f[33]<<13|f[32]>>>19,ge=f[32]<<13|f[33]>>>19,Pe=f[42]<<2|f[43]>>>30,ve=f[43]<<2|f[42]>>>30,Ht=f[5]<<30|f[4]>>>2,Ke=f[4]<<30|f[5]>>>2,zt=f[14]<<6|f[15]>>>26,xe=f[15]<<6|f[14]>>>26,pt=f[25]<<11|f[24]>>>21,ne=f[24]<<11|f[25]>>>21,Et=f[34]<<15|f[35]>>>17,lt=f[35]<<15|f[34]>>>17,Dt=f[45]<<29|f[44]>>>3,kt=f[44]<<29|f[45]>>>3,wt=f[6]<<28|f[7]>>>4,ee=f[7]<<28|f[6]>>>4,Kt=f[17]<<23|f[16]>>>9,Ft=f[16]<<23|f[17]>>>9,At=f[26]<<25|f[27]>>>7,mt=f[27]<<25|f[26]>>>7,ft=f[36]<<21|f[37]>>>11,gt=f[37]<<21|f[36]>>>11,ue=f[47]<<24|f[46]>>>8,Bt=f[46]<<24|f[47]>>>8,xt=f[8]<<27|f[9]>>>5,Nt=f[9]<<27|f[8]>>>5,It=f[18]<<20|f[19]>>>12,Rt=f[19]<<20|f[18]>>>12,Ne=f[29]<<7|f[28]>>>25,Ce=f[28]<<7|f[29]>>>25,se=f[38]<<8|f[39]>>>24,bt=f[39]<<8|f[38]>>>24,Zt=f[48]<<14|f[49]>>>18,ct=f[49]<<14|f[48]>>>18,f[0]=St^~te&pt,f[1]=vt^~dt&ne,f[10]=wt^~It&pe,f[11]=ee^~Rt&Ot,f[20]=me^~zt&At,f[21]=Lt^~xe&mt,f[30]=xt^~oe&Mt,f[31]=Nt^~Ct&ae,f[40]=Ht^~Kt&Ne,f[41]=Ke^~Ft&Ce,f[2]=te^~pt&ft,f[3]=dt^~ne&gt,f[12]=It^~pe&Tt,f[13]=Rt^~Ot&ge,f[22]=zt^~At&se,f[23]=xe^~mt&bt,f[32]=oe^~Mt&Et,f[33]=Ct^~ae&lt,f[42]=Kt^~Ne&Be,f[43]=Ft^~Ce&Re,f[4]=pt^~ft&Zt,f[5]=ne^~gt&ct,f[14]=pe^~Tt&Dt,f[15]=Ot^~ge&kt,f[24]=At^~se&yt,f[25]=mt^~bt&ie,f[34]=Mt^~Et&ue,f[35]=ae^~lt&Bt,f[44]=Ne^~Be&Pe,f[45]=Ce^~Re&ve,f[6]=ft^~Zt&St,f[7]=gt^~ct&vt,f[16]=Tt^~Dt&wt,f[17]=ge^~kt&ee,f[26]=se^~yt&me,f[27]=bt^~ie&Lt,f[36]=Et^~ue&xt,f[37]=lt^~Bt&Nt,f[46]=Be^~Pe&Ht,f[47]=Re^~ve&Ke,f[8]=Zt^~St&te,f[9]=ct^~vt&dt,f[18]=Dt^~wt&It,f[19]=kt^~ee&Rt,f[28]=yt^~me&zt,f[29]=ie^~Lt&xe,f[38]=ue^~xt&oe,f[39]=Bt^~Nt&Ct,f[48]=Pe^~Ht&Kt,f[49]=ve^~Ke&Ft,f[0]^=z[C],f[1]^=z[C+1]};if(v)e.exports=u;else for(y=0;y<d.length;++y)n[d[y]]=u[d[y]]})()})(jI);const QI="logger/5.7.0";let O2=!1,D2=!1;const Y0={debug:1,default:2,info:2,warning:3,error:4,off:5};let F2=Y0.default,Ed=null;function GI(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("Г©".normalize("NFD")!=="eМЃ")throw new Error("broken implementation")}catch(e){return e.message}return null}const U2=GI();var O1;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(O1||(O1={}));var Vn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Vn||(Vn={}));const k2="0123456789abcdef";let zi=class kr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Y0[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(F2>Y0[i])&&console.log.apply(console,r)}debug(...t){this._log(kr.levels.DEBUG,t)}info(...t){this._log(kr.levels.INFO,t)}warn(...t){this._log(kr.levels.WARNING,t)}makeError(t,r,i){if(D2)return this.makeError("censored error",r,{});r||(r=kr.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(w=>{const p=i[w];try{if(p instanceof Uint8Array){let _="";for(let I=0;I<p.length;I++)_+=k2[p[I]>>4],_+=k2[p[I]&15];n.push(w+"=Uint8Array(0x"+_+")")}else n.push(w+"="+JSON.stringify(p))}catch{n.push(w+"="+JSON.stringify(i[w].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const o=t;let c="";switch(r){case Vn.NUMERIC_FAULT:{c="NUMERIC_FAULT";const w=t;switch(w){case"overflow":case"underflow":case"division-by-zero":c+="-"+w;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case Vn.CALL_EXCEPTION:case Vn.INSUFFICIENT_FUNDS:case Vn.MISSING_NEW:case Vn.NONCE_EXPIRED:case Vn.REPLACEMENT_UNDERPRICED:case Vn.TRANSACTION_REPLACED:case Vn.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=o,v.code=r,Object.keys(i).forEach(function(w){v[w]=i[w]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,kr.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){U2&&this.throwError("platform missing String.prototype.normalize",kr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:U2})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,kr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,kr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,kr.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,kr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",kr.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",kr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",kr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ed||(Ed=new kr(QI)),Ed}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",kr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),O2){if(!t)return;this.globalLogger().throwError("error censorship permanent",kr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}D2=!!t,O2=!!r}static setLogLevel(t){const r=Y0[t.toLowerCase()];if(r==null){kr.globalLogger().warn("invalid log level - "+t);return}F2=r}static from(t){return new kr(t)}};zi.errors=Vn,zi.levels=O1;const JI="bytes/5.7.0",ra=new zi(JI);function ty(e){return!!e.toHexString}function V0(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return V0(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function q2(e){return typeof e=="number"&&e==e&&e%1===0}function of(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!q2(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!q2(r)||r<0||r>=256)return!1}return!0}function ey(e,t){if(t||(t={}),typeof e=="number"){ra.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),V0(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),ty(e)&&(e=e.toHexString()),Eh(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":ra.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return V0(new Uint8Array(i))}return of(e)?V0(new Uint8Array(e)):ra.throwArgumentError("invalid arrayify value","value",e)}function Eh(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t)}const _d="0123456789abcdef";function ry(e,t){if(t||(t={}),typeof e=="number"){ra.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=_d[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),ty(e))return e.toHexString();if(Eh(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":ra.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(of(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=_d[(n&240)>>4]+_d[n&15]}return r}return ra.throwArgumentError("invalid hexlify value","value",e)}function vc(e,t){for(typeof e!="string"?e=ry(e):Eh(e)||ra.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&ra.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var iy={exports:{}},YI={},VI=Object.freeze({__proto__:null,default:YI}),WI=KI(VI);(function(e){(function(t,r){function i(s,u){if(!s)throw new Error(u||"Assertion failed")}function n(s,u){s.super_=u;var d=function(){};d.prototype=u.prototype,s.prototype=new d,s.prototype.constructor=s}function o(s,u,d){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(s||0,u||10,d||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=WI.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,u){return s.cmp(u)>0?s:u},o.min=function(s,u){return s.cmp(u)<0?s:u},o.prototype._init=function(s,u,d){if(typeof s=="number")return this._initNumber(s,u,d);if(typeof s=="object")return this._initArray(s,u,d);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var y=0;s[0]==="-"&&(y++,this.negative=1),y<s.length&&(u===16?this._parseHex(s,y,d):(this._parseBase(s,u,y),d==="le"&&this._initArray(this.toArray(),u,d)))},o.prototype._initNumber=function(s,u,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(i(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},o.prototype._initArray=function(s,u,d){if(i(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A,M,S=0;if(d==="be")for(y=s.length-1,A=0;y>=0;y-=3)M=s[y]|s[y-1]<<8|s[y-2]<<16,this.words[A]|=M<<S&67108863,this.words[A+1]=M>>>26-S&67108863,S+=24,S>=26&&(S-=26,A++);else if(d==="le")for(y=0,A=0;y<s.length;y+=3)M=s[y]|s[y+1]<<8|s[y+2]<<16,this.words[A]|=M<<S&67108863,this.words[A+1]=M>>>26-S&67108863,S+=24,S>=26&&(S-=26,A++);return this._strip()};function v(s,u){var d=s.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+s)}function w(s,u,d){var y=v(s,d);return d-1>=u&&(y|=v(s,d-1)<<4),y}o.prototype._parseHex=function(s,u,d){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A=0,M=0,S;if(d==="be")for(y=s.length-1;y>=u;y-=2)S=w(s,u,y)<<A,this.words[M]|=S&67108863,A>=18?(A-=18,M+=1,this.words[M]|=S>>>26):A+=8;else{var m=s.length-u;for(y=m%2===0?u+1:u;y<s.length;y+=2)S=w(s,u,y)<<A,this.words[M]|=S&67108863,A>=18?(A-=18,M+=1,this.words[M]|=S>>>26):A+=8}this._strip()};function p(s,u,d,y){for(var A=0,M=0,S=Math.min(s.length,d),m=u;m<S;m++){var a=s.charCodeAt(m)-48;A*=y,a>=49?M=a-49+10:a>=17?M=a-17+10:M=a,i(a>=0&&M<y,"Invalid character"),A+=M}return A}o.prototype._parseBase=function(s,u,d){this.words=[0],this.length=1;for(var y=0,A=1;A<=67108863;A*=u)y++;y--,A=A/u|0;for(var M=s.length-d,S=M%y,m=Math.min(M,M-S)+d,a=0,g=d;g<m;g+=y)a=p(s,g,g+y,u),this.imuln(A),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(S!==0){var Q=1;for(a=p(s,g,s.length,u),g=0;g<S;g++)Q*=u;this.imuln(Q),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(s,u){s.words=u.words,s.length=u.length,s.negative=u.negative,s.red=u.red}if(o.prototype._move=function(s){_(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{o.prototype.inspect=I}else o.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,u){s=s||10,u=u|0||1;var d;if(s===16||s==="hex"){d="";for(var y=0,A=0,M=0;M<this.length;M++){var S=this.words[M],m=((S<<y|A)&16777215).toString(16);A=S>>>24-y&16777215,y+=2,y>=26&&(y-=26,M--),A!==0||M!==this.length-1?d=B[6-m.length]+m+d:d=m+d}for(A!==0&&(d=A.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var a=R[s],g=O[s];d="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var j=Q.modrn(g).toString(s);Q=Q.idivn(g),Q.isZero()?d=j+d:d=B[a-j.length]+j+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},c&&(o.prototype.toBuffer=function(s,u){return this.toArrayLike(c,s,u)}),o.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var z=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};o.prototype.toArrayLike=function(s,u,d){this._strip();var y=this.byteLength(),A=d||Math.max(1,y);i(y<=A,"byte array longer than desired length"),i(A>0,"Requested array length <= 0");var M=z(s,A),S=u==="le"?"LE":"BE";return this["_toArrayLike"+S](M,y),M},o.prototype._toArrayLikeLE=function(s,u){for(var d=0,y=0,A=0,M=0;A<this.length;A++){var S=this.words[A]<<M|y;s[d++]=S&255,d<s.length&&(s[d++]=S>>8&255),d<s.length&&(s[d++]=S>>16&255),M===6?(d<s.length&&(s[d++]=S>>24&255),y=0,M=0):(y=S>>>24,M+=2)}if(d<s.length)for(s[d++]=y;d<s.length;)s[d++]=0},o.prototype._toArrayLikeBE=function(s,u){for(var d=s.length-1,y=0,A=0,M=0;A<this.length;A++){var S=this.words[A]<<M|y;s[d--]=S&255,d>=0&&(s[d--]=S>>8&255),d>=0&&(s[d--]=S>>16&255),M===6?(d>=0&&(s[d--]=S>>24&255),y=0,M=0):(y=S>>>24,M+=2)}if(d>=0)for(s[d--]=y;d>=0;)s[d--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var u=s,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},o.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,d=0;return u&8191||(d+=13,u>>>=13),u&127||(d+=7,u>>>=7),u&15||(d+=4,u>>>=4),u&3||(d+=2,u>>>=2),u&1||d++,d},o.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function k(s){for(var u=new Array(s.bitLength()),d=0;d<u.length;d++){var y=d/26|0,A=d%26;u[d]=s.words[y]>>>A&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(s+=d,d!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},o.prototype.ior=function(s){return i((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=u.length,this._strip()},o.prototype.iand=function(s){return i((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var u,d;this.length>s.length?(u=this,d=s):(u=s,d=this);for(var y=0;y<d.length;y++)this.words[y]=u.words[y]^d.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this._strip()},o.prototype.ixor=function(s){return i((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){i(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,d=s%26;this._expand(u),d>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return d>0&&(this.words[y]=~this.words[y]&67108863>>26-d),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,u){i(typeof s=="number"&&s>=0);var d=s/26|0,y=s%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<y:this.words[d]=this.words[d]&~(1<<y),this._strip()},o.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var d,y;this.length>s.length?(d=this,y=s):(d=s,y=this);for(var A=0,M=0;M<y.length;M++)u=(d.words[M]|0)+(y.words[M]|0)+A,this.words[M]=u&67108863,A=u>>>26;for(;A!==0&&M<d.length;M++)u=(d.words[M]|0)+A,this.words[M]=u&67108863,A=u>>>26;if(this.length=d.length,A!==0)this.words[this.length]=A,this.length++;else if(d!==this)for(;M<d.length;M++)this.words[M]=d.words[M];return this},o.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,A;d>0?(y=this,A=s):(y=s,A=this);for(var M=0,S=0;S<A.length;S++)u=(y.words[S]|0)-(A.words[S]|0)+M,M=u>>26,this.words[S]=u&67108863;for(;M!==0&&S<y.length;S++)u=(y.words[S]|0)+M,M=u>>26,this.words[S]=u&67108863;if(M===0&&S<y.length&&y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this.length=Math.max(this.length,S),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function J(s,u,d){d.negative=u.negative^s.negative;var y=s.length+u.length|0;d.length=y,y=y-1|0;var A=s.words[0]|0,M=u.words[0]|0,S=A*M,m=S&67108863,a=S/67108864|0;d.words[0]=m;for(var g=1;g<y;g++){for(var Q=a>>>26,j=a&67108863,f=Math.min(g,u.length-1),T=Math.max(0,g-s.length+1);T<=f;T++){var x=g-T|0;A=s.words[x]|0,M=u.words[T]|0,S=A*M+j,Q+=S/67108864|0,j=S&67108863}d.words[g]=j|0,a=Q|0}return a!==0?d.words[g]=a|0:d.length--,d._strip()}var rt=function(s,u,d){var y=s.words,A=u.words,M=d.words,S=0,m,a,g,Q=y[0]|0,j=Q&8191,f=Q>>>13,T=y[1]|0,x=T&8191,C=T>>>13,D=y[2]|0,E=D&8191,P=D>>>13,$=y[3]|0,G=$&8191,L=$>>>13,at=y[4]|0,ut=at&8191,ot=at>>>13,he=y[5]|0,St=he&8191,vt=he>>>13,te=y[6]|0,dt=te&8191,pt=te>>>13,ne=y[7]|0,ft=ne&8191,gt=ne>>>13,Zt=y[8]|0,ct=Zt&8191,wt=Zt>>>13,ee=y[9]|0,It=ee&8191,Rt=ee>>>13,pe=A[0]|0,Ot=pe&8191,Tt=pe>>>13,ge=A[1]|0,Dt=ge&8191,kt=ge>>>13,me=A[2]|0,Lt=me&8191,zt=me>>>13,xe=A[3]|0,At=xe&8191,mt=xe>>>13,se=A[4]|0,bt=se&8191,yt=se>>>13,ie=A[5]|0,xt=ie&8191,Nt=ie>>>13,oe=A[6]|0,Ct=oe&8191,Mt=oe>>>13,ae=A[7]|0,Et=ae&8191,lt=ae>>>13,ue=A[8]|0,Bt=ue&8191,Ht=ue>>>13,Ke=A[9]|0,Kt=Ke&8191,Ft=Ke>>>13;d.negative=s.negative^u.negative,d.length=19,m=Math.imul(j,Ot),a=Math.imul(j,Tt),a=a+Math.imul(f,Ot)|0,g=Math.imul(f,Tt);var Ne=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(x,Ot),a=Math.imul(x,Tt),a=a+Math.imul(C,Ot)|0,g=Math.imul(C,Tt),m=m+Math.imul(j,Dt)|0,a=a+Math.imul(j,kt)|0,a=a+Math.imul(f,Dt)|0,g=g+Math.imul(f,kt)|0;var Ce=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,m=Math.imul(E,Ot),a=Math.imul(E,Tt),a=a+Math.imul(P,Ot)|0,g=Math.imul(P,Tt),m=m+Math.imul(x,Dt)|0,a=a+Math.imul(x,kt)|0,a=a+Math.imul(C,Dt)|0,g=g+Math.imul(C,kt)|0,m=m+Math.imul(j,Lt)|0,a=a+Math.imul(j,zt)|0,a=a+Math.imul(f,Lt)|0,g=g+Math.imul(f,zt)|0;var Be=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,m=Math.imul(G,Ot),a=Math.imul(G,Tt),a=a+Math.imul(L,Ot)|0,g=Math.imul(L,Tt),m=m+Math.imul(E,Dt)|0,a=a+Math.imul(E,kt)|0,a=a+Math.imul(P,Dt)|0,g=g+Math.imul(P,kt)|0,m=m+Math.imul(x,Lt)|0,a=a+Math.imul(x,zt)|0,a=a+Math.imul(C,Lt)|0,g=g+Math.imul(C,zt)|0,m=m+Math.imul(j,At)|0,a=a+Math.imul(j,mt)|0,a=a+Math.imul(f,At)|0,g=g+Math.imul(f,mt)|0;var Re=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(ut,Ot),a=Math.imul(ut,Tt),a=a+Math.imul(ot,Ot)|0,g=Math.imul(ot,Tt),m=m+Math.imul(G,Dt)|0,a=a+Math.imul(G,kt)|0,a=a+Math.imul(L,Dt)|0,g=g+Math.imul(L,kt)|0,m=m+Math.imul(E,Lt)|0,a=a+Math.imul(E,zt)|0,a=a+Math.imul(P,Lt)|0,g=g+Math.imul(P,zt)|0,m=m+Math.imul(x,At)|0,a=a+Math.imul(x,mt)|0,a=a+Math.imul(C,At)|0,g=g+Math.imul(C,mt)|0,m=m+Math.imul(j,bt)|0,a=a+Math.imul(j,yt)|0,a=a+Math.imul(f,bt)|0,g=g+Math.imul(f,yt)|0;var Pe=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,m=Math.imul(St,Ot),a=Math.imul(St,Tt),a=a+Math.imul(vt,Ot)|0,g=Math.imul(vt,Tt),m=m+Math.imul(ut,Dt)|0,a=a+Math.imul(ut,kt)|0,a=a+Math.imul(ot,Dt)|0,g=g+Math.imul(ot,kt)|0,m=m+Math.imul(G,Lt)|0,a=a+Math.imul(G,zt)|0,a=a+Math.imul(L,Lt)|0,g=g+Math.imul(L,zt)|0,m=m+Math.imul(E,At)|0,a=a+Math.imul(E,mt)|0,a=a+Math.imul(P,At)|0,g=g+Math.imul(P,mt)|0,m=m+Math.imul(x,bt)|0,a=a+Math.imul(x,yt)|0,a=a+Math.imul(C,bt)|0,g=g+Math.imul(C,yt)|0,m=m+Math.imul(j,xt)|0,a=a+Math.imul(j,Nt)|0,a=a+Math.imul(f,xt)|0,g=g+Math.imul(f,Nt)|0;var ve=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,m=Math.imul(dt,Ot),a=Math.imul(dt,Tt),a=a+Math.imul(pt,Ot)|0,g=Math.imul(pt,Tt),m=m+Math.imul(St,Dt)|0,a=a+Math.imul(St,kt)|0,a=a+Math.imul(vt,Dt)|0,g=g+Math.imul(vt,kt)|0,m=m+Math.imul(ut,Lt)|0,a=a+Math.imul(ut,zt)|0,a=a+Math.imul(ot,Lt)|0,g=g+Math.imul(ot,zt)|0,m=m+Math.imul(G,At)|0,a=a+Math.imul(G,mt)|0,a=a+Math.imul(L,At)|0,g=g+Math.imul(L,mt)|0,m=m+Math.imul(E,bt)|0,a=a+Math.imul(E,yt)|0,a=a+Math.imul(P,bt)|0,g=g+Math.imul(P,yt)|0,m=m+Math.imul(x,xt)|0,a=a+Math.imul(x,Nt)|0,a=a+Math.imul(C,xt)|0,g=g+Math.imul(C,Nt)|0,m=m+Math.imul(j,Ct)|0,a=a+Math.imul(j,Mt)|0,a=a+Math.imul(f,Ct)|0,g=g+Math.imul(f,Mt)|0;var dr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ft,Ot),a=Math.imul(ft,Tt),a=a+Math.imul(gt,Ot)|0,g=Math.imul(gt,Tt),m=m+Math.imul(dt,Dt)|0,a=a+Math.imul(dt,kt)|0,a=a+Math.imul(pt,Dt)|0,g=g+Math.imul(pt,kt)|0,m=m+Math.imul(St,Lt)|0,a=a+Math.imul(St,zt)|0,a=a+Math.imul(vt,Lt)|0,g=g+Math.imul(vt,zt)|0,m=m+Math.imul(ut,At)|0,a=a+Math.imul(ut,mt)|0,a=a+Math.imul(ot,At)|0,g=g+Math.imul(ot,mt)|0,m=m+Math.imul(G,bt)|0,a=a+Math.imul(G,yt)|0,a=a+Math.imul(L,bt)|0,g=g+Math.imul(L,yt)|0,m=m+Math.imul(E,xt)|0,a=a+Math.imul(E,Nt)|0,a=a+Math.imul(P,xt)|0,g=g+Math.imul(P,Nt)|0,m=m+Math.imul(x,Ct)|0,a=a+Math.imul(x,Mt)|0,a=a+Math.imul(C,Ct)|0,g=g+Math.imul(C,Mt)|0,m=m+Math.imul(j,Et)|0,a=a+Math.imul(j,lt)|0,a=a+Math.imul(f,Et)|0,g=g+Math.imul(f,lt)|0;var Nr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,m=Math.imul(ct,Ot),a=Math.imul(ct,Tt),a=a+Math.imul(wt,Ot)|0,g=Math.imul(wt,Tt),m=m+Math.imul(ft,Dt)|0,a=a+Math.imul(ft,kt)|0,a=a+Math.imul(gt,Dt)|0,g=g+Math.imul(gt,kt)|0,m=m+Math.imul(dt,Lt)|0,a=a+Math.imul(dt,zt)|0,a=a+Math.imul(pt,Lt)|0,g=g+Math.imul(pt,zt)|0,m=m+Math.imul(St,At)|0,a=a+Math.imul(St,mt)|0,a=a+Math.imul(vt,At)|0,g=g+Math.imul(vt,mt)|0,m=m+Math.imul(ut,bt)|0,a=a+Math.imul(ut,yt)|0,a=a+Math.imul(ot,bt)|0,g=g+Math.imul(ot,yt)|0,m=m+Math.imul(G,xt)|0,a=a+Math.imul(G,Nt)|0,a=a+Math.imul(L,xt)|0,g=g+Math.imul(L,Nt)|0,m=m+Math.imul(E,Ct)|0,a=a+Math.imul(E,Mt)|0,a=a+Math.imul(P,Ct)|0,g=g+Math.imul(P,Mt)|0,m=m+Math.imul(x,Et)|0,a=a+Math.imul(x,lt)|0,a=a+Math.imul(C,Et)|0,g=g+Math.imul(C,lt)|0,m=m+Math.imul(j,Bt)|0,a=a+Math.imul(j,Ht)|0,a=a+Math.imul(f,Bt)|0,g=g+Math.imul(f,Ht)|0;var pr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(It,Ot),a=Math.imul(It,Tt),a=a+Math.imul(Rt,Ot)|0,g=Math.imul(Rt,Tt),m=m+Math.imul(ct,Dt)|0,a=a+Math.imul(ct,kt)|0,a=a+Math.imul(wt,Dt)|0,g=g+Math.imul(wt,kt)|0,m=m+Math.imul(ft,Lt)|0,a=a+Math.imul(ft,zt)|0,a=a+Math.imul(gt,Lt)|0,g=g+Math.imul(gt,zt)|0,m=m+Math.imul(dt,At)|0,a=a+Math.imul(dt,mt)|0,a=a+Math.imul(pt,At)|0,g=g+Math.imul(pt,mt)|0,m=m+Math.imul(St,bt)|0,a=a+Math.imul(St,yt)|0,a=a+Math.imul(vt,bt)|0,g=g+Math.imul(vt,yt)|0,m=m+Math.imul(ut,xt)|0,a=a+Math.imul(ut,Nt)|0,a=a+Math.imul(ot,xt)|0,g=g+Math.imul(ot,Nt)|0,m=m+Math.imul(G,Ct)|0,a=a+Math.imul(G,Mt)|0,a=a+Math.imul(L,Ct)|0,g=g+Math.imul(L,Mt)|0,m=m+Math.imul(E,Et)|0,a=a+Math.imul(E,lt)|0,a=a+Math.imul(P,Et)|0,g=g+Math.imul(P,lt)|0,m=m+Math.imul(x,Bt)|0,a=a+Math.imul(x,Ht)|0,a=a+Math.imul(C,Bt)|0,g=g+Math.imul(C,Ht)|0,m=m+Math.imul(j,Kt)|0,a=a+Math.imul(j,Ft)|0,a=a+Math.imul(f,Kt)|0,g=g+Math.imul(f,Ft)|0;var Cr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(It,Dt),a=Math.imul(It,kt),a=a+Math.imul(Rt,Dt)|0,g=Math.imul(Rt,kt),m=m+Math.imul(ct,Lt)|0,a=a+Math.imul(ct,zt)|0,a=a+Math.imul(wt,Lt)|0,g=g+Math.imul(wt,zt)|0,m=m+Math.imul(ft,At)|0,a=a+Math.imul(ft,mt)|0,a=a+Math.imul(gt,At)|0,g=g+Math.imul(gt,mt)|0,m=m+Math.imul(dt,bt)|0,a=a+Math.imul(dt,yt)|0,a=a+Math.imul(pt,bt)|0,g=g+Math.imul(pt,yt)|0,m=m+Math.imul(St,xt)|0,a=a+Math.imul(St,Nt)|0,a=a+Math.imul(vt,xt)|0,g=g+Math.imul(vt,Nt)|0,m=m+Math.imul(ut,Ct)|0,a=a+Math.imul(ut,Mt)|0,a=a+Math.imul(ot,Ct)|0,g=g+Math.imul(ot,Mt)|0,m=m+Math.imul(G,Et)|0,a=a+Math.imul(G,lt)|0,a=a+Math.imul(L,Et)|0,g=g+Math.imul(L,lt)|0,m=m+Math.imul(E,Bt)|0,a=a+Math.imul(E,Ht)|0,a=a+Math.imul(P,Bt)|0,g=g+Math.imul(P,Ht)|0,m=m+Math.imul(x,Kt)|0,a=a+Math.imul(x,Ft)|0,a=a+Math.imul(C,Kt)|0,g=g+Math.imul(C,Ft)|0;var Br=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(It,Lt),a=Math.imul(It,zt),a=a+Math.imul(Rt,Lt)|0,g=Math.imul(Rt,zt),m=m+Math.imul(ct,At)|0,a=a+Math.imul(ct,mt)|0,a=a+Math.imul(wt,At)|0,g=g+Math.imul(wt,mt)|0,m=m+Math.imul(ft,bt)|0,a=a+Math.imul(ft,yt)|0,a=a+Math.imul(gt,bt)|0,g=g+Math.imul(gt,yt)|0,m=m+Math.imul(dt,xt)|0,a=a+Math.imul(dt,Nt)|0,a=a+Math.imul(pt,xt)|0,g=g+Math.imul(pt,Nt)|0,m=m+Math.imul(St,Ct)|0,a=a+Math.imul(St,Mt)|0,a=a+Math.imul(vt,Ct)|0,g=g+Math.imul(vt,Mt)|0,m=m+Math.imul(ut,Et)|0,a=a+Math.imul(ut,lt)|0,a=a+Math.imul(ot,Et)|0,g=g+Math.imul(ot,lt)|0,m=m+Math.imul(G,Bt)|0,a=a+Math.imul(G,Ht)|0,a=a+Math.imul(L,Bt)|0,g=g+Math.imul(L,Ht)|0,m=m+Math.imul(E,Kt)|0,a=a+Math.imul(E,Ft)|0,a=a+Math.imul(P,Kt)|0,g=g+Math.imul(P,Ft)|0;var gr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(It,At),a=Math.imul(It,mt),a=a+Math.imul(Rt,At)|0,g=Math.imul(Rt,mt),m=m+Math.imul(ct,bt)|0,a=a+Math.imul(ct,yt)|0,a=a+Math.imul(wt,bt)|0,g=g+Math.imul(wt,yt)|0,m=m+Math.imul(ft,xt)|0,a=a+Math.imul(ft,Nt)|0,a=a+Math.imul(gt,xt)|0,g=g+Math.imul(gt,Nt)|0,m=m+Math.imul(dt,Ct)|0,a=a+Math.imul(dt,Mt)|0,a=a+Math.imul(pt,Ct)|0,g=g+Math.imul(pt,Mt)|0,m=m+Math.imul(St,Et)|0,a=a+Math.imul(St,lt)|0,a=a+Math.imul(vt,Et)|0,g=g+Math.imul(vt,lt)|0,m=m+Math.imul(ut,Bt)|0,a=a+Math.imul(ut,Ht)|0,a=a+Math.imul(ot,Bt)|0,g=g+Math.imul(ot,Ht)|0,m=m+Math.imul(G,Kt)|0,a=a+Math.imul(G,Ft)|0,a=a+Math.imul(L,Kt)|0,g=g+Math.imul(L,Ft)|0;var _r=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(It,bt),a=Math.imul(It,yt),a=a+Math.imul(Rt,bt)|0,g=Math.imul(Rt,yt),m=m+Math.imul(ct,xt)|0,a=a+Math.imul(ct,Nt)|0,a=a+Math.imul(wt,xt)|0,g=g+Math.imul(wt,Nt)|0,m=m+Math.imul(ft,Ct)|0,a=a+Math.imul(ft,Mt)|0,a=a+Math.imul(gt,Ct)|0,g=g+Math.imul(gt,Mt)|0,m=m+Math.imul(dt,Et)|0,a=a+Math.imul(dt,lt)|0,a=a+Math.imul(pt,Et)|0,g=g+Math.imul(pt,lt)|0,m=m+Math.imul(St,Bt)|0,a=a+Math.imul(St,Ht)|0,a=a+Math.imul(vt,Bt)|0,g=g+Math.imul(vt,Ht)|0,m=m+Math.imul(ut,Kt)|0,a=a+Math.imul(ut,Ft)|0,a=a+Math.imul(ot,Kt)|0,g=g+Math.imul(ot,Ft)|0;var Sr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(It,xt),a=Math.imul(It,Nt),a=a+Math.imul(Rt,xt)|0,g=Math.imul(Rt,Nt),m=m+Math.imul(ct,Ct)|0,a=a+Math.imul(ct,Mt)|0,a=a+Math.imul(wt,Ct)|0,g=g+Math.imul(wt,Mt)|0,m=m+Math.imul(ft,Et)|0,a=a+Math.imul(ft,lt)|0,a=a+Math.imul(gt,Et)|0,g=g+Math.imul(gt,lt)|0,m=m+Math.imul(dt,Bt)|0,a=a+Math.imul(dt,Ht)|0,a=a+Math.imul(pt,Bt)|0,g=g+Math.imul(pt,Ht)|0,m=m+Math.imul(St,Kt)|0,a=a+Math.imul(St,Ft)|0,a=a+Math.imul(vt,Kt)|0,g=g+Math.imul(vt,Ft)|0;var er=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(It,Ct),a=Math.imul(It,Mt),a=a+Math.imul(Rt,Ct)|0,g=Math.imul(Rt,Mt),m=m+Math.imul(ct,Et)|0,a=a+Math.imul(ct,lt)|0,a=a+Math.imul(wt,Et)|0,g=g+Math.imul(wt,lt)|0,m=m+Math.imul(ft,Bt)|0,a=a+Math.imul(ft,Ht)|0,a=a+Math.imul(gt,Bt)|0,g=g+Math.imul(gt,Ht)|0,m=m+Math.imul(dt,Kt)|0,a=a+Math.imul(dt,Ft)|0,a=a+Math.imul(pt,Kt)|0,g=g+Math.imul(pt,Ft)|0;var Rr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(It,Et),a=Math.imul(It,lt),a=a+Math.imul(Rt,Et)|0,g=Math.imul(Rt,lt),m=m+Math.imul(ct,Bt)|0,a=a+Math.imul(ct,Ht)|0,a=a+Math.imul(wt,Bt)|0,g=g+Math.imul(wt,Ht)|0,m=m+Math.imul(ft,Kt)|0,a=a+Math.imul(ft,Ft)|0,a=a+Math.imul(gt,Kt)|0,g=g+Math.imul(gt,Ft)|0;var Pr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(It,Bt),a=Math.imul(It,Ht),a=a+Math.imul(Rt,Bt)|0,g=Math.imul(Rt,Ht),m=m+Math.imul(ct,Kt)|0,a=a+Math.imul(ct,Ft)|0,a=a+Math.imul(wt,Kt)|0,g=g+Math.imul(wt,Ft)|0;var Tr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(It,Kt),a=Math.imul(It,Ft),a=a+Math.imul(Rt,Kt)|0,g=Math.imul(Rt,Ft);var Or=(S+m|0)+((a&8191)<<13)|0;return S=(g+(a>>>13)|0)+(Or>>>26)|0,Or&=67108863,M[0]=Ne,M[1]=Ce,M[2]=Be,M[3]=Re,M[4]=Pe,M[5]=ve,M[6]=dr,M[7]=Nr,M[8]=pr,M[9]=Cr,M[10]=Br,M[11]=gr,M[12]=_r,M[13]=Sr,M[14]=er,M[15]=Rr,M[16]=Pr,M[17]=Tr,M[18]=Or,S!==0&&(M[19]=S,d.length++),d};Math.imul||(rt=J);function ht(s,u,d){d.negative=u.negative^s.negative,d.length=s.length+u.length;for(var y=0,A=0,M=0;M<d.length-1;M++){var S=A;A=0;for(var m=y&67108863,a=Math.min(M,u.length-1),g=Math.max(0,M-s.length+1);g<=a;g++){var Q=M-g,j=s.words[Q]|0,f=u.words[g]|0,T=j*f,x=T&67108863;S=S+(T/67108864|0)|0,x=x+m|0,m=x&67108863,S=S+(x>>>26)|0,A+=S>>>26,S&=67108863}d.words[M]=m,y=S,S=A}return y!==0?d.words[M]=y:d.length--,d._strip()}function et(s,u,d){return ht(s,u,d)}o.prototype.mulTo=function(s,u){var d,y=this.length+s.length;return this.length===10&&s.length===10?d=rt(this,s,u):y<63?d=J(this,s,u):y<1024?d=ht(this,s,u):d=et(this,s,u),d},o.prototype.mul=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},o.prototype.mulf=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),et(this,s,u)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var u=s<0;u&&(s=-s),i(typeof s=="number"),i(s<67108864);for(var d=0,y=0;y<this.length;y++){var A=(this.words[y]|0)*s,M=(A&67108863)+(d&67108863);d>>=26,d+=A/67108864|0,d+=M>>>26,this.words[y]=M&67108863}return d!==0&&(this.words[y]=d,this.length++),u?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var u=k(s);if(u.length===0)return new o(1);for(var d=this,y=0;y<u.length&&u[y]===0;y++,d=d.sqr());if(++y<u.length)for(var A=d.sqr();y<u.length;y++,A=A.sqr())u[y]!==0&&(d=d.mul(A));return d},o.prototype.iushln=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,y=67108863>>>26-u<<26-u,A;if(u!==0){var M=0;for(A=0;A<this.length;A++){var S=this.words[A]&y,m=(this.words[A]|0)-S<<u;this.words[A]=m|M,M=S>>>26-u}M&&(this.words[A]=M,this.length++)}if(d!==0){for(A=this.length-1;A>=0;A--)this.words[A+d]=this.words[A];for(A=0;A<d;A++)this.words[A]=0;this.length+=d}return this._strip()},o.prototype.ishln=function(s){return i(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,u,d){i(typeof s=="number"&&s>=0);var y;u?y=(u-u%26)/26:y=0;var A=s%26,M=Math.min((s-A)/26,this.length),S=67108863^67108863>>>A<<A,m=d;if(y-=M,y=Math.max(0,y),m){for(var a=0;a<M;a++)m.words[a]=this.words[a];m.length=M}if(M!==0)if(this.length>M)for(this.length-=M,a=0;a<this.length;a++)this.words[a]=this.words[a+M];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=y);a--){var Q=this.words[a]|0;this.words[a]=g<<26-A|Q>>>A,g=Q&S}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,u,d){return i(this.negative===0),this.iushrn(s,u,d)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,y=1<<u;if(this.length<=d)return!1;var A=this.words[d];return!!(A&y)},o.prototype.imaskn=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return i(typeof s=="number"),i(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},o.prototype.isubn=function(s){if(i(typeof s=="number"),i(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,u,d){var y=s.length+d,A;this._expand(y);var M,S=0;for(A=0;A<s.length;A++){M=(this.words[A+d]|0)+S;var m=(s.words[A]|0)*u;M-=m&67108863,S=(M>>26)-(m/67108864|0),this.words[A+d]=M&67108863}for(;A<this.length-d;A++)M=(this.words[A+d]|0)+S,S=M>>26,this.words[A+d]=M&67108863;if(S===0)return this._strip();for(i(S===-1),S=0,A=0;A<this.length;A++)M=-(this.words[A]|0)+S,S=M>>26,this.words[A]=M&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,u){var d=this.length-s.length,y=this.clone(),A=s,M=A.words[A.length-1]|0,S=this._countBits(M);d=26-S,d!==0&&(A=A.ushln(d),y.iushln(d),M=A.words[A.length-1]|0);var m=y.length-A.length,a;if(u!=="mod"){a=new o(null),a.length=m+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var Q=y.clone()._ishlnsubmul(A,1,m);Q.negative===0&&(y=Q,a&&(a.words[m]=1));for(var j=m-1;j>=0;j--){var f=(y.words[A.length+j]|0)*67108864+(y.words[A.length+j-1]|0);for(f=Math.min(f/M|0,67108863),y._ishlnsubmul(A,f,j);y.negative!==0;)f--,y.negative=0,y._ishlnsubmul(A,1,j),y.isZero()||(y.negative^=1);a&&(a.words[j]=f)}return a&&a._strip(),y._strip(),u!=="div"&&d!==0&&y.iushrn(d),{div:a||null,mod:y}},o.prototype.divmod=function(s,u,d){if(i(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,A,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(y=M.div.neg()),u!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.iadd(s)),{div:y,mod:A}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(y=M.div.neg()),{div:y,mod:M.mod}):this.negative&s.negative?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.isub(s)),{div:M.div,mod:A}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,u)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(s):u.mod,y=s.ushrn(1),A=s.andln(1),M=d.cmp(y);return M<0||A===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},o.prototype.modrn=function(s){var u=s<0;u&&(s=-s),i(s<=67108863);for(var d=(1<<26)%s,y=0,A=this.length-1;A>=0;A--)y=(d*y+(this.words[A]|0))%s;return u?-y:y},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var u=s<0;u&&(s=-s),i(s<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var A=(this.words[y]|0)+d*67108864;this.words[y]=A/s|0,d=A%s}return this._strip(),u?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){i(s.negative===0),i(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var y=new o(1),A=new o(0),M=new o(0),S=new o(1),m=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++m;for(var a=d.clone(),g=u.clone();!u.isZero();){for(var Q=0,j=1;!(u.words[0]&j)&&Q<26;++Q,j<<=1);if(Q>0)for(u.iushrn(Q);Q-- >0;)(y.isOdd()||A.isOdd())&&(y.iadd(a),A.isub(g)),y.iushrn(1),A.iushrn(1);for(var f=0,T=1;!(d.words[0]&T)&&f<26;++f,T<<=1);if(f>0)for(d.iushrn(f);f-- >0;)(M.isOdd()||S.isOdd())&&(M.iadd(a),S.isub(g)),M.iushrn(1),S.iushrn(1);u.cmp(d)>=0?(u.isub(d),y.isub(M),A.isub(S)):(d.isub(u),M.isub(y),S.isub(A))}return{a:M,b:S,gcd:d.iushln(m)}},o.prototype._invmp=function(s){i(s.negative===0),i(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var y=new o(1),A=new o(0),M=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var S=0,m=1;!(u.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)y.isOdd()&&y.iadd(M),y.iushrn(1);for(var a=0,g=1;!(d.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(d.iushrn(a);a-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);u.cmp(d)>=0?(u.isub(d),y.isub(A)):(d.isub(u),A.isub(y))}var Q;return u.cmpn(1)===0?Q=y:Q=A,Q.cmpn(0)<0&&Q.iadd(s),Q},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),d=s.clone();u.negative=0,d.negative=0;for(var y=0;u.isEven()&&d.isEven();y++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var A=u.cmp(d);if(A<0){var M=u;u=d,d=M}else if(A===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(y)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){i(typeof s=="number");var u=s%26,d=(s-u)/26,y=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=y,this;for(var A=y,M=d;A!==0&&M<this.length;M++){var S=this.words[M]|0;S+=A,A=S>>>26,S&=67108863,this.words[M]=S}return A!==0&&(this.words[M]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(s=-s),i(s<=67108863,"Number is too big");var y=this.words[0]|0;d=y===s?0:y<s?-1:1}return this.negative!==0?-d|0:d},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var y=this.words[d]|0,A=s.words[d]|0;if(y!==A){y<A?u=-1:y>A&&(u=1);break}}return u},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new _t(s)},o.prototype.toRed=function(s){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return i(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return i(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var W={k256:null,p224:null,p192:null,p25519:null};function V(s,u){this.name=s,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},V.prototype.ireduce=function(s){var u=s,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var y=d<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},V.prototype.split=function(s,u){s.iushrn(this.n,0,u)},V.prototype.imulK=function(s){return s.imul(this.k)};function nt(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(nt,V),nt.prototype.split=function(s,u){for(var d=4194303,y=Math.min(s.length,9),A=0;A<y;A++)u.words[A]=s.words[A];if(u.length=y,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&d,A=10;A<s.length;A++){var S=s.words[A]|0;s.words[A-10]=(S&d)<<4|M>>>22,M=S}M>>>=22,s.words[A-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},nt.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,d=0;d<s.length;d++){var y=s.words[d]|0;u+=y*977,s.words[d]=u&67108863,u=y*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function it(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(it,V);function Qt(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Qt,V);function Yt(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Yt,V),Yt.prototype.imulK=function(s){for(var u=0,d=0;d<s.length;d++){var y=(s.words[d]|0)*19+u,A=y&67108863;y>>>=26,s.words[d]=A,u=y}return u!==0&&(s.words[s.length++]=u),s},o._prime=function(s){if(W[s])return W[s];var u;if(s==="k256")u=new nt;else if(s==="p224")u=new it;else if(s==="p192")u=new Qt;else if(s==="p25519")u=new Yt;else throw new Error("Unknown prime "+s);return W[s]=u,u};function _t(s){if(typeof s=="string"){var u=o._prime(s);this.m=u.p,this.prime=u}else i(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}_t.prototype._verify1=function(s){i(s.negative===0,"red works only with positives"),i(s.red,"red works only with red numbers")},_t.prototype._verify2=function(s,u){i((s.negative|u.negative)===0,"red works only with positives"),i(s.red&&s.red===u.red,"red works only with red numbers")},_t.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},_t.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},_t.prototype.add=function(s,u){this._verify2(s,u);var d=s.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},_t.prototype.iadd=function(s,u){this._verify2(s,u);var d=s.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},_t.prototype.sub=function(s,u){this._verify2(s,u);var d=s.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},_t.prototype.isub=function(s,u){this._verify2(s,u);var d=s.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},_t.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},_t.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},_t.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},_t.prototype.isqr=function(s){return this.imul(s,s.clone())},_t.prototype.sqr=function(s){return this.mul(s,s)},_t.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var d=this.m.add(new o(1)).iushrn(2);return this.pow(s,d)}for(var y=this.m.subn(1),A=0;!y.isZero()&&y.andln(1)===0;)A++,y.iushrn(1);i(!y.isZero());var M=new o(1).toRed(this),S=M.redNeg(),m=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new o(2*a*a).toRed(this);this.pow(a,m).cmp(S)!==0;)a.redIAdd(S);for(var g=this.pow(a,y),Q=this.pow(s,y.addn(1).iushrn(1)),j=this.pow(s,y),f=A;j.cmp(M)!==0;){for(var T=j,x=0;T.cmp(M)!==0;x++)T=T.redSqr();i(x<f);var C=this.pow(g,new o(1).iushln(f-x-1));Q=Q.redMul(C),g=C.redSqr(),j=j.redMul(g),f=x}return Q},_t.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},_t.prototype.pow=function(s,u){if(u.isZero())return new o(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var d=4,y=new Array(1<<d);y[0]=new o(1).toRed(this),y[1]=s;for(var A=2;A<y.length;A++)y[A]=this.mul(y[A-1],s);var M=y[0],S=0,m=0,a=u.bitLength()%26;for(a===0&&(a=26),A=u.length-1;A>=0;A--){for(var g=u.words[A],Q=a-1;Q>=0;Q--){var j=g>>Q&1;if(M!==y[0]&&(M=this.sqr(M)),j===0&&S===0){m=0;continue}S<<=1,S|=j,m++,!(m!==d&&(A!==0||Q!==0))&&(M=this.mul(M,y[S]),m=0,S=0)}a=26}return M},_t.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},_t.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},o.mont=function(s){return new Vt(s)};function Vt(s){_t.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Vt,_t),Vt.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Vt.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},Vt.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(u),y=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(y).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},Vt.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new o(0)._forceRed(this);var d=s.mul(u),y=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(y).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},Vt.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,Z6)})(iy);var Me=iy.exports;const ny="bignumber/5.7.0";var D1=Me.BN;const wo=new zi(ny),Sd={},L2=9007199254740991;function XI(e){return e!=null&&(_i.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Eh(e)||typeof e=="bigint"||of(e))}let z2=!1,_i=class Gn{constructor(t,r){t!==Sd&&wo.throwError("cannot call constructor directly; use BigNumber.from",zi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Ti(Ue(this).fromTwos(t))}toTwos(t){return Ti(Ue(this).toTwos(t))}abs(){return this._hex[0]==="-"?Gn.from(this._hex.substring(1)):this}add(t){return Ti(Ue(this).add(Ue(t)))}sub(t){return Ti(Ue(this).sub(Ue(t)))}div(t){return Gn.from(t).isZero()&&gn("division-by-zero","div"),Ti(Ue(this).div(Ue(t)))}mul(t){return Ti(Ue(this).mul(Ue(t)))}mod(t){const r=Ue(t);return r.isNeg()&&gn("division-by-zero","mod"),Ti(Ue(this).umod(r))}pow(t){const r=Ue(t);return r.isNeg()&&gn("negative-power","pow"),Ti(Ue(this).pow(r))}and(t){const r=Ue(t);return(this.isNegative()||r.isNeg())&&gn("unbound-bitwise-result","and"),Ti(Ue(this).and(r))}or(t){const r=Ue(t);return(this.isNegative()||r.isNeg())&&gn("unbound-bitwise-result","or"),Ti(Ue(this).or(r))}xor(t){const r=Ue(t);return(this.isNegative()||r.isNeg())&&gn("unbound-bitwise-result","xor"),Ti(Ue(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&gn("negative-width","mask"),Ti(Ue(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&gn("negative-width","shl"),Ti(Ue(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&gn("negative-width","shr"),Ti(Ue(this).shrn(t))}eq(t){return Ue(this).eq(Ue(t))}lt(t){return Ue(this).lt(Ue(t))}lte(t){return Ue(this).lte(Ue(t))}gt(t){return Ue(this).gt(Ue(t))}gte(t){return Ue(this).gte(Ue(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Ue(this).isZero()}toNumber(){try{return Ue(this).toNumber()}catch{gn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return wo.throwError("this platform does not support BigInt",zi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?z2||(z2=!0,wo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?wo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",zi.errors.UNEXPECTED_ARGUMENT,{}):wo.throwError("BigNumber.toString does not accept parameters",zi.errors.UNEXPECTED_ARGUMENT,{})),Ue(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Gn)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Gn(Sd,Yu(t)):t.match(/^-?[0-9]+$/)?new Gn(Sd,Yu(new D1(t))):wo.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&gn("underflow","BigNumber.from",t),(t>=L2||t<=-L2)&&gn("overflow","BigNumber.from",t),Gn.from(String(t));const r=t;if(typeof r=="bigint")return Gn.from(r.toString());if(of(r))return Gn.from(ry(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return Gn.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Eh(i)||i[0]==="-"&&Eh(i.substring(1))))return Gn.from(i)}return wo.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function Yu(e){if(typeof e!="string")return Yu(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&wo.throwArgumentError("invalid hex","value",e),e=Yu(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Ti(e){return _i.from(Yu(e))}function Ue(e){const t=_i.from(e).toHexString();return t[0]==="-"?new D1("-"+t.substring(3),16):new D1(t.substring(2),16)}function gn(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),wo.throwError(e,zi.errors.NUMERIC_FAULT,i)}const wi=new zi(ny),Lu={},sy=_i.from(0),oy=_i.from(-1);function ay(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),wi.throwError(e,zi.errors.NUMERIC_FAULT,n)}let zu="0";for(;zu.length<256;)zu+=zu;function yp(e){if(typeof e!="number")try{e=_i.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+zu.substring(0,e):wi.throwArgumentError("invalid decimal size","decimals",e)}function Id(e,t){t==null&&(t=0);const r=yp(t);e=_i.from(e);const i=e.lt(sy);i&&(e=e.mul(oy));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return r.length===1?e=o:e=o+"."+n,i&&(e="-"+e),e}function po(e,t){t==null&&(t=0);const r=yp(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&wi.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&wi.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&wi.throwArgumentError("too many decimal points","value",e);let o=n[0],c=n[1];for(o||(o="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&ay("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const v=_i.from(o),w=_i.from(c);let p=v.mul(r).add(w);return i&&(p=p.mul(oy)),p}let xd=class F1{constructor(t,r,i,n){t!==Lu&&wi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",zi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=yp(n),Object.freeze(this)}static from(t){if(t instanceof F1)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||wi.throwArgumentError("invalid fixed format","format",t),r=o[1]!=="u",i=parseInt(o[2]),n=parseInt(o[3])}}else if(t){const o=(c,v,w)=>t[c]==null?w:(typeof t[c]!==v&&wi.throwArgumentError("invalid fixed format ("+c+" not "+v+")","format."+c,t[c]),t[c]);r=o("signed","boolean",r),i=o("width","number",i),n=o("decimals","number",n)}return i%8&&wi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&wi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new F1(Lu,r,i,n)}},hy=class gi{constructor(t,r,i,n){t!==Lu&&wi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",zi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&wi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=po(this._value,this.format.decimals),i=po(t._value,t.format.decimals);return gi.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=po(this._value,this.format.decimals),i=po(t._value,t.format.decimals);return gi.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=po(this._value,this.format.decimals),i=po(t._value,t.format.decimals);return gi.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=po(this._value,this.format.decimals),i=po(t._value,t.format.decimals);return gi.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=gi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe($2.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=gi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe($2.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&wi.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=gi.from("1"+zu.substring(0,t),this.format),n=ZI.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&wi.throwArgumentError("invalid byte width","width",t);const r=_i.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return vc(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return gi.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!XI(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),gi.fromString(Id(t,r),xd.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=xd.from(r),n=po(t,i.decimals);!i.signed&&n.lt(sy)&&ay("unsigned value cannot be negative","overflow","value",t);let o=null;i.signed?o=n.toTwos(i.width).toHexString():(o=n.toHexString(),o=vc(o,i.width/8));const c=Id(n,i.decimals);return new gi(Lu,o,c,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=xd.from(r);if(ey(t).length>i.width/8)throw new Error("overflow");let n=_i.from(t);i.signed&&(n=n.fromTwos(i.width));const o=n.toTwos((i.signed?0:1)+i.width).toHexString(),c=Id(n,i.decimals);return new gi(Lu,o,c,i)}static from(t,r){if(typeof t=="string")return gi.fromString(t,r);if(of(t))return gi.fromBytes(t,r);try{return gi.fromValue(t,0,r)}catch(i){if(i.code!==zi.errors.INVALID_ARGUMENT)throw i}return wi.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const $2=hy.from(1),ZI=hy.from("0.5");var H2;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(H2||(H2={}));var K2;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(K2||(K2={}));function tx(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function Nd(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let o=n.split(":");r+=parseInt(o[0],16),i[r]=t(o[1])}),i}function j2(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}j2("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),Nd("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Nd("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Nd("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",tx),j2("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function ex(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return ey(t)}function uy(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(o,c){i.call(o,function(v){c>0&&Array.isArray(v)?n(v,c-1):r.push(v)})};return n(e,t),r}function rx(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function ix(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,o=[0,1];for(let W=1;W<i;W++)o.push(n+=r());let c=r(),v=t;t+=c;let w=0,p=0;function _(){return w==0&&(p=p<<8|e[t++],w=8),p>>--w&1}const I=31,B=Math.pow(2,I),R=B>>>1,O=R>>1,z=B-1;let k=0;for(let W=0;W<I;W++)k=k<<1|_();let J=[],rt=0,ht=B;for(;;){let W=Math.floor(((k-rt+1)*n-1)/ht),V=0,nt=i;for(;nt-V>1;){let Yt=V+nt>>>1;W<o[Yt]?nt=Yt:V=Yt}if(V==0)break;J.push(V);let it=rt+Math.floor(ht*o[V]/n),Qt=rt+Math.floor(ht*o[V+1]/n)-1;for(;!((it^Qt)&R);)k=k<<1&z|_(),it=it<<1&z,Qt=Qt<<1&z|1;for(;it&~Qt&O;)k=k&R|k<<1&z>>>1|_(),it=it<<1^R,Qt=(Qt^R)<<1|R|1;rt=it,ht=1+Qt-it}let et=i-4;return J.map(W=>{switch(W-et){case 3:return et+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return et+256+(e[v++]<<8|e[v++]);case 1:return et+e[v++];default:return W-1}})}function nx(e){let t=0;return()=>e[t++]}function sx(e){return nx(ix(e))}function ox(e){return e&1?~e>>1:e>>1}function ax(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function Q2(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function hx(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=ox(t());return r}function yc(e,t){let r=Q2(e(),e),i=e(),n=Q2(i,e),o=ax(i,e);for(let c=0;c<i;c++)for(let v=0;v<o[c];v++)r.push(n[c]+v);return t?r.map(c=>t[c]):r}function ux(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(cx(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(lx(r,e))}return rx(uy(t))}function fx(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function fy(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)hx(e,r).forEach((o,c)=>i[c].push(o));return i}function cx(e,t){let r=1+t(),i=t(),n=fx(t),o=fy(n.length,1+e,t);return uy(o.map((c,v)=>{const w=c[0],p=c.slice(1);return Array(n[v]).fill(void 0).map((_,I)=>{let B=I*i;return[w+I*r,p.map(R=>R+B)]})}))}function lx(e,t){let r=1+t();return fy(r,1+e,t).map(i=>[i[0],i.slice(1)])}function dx(e){let t=yc(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let p=yc(e,t);if(p.length==0)break;i.push({set:new Set(p),node:r()})}i.sort((p,_)=>_.set.size-p.set.size);let n=e(),o=n%3;n=n/3|0;let c=!!(n&1);n>>=1;let v=n==1,w=n==2;return{branches:i,valid:o,fe0f:c,save:v,check:w}}}function px(){return sx(ex("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"))}const E0=px();new Set(yc(E0)),new Set(yc(E0)),ux(E0),dx(E0);const gx=new Uint8Array(32);gx.fill(0);const mx=new Uint8Array(32);mx.fill(0),_i.from(-1);const vx=_i.from(0),yx=_i.from(1);_i.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),vc(yx.toHexString(),32),vc(vx.toHexString(),32);var Ms={},ze={},af=cy;function cy(e,t){if(!e)throw new Error(t||"Assertion failed")}cy.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var U1={exports:{}};typeof Object.create=="function"?U1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:U1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var wx=af,Ax=U1.exports;ze.inherits=Ax;function bx(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function Mx(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):bx(e,n)?(o=65536+((o&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}ze.toArray=Mx;function Ex(e){for(var t="",r=0;r<e.length;r++)t+=dy(e[r].toString(16));return t}ze.toHex=Ex;function ly(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}ze.htonl=ly;function _x(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=ly(n)),r+=py(n.toString(16))}return r}ze.toHex32=_x;function dy(e){return e.length===1?"0"+e:e}ze.zero2=dy;function py(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}ze.zero8=py;function Sx(e,t,r,i){var n=r-t;wx(n%4===0);for(var o=new Array(n/4),c=0,v=t;c<o.length;c++,v+=4){var w;i==="big"?w=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:w=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],o[c]=w>>>0}return o}ze.join32=Sx;function Ix(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var o=e[i];t==="big"?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=o&255)}return r}ze.split32=Ix;function xx(e,t){return e>>>t|e<<32-t}ze.rotr32=xx;function Nx(e,t){return e<<t|e>>>32-t}ze.rotl32=Nx;function Cx(e,t){return e+t>>>0}ze.sum32=Cx;function Bx(e,t,r){return e+t+r>>>0}ze.sum32_3=Bx;function Rx(e,t,r,i){return e+t+r+i>>>0}ze.sum32_4=Rx;function Px(e,t,r,i,n){return e+t+r+i+n>>>0}ze.sum32_5=Px;function Tx(e,t,r,i){var n=e[t],o=e[t+1],c=i+o>>>0,v=(c<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=c}ze.sum64=Tx;function Ox(e,t,r,i){var n=t+i>>>0,o=(n<t?1:0)+e+r;return o>>>0}ze.sum64_hi=Ox;function Dx(e,t,r,i){var n=t+i;return n>>>0}ze.sum64_lo=Dx;function Fx(e,t,r,i,n,o,c,v){var w=0,p=t;p=p+i>>>0,w+=p<t?1:0,p=p+o>>>0,w+=p<o?1:0,p=p+v>>>0,w+=p<v?1:0;var _=e+r+n+c+w;return _>>>0}ze.sum64_4_hi=Fx;function Ux(e,t,r,i,n,o,c,v){var w=t+i+o+v;return w>>>0}ze.sum64_4_lo=Ux;function kx(e,t,r,i,n,o,c,v,w,p){var _=0,I=t;I=I+i>>>0,_+=I<t?1:0,I=I+o>>>0,_+=I<o?1:0,I=I+v>>>0,_+=I<v?1:0,I=I+p>>>0,_+=I<p?1:0;var B=e+r+n+c+w+_;return B>>>0}ze.sum64_5_hi=kx;function qx(e,t,r,i,n,o,c,v,w,p){var _=t+i+o+v+p;return _>>>0}ze.sum64_5_lo=qx;function Lx(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}ze.rotr64_hi=Lx;function zx(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ze.rotr64_lo=zx;function $x(e,t,r){return e>>>r}ze.shr64_hi=$x;function Hx(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}ze.shr64_lo=Hx;var kh={},G2=ze,Kx=af;function _0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}kh.BlockHash=_0,_0.prototype.update=function(e,t){if(e=G2.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=G2.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},_0.prototype.digest=function(e){return this.update(this._pad()),Kx(this.pending===null),this._digest(e)},_0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,o=8;o<this.padLength;o++)i[n++]=0;return i};var ah={},Zs={},jx=ze,Ls=jx.rotr32;function Qx(e,t,r,i){if(e===0)return gy(t,r,i);if(e===1||e===3)return vy(t,r,i);if(e===2)return my(t,r,i)}Zs.ft_1=Qx;function gy(e,t,r){return e&t^~e&r}Zs.ch32=gy;function my(e,t,r){return e&t^e&r^t&r}Zs.maj32=my;function vy(e,t,r){return e^t^r}Zs.p32=vy;function Gx(e){return Ls(e,2)^Ls(e,13)^Ls(e,22)}Zs.s0_256=Gx;function Jx(e){return Ls(e,6)^Ls(e,11)^Ls(e,25)}Zs.s1_256=Jx;function Yx(e){return Ls(e,7)^Ls(e,18)^e>>>3}Zs.g0_256=Yx;function Vx(e){return Ls(e,17)^Ls(e,19)^e>>>10}Zs.g1_256=Vx;var _h=ze,Wx=kh,Xx=Zs,Cd=_h.rotl32,yu=_h.sum32,Zx=_h.sum32_5,tN=Xx.ft_1,yy=Wx.BlockHash,eN=[1518500249,1859775393,2400959708,3395469782];function Rs(){if(!(this instanceof Rs))return new Rs;yy.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}_h.inherits(Rs,yy);var rN=Rs;Rs.blockSize=512,Rs.outSize=160,Rs.hmacStrength=80,Rs.padLength=64,Rs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Cd(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],o=this.h[1],c=this.h[2],v=this.h[3],w=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),_=Zx(Cd(n,5),tN(p,o,c,v),w,r[i],eN[p]);w=v,v=c,c=Cd(o,30),o=n,n=_}this.h[0]=yu(this.h[0],n),this.h[1]=yu(this.h[1],o),this.h[2]=yu(this.h[2],c),this.h[3]=yu(this.h[3],v),this.h[4]=yu(this.h[4],w)},Rs.prototype._digest=function(e){return e==="hex"?_h.toHex32(this.h,"big"):_h.split32(this.h,"big")};var Sh=ze,iN=kh,qh=Zs,nN=af,qn=Sh.sum32,sN=Sh.sum32_4,oN=Sh.sum32_5,aN=qh.ch32,hN=qh.maj32,uN=qh.s0_256,fN=qh.s1_256,cN=qh.g0_256,lN=qh.g1_256,wy=iN.BlockHash,dN=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ps(){if(!(this instanceof Ps))return new Ps;wy.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=dN,this.W=new Array(64)}Sh.inherits(Ps,wy);var Ay=Ps;Ps.blockSize=512,Ps.outSize=256,Ps.hmacStrength=192,Ps.padLength=64,Ps.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=sN(lN(r[i-2]),r[i-7],cN(r[i-15]),r[i-16]);var n=this.h[0],o=this.h[1],c=this.h[2],v=this.h[3],w=this.h[4],p=this.h[5],_=this.h[6],I=this.h[7];for(nN(this.k.length===r.length),i=0;i<r.length;i++){var B=oN(I,fN(w),aN(w,p,_),this.k[i],r[i]),R=qn(uN(n),hN(n,o,c));I=_,_=p,p=w,w=qn(v,B),v=c,c=o,o=n,n=qn(B,R)}this.h[0]=qn(this.h[0],n),this.h[1]=qn(this.h[1],o),this.h[2]=qn(this.h[2],c),this.h[3]=qn(this.h[3],v),this.h[4]=qn(this.h[4],w),this.h[5]=qn(this.h[5],p),this.h[6]=qn(this.h[6],_),this.h[7]=qn(this.h[7],I)},Ps.prototype._digest=function(e){return e==="hex"?Sh.toHex32(this.h,"big"):Sh.split32(this.h,"big")};var k1=ze,by=Ay;function _o(){if(!(this instanceof _o))return new _o;by.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}k1.inherits(_o,by);var pN=_o;_o.blockSize=512,_o.outSize=224,_o.hmacStrength=192,_o.padLength=64,_o.prototype._digest=function(e){return e==="hex"?k1.toHex32(this.h.slice(0,7),"big"):k1.split32(this.h.slice(0,7),"big")};var Hi=ze,gN=kh,mN=af,zs=Hi.rotr64_hi,$s=Hi.rotr64_lo,My=Hi.shr64_hi,Ey=Hi.shr64_lo,zo=Hi.sum64,Bd=Hi.sum64_hi,Rd=Hi.sum64_lo,vN=Hi.sum64_4_hi,yN=Hi.sum64_4_lo,wN=Hi.sum64_5_hi,AN=Hi.sum64_5_lo,_y=gN.BlockHash,bN=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ts(){if(!(this instanceof ts))return new ts;_y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=bN,this.W=new Array(160)}Hi.inherits(ts,_y);var Sy=ts;ts.blockSize=1024,ts.outSize=512,ts.hmacStrength=192,ts.padLength=128,ts.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=PN(r[i-4],r[i-3]),o=TN(r[i-4],r[i-3]),c=r[i-14],v=r[i-13],w=BN(r[i-30],r[i-29]),p=RN(r[i-30],r[i-29]),_=r[i-32],I=r[i-31];r[i]=vN(n,o,c,v,w,p,_,I),r[i+1]=yN(n,o,c,v,w,p,_,I)}},ts.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],o=this.h[2],c=this.h[3],v=this.h[4],w=this.h[5],p=this.h[6],_=this.h[7],I=this.h[8],B=this.h[9],R=this.h[10],O=this.h[11],z=this.h[12],k=this.h[13],J=this.h[14],rt=this.h[15];mN(this.k.length===r.length);for(var ht=0;ht<r.length;ht+=2){var et=J,W=rt,V=NN(I,B),nt=CN(I,B),it=MN(I,B,R,O,z),Qt=EN(I,B,R,O,z,k),Yt=this.k[ht],_t=this.k[ht+1],Vt=r[ht],s=r[ht+1],u=wN(et,W,V,nt,it,Qt,Yt,_t,Vt,s),d=AN(et,W,V,nt,it,Qt,Yt,_t,Vt,s);et=IN(i,n),W=xN(i,n),V=_N(i,n,o,c,v),nt=SN(i,n,o,c,v,w);var y=Bd(et,W,V,nt),A=Rd(et,W,V,nt);J=z,rt=k,z=R,k=O,R=I,O=B,I=Bd(p,_,u,d),B=Rd(_,_,u,d),p=v,_=w,v=o,w=c,o=i,c=n,i=Bd(u,d,y,A),n=Rd(u,d,y,A)}zo(this.h,0,i,n),zo(this.h,2,o,c),zo(this.h,4,v,w),zo(this.h,6,p,_),zo(this.h,8,I,B),zo(this.h,10,R,O),zo(this.h,12,z,k),zo(this.h,14,J,rt)},ts.prototype._digest=function(e){return e==="hex"?Hi.toHex32(this.h,"big"):Hi.split32(this.h,"big")};function MN(e,t,r,i,n){var o=e&r^~e&n;return o<0&&(o+=4294967296),o}function EN(e,t,r,i,n,o){var c=t&i^~t&o;return c<0&&(c+=4294967296),c}function _N(e,t,r,i,n){var o=e&r^e&n^r&n;return o<0&&(o+=4294967296),o}function SN(e,t,r,i,n,o){var c=t&i^t&o^i&o;return c<0&&(c+=4294967296),c}function IN(e,t){var r=zs(e,t,28),i=zs(t,e,2),n=zs(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function xN(e,t){var r=$s(e,t,28),i=$s(t,e,2),n=$s(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function NN(e,t){var r=zs(e,t,14),i=zs(e,t,18),n=zs(t,e,9),o=r^i^n;return o<0&&(o+=4294967296),o}function CN(e,t){var r=$s(e,t,14),i=$s(e,t,18),n=$s(t,e,9),o=r^i^n;return o<0&&(o+=4294967296),o}function BN(e,t){var r=zs(e,t,1),i=zs(e,t,8),n=My(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function RN(e,t){var r=$s(e,t,1),i=$s(e,t,8),n=Ey(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function PN(e,t){var r=zs(e,t,19),i=zs(t,e,29),n=My(e,t,6),o=r^i^n;return o<0&&(o+=4294967296),o}function TN(e,t){var r=$s(e,t,19),i=$s(t,e,29),n=Ey(e,t,6),o=r^i^n;return o<0&&(o+=4294967296),o}var q1=ze,Iy=Sy;function So(){if(!(this instanceof So))return new So;Iy.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}q1.inherits(So,Iy);var ON=So;So.blockSize=1024,So.outSize=384,So.hmacStrength=192,So.padLength=128,So.prototype._digest=function(e){return e==="hex"?q1.toHex32(this.h.slice(0,12),"big"):q1.split32(this.h.slice(0,12),"big")},ah.sha1=rN,ah.sha224=pN,ah.sha256=Ay,ah.sha384=ON,ah.sha512=Sy;var xy={},Ea=ze,DN=kh,S0=Ea.rotl32,J2=Ea.sum32,wu=Ea.sum32_3,Y2=Ea.sum32_4,Ny=DN.BlockHash;function Es(){if(!(this instanceof Es))return new Es;Ny.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ea.inherits(Es,Ny),xy.ripemd160=Es,Es.blockSize=512,Es.outSize=160,Es.hmacStrength=192,Es.padLength=64,Es.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],o=this.h[3],c=this.h[4],v=r,w=i,p=n,_=o,I=c,B=0;B<80;B++){var R=J2(S0(Y2(r,V2(B,i,n,o),e[kN[B]+t],FN(B)),LN[B]),c);r=c,c=o,o=S0(n,10),n=i,i=R,R=J2(S0(Y2(v,V2(79-B,w,p,_),e[qN[B]+t],UN(B)),zN[B]),I),v=I,I=_,_=S0(p,10),p=w,w=R}R=wu(this.h[1],n,_),this.h[1]=wu(this.h[2],o,I),this.h[2]=wu(this.h[3],c,v),this.h[3]=wu(this.h[4],r,w),this.h[4]=wu(this.h[0],i,p),this.h[0]=R},Es.prototype._digest=function(e){return e==="hex"?Ea.toHex32(this.h,"little"):Ea.split32(this.h,"little")};function V2(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function FN(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function UN(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var kN=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],qN=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],LN=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],zN=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],$N=ze,HN=af;function gh(e,t,r){if(!(this instanceof gh))return new gh(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init($N.toArray(t,r))}var KN=gh;gh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),HN(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},gh.prototype.update=function(e,t){return this.inner.update(e,t),this},gh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=ze,t.common=kh,t.sha=ah,t.ripemd=xy,t.hmac=KN,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Ms);function Lh(e,t,r){return r={path:t,exports:{},require:function(i,n){return jN(i,n??r.path)}},e(r,r.exports),r.exports}function jN(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var wp=Cy;function Cy(e,t){if(!e)throw new Error(t||"Assertion failed")}Cy.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var os=Lh(function(e,t){var r=t;function i(c,v){if(Array.isArray(c))return c.slice();if(!c)return[];var w=[];if(typeof c!="string"){for(var p=0;p<c.length;p++)w[p]=c[p]|0;return w}if(v==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var p=0;p<c.length;p+=2)w.push(parseInt(c[p]+c[p+1],16))}else for(var p=0;p<c.length;p++){var _=c.charCodeAt(p),I=_>>8,B=_&255;I?w.push(I,B):w.push(B)}return w}r.toArray=i;function n(c){return c.length===1?"0"+c:c}r.zero2=n;function o(c){for(var v="",w=0;w<c.length;w++)v+=n(c[w].toString(16));return v}r.toHex=o,r.encode=function(c,v){return v==="hex"?o(c):c}}),tn=Lh(function(e,t){var r=t;r.assert=wp,r.toArray=os.toArray,r.zero2=os.zero2,r.toHex=os.toHex,r.encode=os.encode;function i(w,p,_){var I=new Array(Math.max(w.bitLength(),_)+1);I.fill(0);for(var B=1<<p+1,R=w.clone(),O=0;O<I.length;O++){var z,k=R.andln(B-1);R.isOdd()?(k>(B>>1)-1?z=(B>>1)-k:z=k,R.isubn(z)):z=0,I[O]=z,R.iushrn(1)}return I}r.getNAF=i;function n(w,p){var _=[[],[]];w=w.clone(),p=p.clone();for(var I=0,B=0,R;w.cmpn(-I)>0||p.cmpn(-B)>0;){var O=w.andln(3)+I&3,z=p.andln(3)+B&3;O===3&&(O=-1),z===3&&(z=-1);var k;O&1?(R=w.andln(7)+I&7,(R===3||R===5)&&z===2?k=-O:k=O):k=0,_[0].push(k);var J;z&1?(R=p.andln(7)+B&7,(R===3||R===5)&&O===2?J=-z:J=z):J=0,_[1].push(J),2*I===k+1&&(I=1-I),2*B===J+1&&(B=1-B),w.iushrn(1),p.iushrn(1)}return _}r.getJSF=n;function o(w,p,_){var I="_"+p;w.prototype[p]=function(){return this[I]!==void 0?this[I]:this[I]=_.call(this)}}r.cachedProperty=o;function c(w){return typeof w=="string"?r.toArray(w,"hex"):w}r.parseBytes=c;function v(w){return new Me(w,"hex","le")}r.intFromLE=v}),I0=tn.getNAF,QN=tn.getJSF,wc=tn.assert;function Jo(e,t){this.type=e,this.p=new Me(t.p,16),this.red=t.prime?Me.red(t.prime):Me.mont(this.p),this.zero=new Me(0).toRed(this.red),this.one=new Me(1).toRed(this.red),this.two=new Me(2).toRed(this.red),this.n=t.n&&new Me(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ta=Jo;Jo.prototype.point=function(){throw new Error("Not implemented")},Jo.prototype.validate=function(){throw new Error("Not implemented")},Jo.prototype._fixedNafMul=function(e,t){wc(e.precomputed);var r=e._getDoubles(),i=I0(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var o=[],c,v;for(c=0;c<i.length;c+=r.step){v=0;for(var w=c+r.step-1;w>=c;w--)v=(v<<1)+i[w];o.push(v)}for(var p=this.jpoint(null,null,null),_=this.jpoint(null,null,null),I=n;I>0;I--){for(c=0;c<o.length;c++)v=o[c],v===I?_=_.mixedAdd(r.points[c]):v===-I&&(_=_.mixedAdd(r.points[c].neg()));p=p.add(_)}return p.toP()},Jo.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=I0(t,r,this._bitLength),c=this.jpoint(null,null,null),v=o.length-1;v>=0;v--){for(var w=0;v>=0&&o[v]===0;v--)w++;if(v>=0&&w++,c=c.dblp(w),v<0)break;var p=o[v];wc(p!==0),e.type==="affine"?p>0?c=c.mixedAdd(n[p-1>>1]):c=c.mixedAdd(n[-p-1>>1].neg()):p>0?c=c.add(n[p-1>>1]):c=c.add(n[-p-1>>1].neg())}return e.type==="affine"?c.toP():c},Jo.prototype._wnafMulAdd=function(e,t,r,i,n){var o=this._wnafT1,c=this._wnafT2,v=this._wnafT3,w=0,p,_,I;for(p=0;p<i;p++){I=t[p];var B=I._getNAFPoints(e);o[p]=B.wnd,c[p]=B.points}for(p=i-1;p>=1;p-=2){var R=p-1,O=p;if(o[R]!==1||o[O]!==1){v[R]=I0(r[R],o[R],this._bitLength),v[O]=I0(r[O],o[O],this._bitLength),w=Math.max(v[R].length,w),w=Math.max(v[O].length,w);continue}var z=[t[R],null,null,t[O]];t[R].y.cmp(t[O].y)===0?(z[1]=t[R].add(t[O]),z[2]=t[R].toJ().mixedAdd(t[O].neg())):t[R].y.cmp(t[O].y.redNeg())===0?(z[1]=t[R].toJ().mixedAdd(t[O]),z[2]=t[R].add(t[O].neg())):(z[1]=t[R].toJ().mixedAdd(t[O]),z[2]=t[R].toJ().mixedAdd(t[O].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],J=QN(r[R],r[O]);for(w=Math.max(J[0].length,w),v[R]=new Array(w),v[O]=new Array(w),_=0;_<w;_++){var rt=J[0][_]|0,ht=J[1][_]|0;v[R][_]=k[(rt+1)*3+(ht+1)],v[O][_]=0,c[R]=z}}var et=this.jpoint(null,null,null),W=this._wnafT4;for(p=w;p>=0;p--){for(var V=0;p>=0;){var nt=!0;for(_=0;_<i;_++)W[_]=v[_][p]|0,W[_]!==0&&(nt=!1);if(!nt)break;V++,p--}if(p>=0&&V++,et=et.dblp(V),p<0)break;for(_=0;_<i;_++){var it=W[_];it!==0&&(it>0?I=c[_][it-1>>1]:it<0&&(I=c[_][-it-1>>1].neg()),I.type==="affine"?et=et.mixedAdd(I):et=et.add(I))}}for(p=0;p<i;p++)c[p]=null;return n?et:et.toP()};function mn(e,t){this.curve=e,this.type=t,this.precomputed=null}Jo.BasePoint=mn,mn.prototype.eq=function(){throw new Error("Not implemented")},mn.prototype.validate=function(){return this.curve.validate(this)},Jo.prototype.decodePoint=function(e,t){e=tn.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?wc(e[e.length-1]%2===0):e[0]===7&&wc(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},mn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},mn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},mn.prototype.encode=function(e,t){return tn.encode(this._encode(t),e)},mn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},mn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},mn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}},mn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},mn.prototype._getBeta=function(){return null},mn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Ap=Lh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),GN=tn.assert;function Cn(e){Ta.call(this,"short",e),this.a=new Me(e.a,16).toRed(this.red),this.b=new Me(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ap(Cn,Ta);var JN=Cn;Cn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Me(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Me(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],GN(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(c){return{a:new Me(c.a,16),b:new Me(c.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}},Cn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Me.mont(e),r=new Me(2).toRed(t).redInvm(),i=r.redNeg(),n=new Me(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(n).fromRed(),c=i.redSub(n).fromRed();return[o,c]},Cn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new Me(1),o=new Me(0),c=new Me(0),v=new Me(1),w,p,_,I,B,R,O,z=0,k,J;r.cmpn(0)!==0;){var rt=i.div(r);k=i.sub(rt.mul(r)),J=c.sub(rt.mul(n));var ht=v.sub(rt.mul(o));if(!_&&k.cmp(t)<0)w=O.neg(),p=n,_=k.neg(),I=J;else if(_&&++z===2)break;O=k,i=r,r=k,c=n,n=J,v=o,o=ht}B=k.neg(),R=J;var et=_.sqr().add(I.sqr()),W=B.sqr().add(R.sqr());return W.cmp(et)>=0&&(B=w,R=p),_.negative&&(_=_.neg(),I=I.neg()),B.negative&&(B=B.neg(),R=R.neg()),[{a:_,b:I},{a:B,b:R}]},Cn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),c=n.mul(r.a),v=o.mul(i.a),w=n.mul(r.b),p=o.mul(i.b),_=e.sub(c).sub(v),I=w.add(p).neg();return{k1:_,k2:I}},Cn.prototype.pointFromX=function(e,t){e=new Me(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Cn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Cn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var c=this._endoSplit(t[o]),v=e[o],w=v._getBeta();c.k1.negative&&(c.k1.ineg(),v=v.neg(!0)),c.k2.negative&&(c.k2.ineg(),w=w.neg(!0)),i[o*2]=v,i[o*2+1]=w,n[o*2]=c.k1,n[o*2+1]=c.k2}for(var p=this._wnafMulAdd(1,i,n,o*2,r),_=0;_<o*2;_++)i[_]=null,n[_]=null;return p};function Kr(e,t,r,i){Ta.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Me(t,16),this.y=new Me(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ap(Kr,Ta.BasePoint),Cn.prototype.point=function(e,t,r){return new Kr(this,e,t,r)},Cn.prototype.pointFromJSON=function(e,t){return Kr.fromJSON(this,e,t)},Kr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Kr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Kr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(c){return e.point(c[0],c[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},Kr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Kr.prototype.isInfinity=function(){return this.inf},Kr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Kr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),c=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,c)},Kr.prototype.getX=function(){return this.x.fromRed()},Kr.prototype.getY=function(){return this.y.fromRed()},Kr.prototype.mul=function(e){return e=new Me(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Kr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Kr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Kr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Kr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Kr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Wr(e,t,r,i){Ta.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Me(0)):(this.x=new Me(t,16),this.y=new Me(r,16),this.z=new Me(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ap(Wr,Ta.BasePoint),Cn.prototype.jpoint=function(e,t,r){return new Wr(this,e,t,r)},Wr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Wr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Wr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),w=o.redSub(c);if(v.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=v.redSqr(),_=p.redMul(v),I=i.redMul(p),B=w.redSqr().redIAdd(_).redISub(I).redISub(I),R=w.redMul(I.redISub(B)).redISub(o.redMul(_)),O=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(B,R,O)},Wr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),c=r.redSub(i),v=n.redSub(o);if(c.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=c.redSqr(),p=w.redMul(c),_=r.redMul(w),I=v.redSqr().redIAdd(p).redISub(_).redISub(_),B=v.redMul(_.redISub(I)).redISub(n.redMul(p)),R=this.z.redMul(c);return this.curve.jpoint(I,B,R)},Wr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,o=this.x,c=this.y,v=this.z,w=v.redSqr().redSqr(),p=c.redAdd(c);for(t=0;t<e;t++){var _=o.redSqr(),I=p.redSqr(),B=I.redSqr(),R=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(w)),O=o.redMul(I),z=R.redSqr().redISub(O.redAdd(O)),k=O.redISub(z),J=R.redMul(k);J=J.redIAdd(J).redISub(B);var rt=p.redMul(v);t+1<e&&(w=w.redMul(B)),o=z,v=rt,p=J}return this.curve.jpoint(o,p.redMul(n),v)},Wr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Wr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var v=i.redAdd(i).redIAdd(i),w=v.redSqr().redISub(c).redISub(c),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),e=w,t=v.redMul(c.redISub(w)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),I=this.y.redSqr(),B=I.redSqr(),R=this.x.redAdd(I).redSqr().redISub(_).redISub(B);R=R.redIAdd(R);var O=_.redAdd(_).redIAdd(_),z=O.redSqr(),k=B.redIAdd(B);k=k.redIAdd(k),k=k.redIAdd(k),e=z.redISub(R).redISub(R),t=O.redMul(R.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Wr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),w=v.redSqr().redISub(c).redISub(c);e=w;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),t=v.redMul(c.redISub(w)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),I=this.y.redSqr(),B=this.x.redMul(I),R=this.x.redSub(_).redMul(this.x.redAdd(_));R=R.redAdd(R).redIAdd(R);var O=B.redIAdd(B);O=O.redIAdd(O);var z=O.redAdd(O);e=R.redSqr().redISub(z),r=this.y.redAdd(this.z).redSqr().redISub(I).redISub(_);var k=I.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=R.redMul(O.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},Wr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=t.redSqr(),c=r.redSqr(),v=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),w=t.redAdd(t);w=w.redIAdd(w);var p=w.redMul(c),_=v.redSqr().redISub(p.redAdd(p)),I=p.redISub(_),B=c.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=v.redMul(I).redISub(B),O=r.redAdd(r).redMul(i);return this.curve.jpoint(_,R,O)},Wr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(o);var v=c.redSqr(),w=i.redIAdd(i);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var p=n.redIAdd(c).redSqr().redISub(o).redISub(v).redISub(w),_=t.redMul(p);_=_.redIAdd(_),_=_.redIAdd(_);var I=this.x.redMul(v).redISub(_);I=I.redIAdd(I),I=I.redIAdd(I);var B=this.y.redMul(p.redMul(w.redISub(p)).redISub(c.redMul(v)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=this.z.redAdd(c).redSqr().redISub(r).redISub(v);return this.curve.jpoint(I,B,R)},Wr.prototype.mul=function(e,t){return e=new Me(e,t),this.curve._wnafMul(this,e)},Wr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},Wr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},Wr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Wr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var W0=Lh(function(e,t){var r=t;r.base=Ta,r.short=JN,r.mont=null,r.edwards=null}),X0=Lh(function(e,t){var r=t,i=tn.assert;function n(v){v.type==="short"?this.curve=new W0.short(v):v.type==="edwards"?this.curve=new W0.edwards(v):this.curve=new W0.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function o(v,w){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var p=new n(w);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:p}),p}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ms.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ms.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ms.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ms.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ms.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ms.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ms.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ms.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function Yo(e){if(!(this instanceof Yo))return new Yo(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=os.toArray(e.entropy,e.entropyEnc||"hex"),r=os.toArray(e.nonce,e.nonceEnc||"hex"),i=os.toArray(e.pers,e.persEnc||"hex");wp(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var W2=Yo;Yo.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Yo.prototype._hmac=function(){return new Ms.hmac(this.hash,this.K)},Yo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Yo.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=os.toArray(e,t),r=os.toArray(r,i),wp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Yo.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=os.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,e);return this._update(r),this._reseed++,os.encode(o,t)};var Pd=tn.assert;function oi(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Td=oi;oi.fromPublic=function(e,t,r){return t instanceof oi?t:new oi(e,{pub:t,pubEnc:r})},oi.fromPrivate=function(e,t,r){return t instanceof oi?t:new oi(e,{priv:t,privEnc:r})},oi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},oi.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},oi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},oi.prototype._importPrivate=function(e,t){this.priv=new Me(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},oi.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Pd(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Pd(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},oi.prototype.derive=function(e){return e.validate()||Pd(e.validate(),"public point not validated"),e.mul(this.priv).getX()},oi.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},oi.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},oi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var YN=tn.assert;function $c(e,t){if(e instanceof $c)return e;this._importDER(e,t)||(YN(e.r&&e.s,"Signature without r or s"),this.r=new Me(e.r,16),this.s=new Me(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var x0=$c;function VN(){this.place=0}function Od(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,o=0,c=t.place;o<i;o++,c++)n<<=8,n|=e[c],n>>>=0;return n<=127?!1:(t.place=c,n)}function X2(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}$c.prototype._importDER=function(e,t){e=tn.toArray(e,t);var r=new VN;if(e[r.place++]!==48)return!1;var i=Od(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Od(e,r);if(n===!1)return!1;var o=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var c=Od(e,r);if(c===!1||e.length!==c+r.place)return!1;var v=e.slice(r.place,c+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new Me(o),this.s=new Me(v),this.recoveryParam=null,!0};function Dd(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}$c.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=X2(t),r=X2(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Dd(i,t.length),i=i.concat(t),i.push(2),Dd(i,r.length);var n=i.concat(r),o=[48];return Dd(o,n.length),o=o.concat(n),tn.encode(o,e)};var WN=function(){throw new Error("unsupported")},By=tn.assert;function _n(e){if(!(this instanceof _n))return new _n(e);typeof e=="string"&&(By(Object.prototype.hasOwnProperty.call(X0,e),"Unknown curve "+e),e=X0[e]),e instanceof X0.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var XN=_n;_n.prototype.keyPair=function(e){return new Td(this,e)},_n.prototype.keyFromPrivate=function(e,t){return Td.fromPrivate(this,e,t)},_n.prototype.keyFromPublic=function(e,t){return Td.fromPublic(this,e,t)},_n.prototype.genKeyPair=function(e){e||(e={});for(var t=new W2({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||WN(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Me(2));;){var n=new Me(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},_n.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},_n.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Me(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),c=e.toArray("be",n),v=new W2({hash:this.hash,entropy:o,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),w=this.n.sub(new Me(1)),p=0;;p++){var _=i.k?i.k(p):new Me(v.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(w)>=0)){var I=this.g.mul(_);if(!I.isInfinity()){var B=I.getX(),R=B.umod(this.n);if(R.cmpn(0)!==0){var O=_.invm(this.n).mul(R.mul(t.getPrivate()).iadd(e));if(O=O.umod(this.n),O.cmpn(0)!==0){var z=(I.getY().isOdd()?1:0)|(B.cmp(R)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),z^=1),new x0({r:R,s:O,recoveryParam:z})}}}}}},_n.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Me(e,16)),r=this.keyFromPublic(r,i),t=new x0(t,"hex");var n=t.r,o=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),v=c.mul(e).umod(this.n),w=c.mul(n).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(v,r.getPublic(),w),p.isInfinity()?!1:p.eqXToP(n)):(p=this.g.mulAdd(v,r.getPublic(),w),p.isInfinity()?!1:p.getX().umod(this.n).cmp(n)===0)},_n.prototype.recoverPubKey=function(e,t,r,i){By((3&r)===r,"The recovery param is more than two bits"),t=new x0(t,i);var n=this.n,o=new Me(e),c=t.r,v=t.s,w=r&1,p=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");p?c=this.curve.pointFromX(c.add(this.curve.n),w):c=this.curve.pointFromX(c,w);var _=t.r.invm(n),I=n.sub(o).mul(_).umod(n),B=v.mul(_).umod(n);return this.g.mulAdd(I,c,B)},_n.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new x0(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch{continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var ZN=Lh(function(e,t){var r=t;r.version="6.5.4",r.utils=tn,r.rand=function(){throw new Error("unsupported")},r.curve=W0,r.curves=X0,r.ec=XN,r.eddsa=null});ZN.ec;var Z2;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(Z2||(Z2={}));const Ry="base10",Mi="base16",Ac="base64pad",hf="utf8",Py=0,zh=1,Hc=2,tC=0,tv=1,$u=12,bp=32;function eC(){const e=V3.generateKeyPair();return{privateKey:ui(e.secretKey,Mi),publicKey:ui(e.publicKey,Mi)}}function L1(){const e=Rh.randomBytes(bp);return ui(e,Mi)}function rC(e,t){const r=V3.sharedKey(qi(e,Mi),qi(t,Mi),!0),i=new yM(Ph.SHA256,r).expand(bp);return ui(i,Mi)}function iC(e){const t=Ph.hash(qi(e,Mi));return ui(t,Mi)}function z1(e){const t=Ph.hash(qi(e,hf));return ui(t,Mi)}function Ty(e){return qi(`${e}`,Ry)}function Na(e){return Number(ui(e,Ry))}function nC(e){const t=Ty(typeof e.type<"u"?e.type:Py);if(Na(t)===zh&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?qi(e.senderPublicKey,Mi):void 0,i=typeof e.iv<"u"?qi(e.iv,Mi):Rh.randomBytes($u),n=new W3.ChaCha20Poly1305(qi(e.symKey,Mi)).seal(i,qi(e.message,hf));return Oy({type:t,sealed:n,iv:i,senderPublicKey:r,encoding:e.encoding})}function sC(e,t){const r=Ty(Hc),i=Rh.randomBytes($u),n=qi(e,hf);return Oy({type:r,sealed:n,iv:i,encoding:t})}function oC(e){const t=new W3.ChaCha20Poly1305(qi(e.symKey,Mi)),{sealed:r,iv:i}=Vu({encoded:e.encoded,encoding:e==null?void 0:e.encoding}),n=t.open(i,r);if(n===null)throw new Error("Failed to decrypt");return ui(n,hf)}function aC(e,t){const{sealed:r}=Vu({encoded:e,encoding:t});return ui(r,hf)}function Oy(e){const{encoding:t=Ac}=e;if(Na(e.type)===Hc)return ui(nd([e.type,e.sealed]),t);if(Na(e.type)===zh){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ui(nd([e.type,e.senderPublicKey,e.iv,e.sealed]),t)}return ui(nd([e.type,e.iv,e.sealed]),t)}function Vu(e){const{encoded:t,encoding:r=Ac}=e,i=qi(t,r),n=i.slice(tC,tv),o=tv;if(Na(n)===zh){const p=o+bp,_=p+$u,I=i.slice(o,p),B=i.slice(p,_),R=i.slice(_);return{type:n,sealed:R,iv:B,senderPublicKey:I}}if(Na(n)===Hc){const p=i.slice(o),_=Rh.randomBytes($u);return{type:n,sealed:p,iv:_}}const c=o+$u,v=i.slice(o,c),w=i.slice(c);return{type:n,sealed:w,iv:v}}function hC(e,t){const r=Vu({encoded:e,encoding:t==null?void 0:t.encoding});return Dy({type:Na(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?ui(r.senderPublicKey,Mi):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function Dy(e){const t=(e==null?void 0:e.type)||Py;if(t===zh){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function ev(e){return e.type===zh&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function rv(e){return e.type===Hc}function uC(e){return new AM.ec("p256").keyFromPublic({x:Buffer.from(e.x,"base64").toString("hex"),y:Buffer.from(e.y,"base64").toString("hex")},"hex")}function fC(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");const r=t.length%4;return r>0&&(t+="=".repeat(4-r)),t}function cC(e){return Buffer.from(fC(e),"base64")}function lC(e,t){const[r,i,n]=e.split("."),o=cC(n);if(o.length!==64)throw new Error("Invalid signature length");const c=o.slice(0,32).toString("hex"),v=o.slice(32,64).toString("hex"),w=`${r}.${i}`,p=new Ph.SHA256().update(Buffer.from(w)).digest(),_=uC(t),I=Buffer.from(p).toString("hex");if(!_.verify(I,{r:c,s:v}))throw new Error("Invalid signature");return I1(e).payload}const dC="irn";function $1(e){return(e==null?void 0:e.relay)||{protocol:dC}}function Pu(e){const t=UM[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var pC=Object.defineProperty,gC=Object.defineProperties,mC=Object.getOwnPropertyDescriptors,iv=Object.getOwnPropertySymbols,vC=Object.prototype.hasOwnProperty,yC=Object.prototype.propertyIsEnumerable,nv=(e,t,r)=>t in e?pC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sv=(e,t)=>{for(var r in t||(t={}))vC.call(t,r)&&nv(e,r,t[r]);if(iv)for(var r of iv(t))yC.call(t,r)&&nv(e,r,t[r]);return e},wC=(e,t)=>gC(e,mC(t));function AC(e,t="-"){const r={},i="relay"+t;return Object.keys(e).forEach(n=>{if(n.startsWith(i)){const o=n.replace(i,""),c=e[n];r[o]=c}}),r}function ov(e){if(!e.includes("wc:")){const w=X6(e);w!=null&&w.includes("wc:")&&(e=w)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,i=e.substring(0,t),n=e.substring(t+1,r).split("@"),o=typeof r<"u"?e.substring(r):"",c=hc.parse(o),v=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:i,topic:bC(n[0]),version:parseInt(n[1],10),symKey:c.symKey,relay:AC(c),methods:v,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function bC(e){return e.startsWith("//")?e.substring(2):e}function MC(e,t="-"){const r="relay",i={};return Object.keys(e).forEach(n=>{const o=r+t+n;e[n]&&(i[o]=e[n])}),i}function av(e){return`${e.protocol}:${e.topic}@${e.version}?`+hc.stringify(sv(wC(sv({symKey:e.symKey},MC(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}const EC={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},_C={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function We(e,t){const{message:r,code:i}=_C[e];return{message:t?`${r} ${t}`:r,code:i}}function Tu(e,t){const{message:r,code:i}=EC[e];return{message:t?`${r} ${t}`:r,code:i}}function SC(e,t){return!!Array.isArray(e)}function H1(e){return typeof e>"u"}function Fy(e,t){return typeof e=="string"&&!!e.trim().length}function IC(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Fy(e,!1)){if(t(e))return!0;const r=X6(e);return t(r)}}catch{}return!1}function xC(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function NC(e){return e==null?void 0:e.topic}function Fd(e){return typeof e<"u"&&typeof e!==null}function hv(){const e=zc();return new Promise(t=>{switch(e){case ss.browser:t(CC());break;case ss.reactNative:t(BC());break;case ss.node:t(RC());break;default:t(!0)}})}function CC(){return Lc()&&(navigator==null?void 0:navigator.onLine)}async function BC(){if(sf()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function RC(){return!0}function PC(e){switch(zc()){case ss.browser:TC(e);break;case ss.reactNative:OC(e);break}}function TC(e){!sf()&&Lc()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function OC(e){sf()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}const Uy="wc",ky=2,Mp="core",Vs=`${Uy}@2:${Mp}:`,DC={name:Mp,logger:"error"},FC={database:":memory:"},UC="crypto",uv="client_ed25519_seed",kC=Gt.ONE_DAY,qC="keychain",LC="0.3",zC="messages",$C="0.3",HC=Gt.SIX_HOURS,KC="publisher",qy="irn",jC="error",Ly="wss://relay.walletconnect.org",QC="relayer",vi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},GC="_subscription",vn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},JC=.1,K1="2.17.0",or={link_mode:"link_mode",relay:"relay"},YC="0.3",VC="WALLETCONNECT_CLIENT_ID",fv="WALLETCONNECT_LINK_MODE_APPS",_s={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},WC="subscription",XC="0.3",ZC=Gt.FIVE_SECONDS*1e3,tB="pairing",eB="0.3",Au={wc_pairingDelete:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Gt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Gt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:0}}},wa={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ln={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},rB="history",iB="0.3",nB="expirer",Mn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},sB="0.3",oB="verify-api",aB="https://verify.walletconnect.com",zy="https://verify.walletconnect.org",Hu=zy,hB=`${Hu}/v3`,uB=[aB,zy],fB="echo",cB="https://echo.walletconnect.com",ys={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},vo={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},zn={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},va={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},ya={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},bu={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},lB=.1,dB="event-client",pB=86400,gB="https://pulse.walletconnect.org/batch";function mB(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),c=o.charCodeAt(0);if(r[c]!==255)throw new TypeError(o+" is ambiguous");r[c]=n}var v=e.length,w=e.charAt(0),p=Math.log(v)/Math.log(256),_=Math.log(256)/Math.log(v);function I(O){if(O instanceof Uint8Array||(ArrayBuffer.isView(O)?O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):Array.isArray(O)&&(O=Uint8Array.from(O))),!(O instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(O.length===0)return"";for(var z=0,k=0,J=0,rt=O.length;J!==rt&&O[J]===0;)J++,z++;for(var ht=(rt-J)*_+1>>>0,et=new Uint8Array(ht);J!==rt;){for(var W=O[J],V=0,nt=ht-1;(W!==0||V<k)&&nt!==-1;nt--,V++)W+=256*et[nt]>>>0,et[nt]=W%v>>>0,W=W/v>>>0;if(W!==0)throw new Error("Non-zero carry");k=V,J++}for(var it=ht-k;it!==ht&&et[it]===0;)it++;for(var Qt=w.repeat(z);it<ht;++it)Qt+=e.charAt(et[it]);return Qt}function B(O){if(typeof O!="string")throw new TypeError("Expected String");if(O.length===0)return new Uint8Array;var z=0;if(O[z]!==" "){for(var k=0,J=0;O[z]===w;)k++,z++;for(var rt=(O.length-z)*p+1>>>0,ht=new Uint8Array(rt);O[z];){var et=r[O.charCodeAt(z)];if(et===255)return;for(var W=0,V=rt-1;(et!==0||W<J)&&V!==-1;V--,W++)et+=v*ht[V]>>>0,ht[V]=et%256>>>0,et=et/256>>>0;if(et!==0)throw new Error("Non-zero carry");J=W,z++}if(O[z]!==" "){for(var nt=rt-J;nt!==rt&&ht[nt]===0;)nt++;for(var it=new Uint8Array(k+(rt-nt)),Qt=k;nt!==rt;)it[Qt++]=ht[nt++];return it}}}function R(O){var z=B(O);if(z)return z;throw new Error(`Non-${t} character`)}return{encode:I,decodeUnsafe:B,decode:R}}var vB=mB,yB=vB;const $y=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},wB=e=>new TextEncoder().encode(e),AB=e=>new TextDecoder().decode(e);let bB=class{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},MB=class{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Hy(this,t)}},EB=class{constructor(t){this.decoders=t}or(t){return Hy(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Hy=(e,t)=>new EB({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let _B=class{constructor(t,r,i,n){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new bB(t,r,i),this.decoder=new MB(t,r,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const Kc=({name:e,prefix:t,encode:r,decode:i})=>new _B(e,t,r,i),uf=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=yB(r,t);return Kc({prefix:e,name:t,encode:i,decode:o=>$y(n(o))})},SB=(e,t,r,i)=>{const n={};for(let _=0;_<t.length;++_)n[t[_]]=_;let o=e.length;for(;e[o-1]==="=";)--o;const c=new Uint8Array(o*r/8|0);let v=0,w=0,p=0;for(let _=0;_<o;++_){const I=n[e[_]];if(I===void 0)throw new SyntaxError(`Non-${i} character`);w=w<<r|I,v+=r,v>=8&&(v-=8,c[p++]=255&w>>v)}if(v>=r||255&w<<8-v)throw new SyntaxError("Unexpected end of data");return c},IB=(e,t,r)=>{const i=t[t.length-1]==="=",n=(1<<r)-1;let o="",c=0,v=0;for(let w=0;w<e.length;++w)for(v=v<<8|e[w],c+=8;c>r;)c-=r,o+=t[n&v>>c];if(c&&(o+=t[n&v<<r-c]),i)for(;o.length*r&7;)o+="=";return o},ri=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>Kc({prefix:t,name:e,encode(n){return IB(n,i,r)},decode(n){return SB(n,i,r,e)}}),xB=Kc({prefix:"\0",name:"identity",encode:e=>AB(e),decode:e=>wB(e)});var NB=Object.freeze({__proto__:null,identity:xB});const CB=ri({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var BB=Object.freeze({__proto__:null,base2:CB});const RB=ri({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var PB=Object.freeze({__proto__:null,base8:RB});const TB=uf({prefix:"9",name:"base10",alphabet:"0123456789"});var OB=Object.freeze({__proto__:null,base10:TB});const DB=ri({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),FB=ri({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var UB=Object.freeze({__proto__:null,base16:DB,base16upper:FB});const kB=ri({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),qB=ri({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),LB=ri({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),zB=ri({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$B=ri({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),HB=ri({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),KB=ri({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),jB=ri({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),QB=ri({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var GB=Object.freeze({__proto__:null,base32:kB,base32upper:qB,base32pad:LB,base32padupper:zB,base32hex:$B,base32hexupper:HB,base32hexpad:KB,base32hexpadupper:jB,base32z:QB});const JB=uf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),YB=uf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var VB=Object.freeze({__proto__:null,base36:JB,base36upper:YB});const WB=uf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),XB=uf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ZB=Object.freeze({__proto__:null,base58btc:WB,base58flickr:XB});const tR=ri({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eR=ri({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),rR=ri({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),iR=ri({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var nR=Object.freeze({__proto__:null,base64:tR,base64pad:eR,base64url:rR,base64urlpad:iR});const Ky=Array.from("рџљЂрџЄђв„рџ›°рџЊЊрџЊ‘рџЊ’рџЊ“рџЊ”рџЊ•рџЊ–рџЊ—рџЊрџЊЌрџЊЏрџЊЋрџђ‰вЂрџ’»рџ–Ґрџ’ѕрџ’їрџ‚вќ¤рџЌрџ¤ЈрџЉрџ™Џрџ’•рџ­рџрџ‘Ќрџ…рџ‘ЏрџЃрџ”ҐрџҐ°рџ’”рџ’–рџ’™рџўрџ¤”рџ†рџ™„рџ’Єрџ‰вєрџ‘Њрџ¤—рџ’њрџ”рџЋрџ‡рџЊ№рџ¤¦рџЋ‰рџ’ћвњЊвњЁрџ¤·рџ±рџЊрџЊёрџ™Њрџ‹рџ’—рџ’љрџЏрџ’›рџ™‚рџ’“рџ¤©рџ„рџЂрџ–¤рџѓрџ’Їрџ™€рџ‘‡рџЋ¶рџ’рџ¤­вќЈрџњрџ’‹рџ‘ЂрџЄрџ‘рџ’Ґрџ™‹рџћрџ©рџЎрџ¤Єрџ‘ЉрџҐірџҐрџ¤¤рџ‘‰рџ’ѓрџівњ‹рџљрџќрџґрџЊџрџ¬рџ™ѓрџЌЂрџЊ·рџ»рџ“в­ђвњ…рџҐєрџЊ€рџ€рџ¤рџ’¦вњ”рџЈрџЏѓрџ’ђв№рџЋЉрџ’рџ вќрџ•рџЊєрџЋ‚рџЊ»рџђрџ–•рџ’ќрџ™Љрџ№рџ—Јрџ’«рџ’Ђрџ‘‘рџЋµрџ¤ћрџ›рџ”ґрџ¤рџЊјрџ«вљЅрџ¤™в•рџЏ†рџ¤«рџ‘€рџ®рџ™†рџЌ»рџЌѓрџђ¶рџ’ЃрџІрџЊїрџ§ЎрџЋЃвљЎрџЊћрџЋ€вќЊвњЉрџ‘‹рџ°рџ¤Ёрџ¶рџ¤ќрџљ¶рџ’°рџЌ“рџ’ўрџ¤џрџ™ЃрџљЁрџ’Ёрџ¤¬вњ€рџЋЂрџЌєрџ¤“рџ™рџ’џрџЊ±рџ–рџ‘¶рџҐґв–¶вћЎвќ“рџ’Ћрџ’ёв¬‡рџЁрџЊљрџ¦‹рџ·рџ•євљ рџ™…рџџрџµрџ‘Ћрџ¤Ірџ¤ рџ¤§рџ“Њрџ”µрџ’…рџ§ђрџђѕрџЌ’рџ—рџ¤‘рџЊЉрџ¤Їрџђ·вЋрџ’§рџЇрџ’†рџ‘†рџЋ¤рџ™‡рџЌ‘вќ„рџЊґрџ’Јрџђёрџ’Њрџ“ЌрџҐЂрџ¤ўрџ‘…рџ’Ўрџ’©рџ‘ђрџ“ёрџ‘»рџ¤ђрџ¤®рџЋјрџҐµрџљ©рџЌЋрџЌЉрџ‘јрџ’Ќрџ“ЈрџҐ‚"),sR=Ky.reduce((e,t,r)=>(e[r]=t,e),[]),oR=Ky.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function aR(e){return e.reduce((t,r)=>(t+=sR[r],t),"")}function hR(e){const t=[];for(const r of e){const i=oR[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const uR=Kc({prefix:"рџљЂ",name:"base256emoji",encode:aR,decode:hR});var fR=Object.freeze({__proto__:null,base256emoji:uR}),cR=jy,cv=128,lR=127,dR=~lR,pR=Math.pow(2,31);function jy(e,t,r){t=t||[],r=r||0;for(var i=r;e>=pR;)t[r++]=e&255|cv,e/=128;for(;e&dR;)t[r++]=e&255|cv,e>>>=7;return t[r]=e|0,jy.bytes=r-i+1,t}var gR=j1,mR=128,lv=127;function j1(e,i){var r=0,i=i||0,n=0,o=i,c,v=e.length;do{if(o>=v)throw j1.bytes=0,new RangeError("Could not decode varint");c=e[o++],r+=n<28?(c&lv)<<n:(c&lv)*Math.pow(2,n),n+=7}while(c>=mR);return j1.bytes=o-i,r}var vR=Math.pow(2,7),yR=Math.pow(2,14),wR=Math.pow(2,21),AR=Math.pow(2,28),bR=Math.pow(2,35),MR=Math.pow(2,42),ER=Math.pow(2,49),_R=Math.pow(2,56),SR=Math.pow(2,63),IR=function(e){return e<vR?1:e<yR?2:e<wR?3:e<AR?4:e<bR?5:e<MR?6:e<ER?7:e<_R?8:e<SR?9:10},xR={encode:cR,decode:gR,encodingLength:IR},Qy=xR;const dv=(e,t,r=0)=>(Qy.encode(e,t,r),t),pv=e=>Qy.encodingLength(e),Q1=(e,t)=>{const r=t.byteLength,i=pv(e),n=i+pv(r),o=new Uint8Array(n+r);return dv(e,o,0),dv(r,o,i),o.set(t,n),new NR(e,r,t,o)};class NR{constructor(t,r,i,n){this.code=t,this.size=r,this.digest=i,this.bytes=n}}const Gy=({name:e,code:t,encode:r})=>new CR(e,t,r);let CR=class{constructor(t,r,i){this.name=t,this.code=r,this.encode=i}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Q1(this.code,r):r.then(i=>Q1(this.code,i))}else throw Error("Unknown type, must be binary type")}};const Jy=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),BR=Gy({name:"sha2-256",code:18,encode:Jy("SHA-256")}),RR=Gy({name:"sha2-512",code:19,encode:Jy("SHA-512")});var PR=Object.freeze({__proto__:null,sha256:BR,sha512:RR});const Yy=0,TR="identity",Vy=$y,OR=e=>Q1(Yy,Vy(e)),DR={code:Yy,name:TR,encode:Vy,digest:OR};var FR=Object.freeze({__proto__:null,identity:DR});new TextEncoder,new TextDecoder;const gv={...NB,...BB,...PB,...OB,...UB,...GB,...VB,...ZB,...nR,...fR};({...PR,...FR});function UR(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Wy(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const mv=Wy("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Ud=Wy("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=UR(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),kR={utf8:mv,"utf-8":mv,hex:gv.base16,latin1:Ud,ascii:Ud,binary:Ud,...gv};function qR(e,t="utf8"){const r=kR[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}let LR=class{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=qC,this.version=LC,this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:o}=We("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(o)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=t,this.logger=Ii(r,this.name)}get context(){return nn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,J6(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Y6(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}};class zR{constructor(t,r,i){this.core=t,this.logger=r,this.name=UC,this.randomSessionIdentifier=L1(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();const n=await this.getClientSeed(),o=Vm(n);return u6(o.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const n=eC();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();const o=await this.getClientSeed(),c=Vm(o),v=this.randomSessionIdentifier;return await NE(v,n,kC,c)},this.generateSharedKey=(n,o,c)=>{this.isInitialized();const v=this.getPrivateKey(n),w=rC(v,o);return this.setSymKey(w,c)},this.setSymKey=async(n,o)=>{this.isInitialized();const c=o||iC(n);return await this.keychain.set(c,n),c},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,o,c)=>{this.isInitialized();const v=Dy(c),w=Ia(o);if(rv(v))return sC(w,c==null?void 0:c.encoding);if(ev(v)){const B=v.senderPublicKey,R=v.receiverPublicKey;n=await this.generateSharedKey(B,R)}const p=this.getSymKey(n),{type:_,senderPublicKey:I}=v;return nC({type:_,symKey:p,message:w,senderPublicKey:I,encoding:c==null?void 0:c.encoding})},this.decode=async(n,o,c)=>{this.isInitialized();const v=hC(o,c);if(rv(v)){const w=aC(o,c==null?void 0:c.encoding);return xa(w)}if(ev(v)){const w=v.receiverPublicKey,p=v.senderPublicKey;n=await this.generateSharedKey(w,p)}try{const w=this.getSymKey(n),p=oC({symKey:w,encoded:o,encoding:c==null?void 0:c.encoding});return xa(p)}catch(w){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(w)}},this.getPayloadType=(n,o=Ac)=>{const c=Vu({encoded:n,encoding:o});return Na(c.type)},this.getPayloadSenderPublicKey=(n,o=Ac)=>{const c=Vu({encoded:n,encoding:o});return c.senderPublicKey?ui(c.senderPublicKey,Mi):void 0},this.core=t,this.logger=Ii(r,this.name),this.keychain=i||new LR(this.core,this.logger)}get context(){return nn(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(uv)}catch{t=L1(),await this.keychain.set(uv,t)}return qR(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}}class $R extends vI{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=zC,this.version=$C,this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();const o=z1(n);let c=this.messages.get(i);return typeof c>"u"&&(c={}),typeof c[o]<"u"||(c[o]=n,this.messages.set(i,c),await this.persist()),o},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();const o=this.get(i),c=z1(n);return typeof o[c]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=Ii(t,this.name),this.core=r}get context(){return nn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,J6(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Y6(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}}class HR extends yI{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new Pn.EventEmitter,this.name=KC,this.queue=new Map,this.publishTimeout=Gt.toMiliseconds(Gt.ONE_MINUTE),this.failedPublishTimeout=Gt.toMiliseconds(Gt.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(i,n,o)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:o}});const v=(o==null?void 0:o.ttl)||HC,w=$1(o),p=(o==null?void 0:o.prompt)||!1,_=(o==null?void 0:o.tag)||0,I=(o==null?void 0:o.id)||Aa().toString(),B={topic:i,message:n,opts:{ttl:v,relay:w,prompt:p,tag:_,id:I,attestation:o==null?void 0:o.attestation}},R=`Failed to publish payload, please try again. id:${I} tag:${_}`,O=Date.now();let z,k=1;try{for(;z===void 0;){if(Date.now()-O>this.publishTimeout)throw new Error(R);this.logger.trace({id:I,attempts:k},`publisher.publish - attempt ${k}`),z=await await ph(this.rpcPublish(i,n,v,w,p,_,I,o==null?void 0:o.attestation).catch(J=>this.logger.warn(J)),this.publishTimeout,R),k++,z||await new Promise(J=>setTimeout(J,this.failedPublishTimeout))}this.relayer.events.emit(vi.publish,B),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:I,topic:i,message:n,opts:o}})}catch(J){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(J),(c=o==null?void 0:o.internal)!=null&&c.throwOnFailedPublish)throw J;this.queue.set(I,B)}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=t,this.logger=Ii(r,this.name),this.registerEventListeners()}get context(){return nn(this.logger)}rpcPublish(t,r,i,n,o,c,v,w){var p,_,I,B;const R={method:Pu(n.protocol).publish,params:{topic:t,message:r,ttl:i,prompt:o,tag:c,attestation:w},id:v};return H1((p=R.params)==null?void 0:p.prompt)&&((_=R.params)==null||delete _.prompt),H1((I=R.params)==null?void 0:I.tag)&&((B=R.params)==null||delete B.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:R}),this.relayer.request(R)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:i,opts:n}=t;await this.publish(r,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(Th.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vi.connection_stalled);return}this.checkQueue()}),this.relayer.on(vi.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}let KR=class{constructor(){this.map=new Map,this.set=(t,r)=>{const i=this.get(t);this.exists(t,r)||this.map.set(t,[...i,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const i=this.get(t);if(!this.exists(t,r))return;const n=i.filter(o=>o!==r);if(!n.length){this.map.delete(t);return}this.map.set(t,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var jR=Object.defineProperty,QR=Object.defineProperties,GR=Object.getOwnPropertyDescriptors,vv=Object.getOwnPropertySymbols,JR=Object.prototype.hasOwnProperty,YR=Object.prototype.propertyIsEnumerable,yv=(e,t,r)=>t in e?jR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mu=(e,t)=>{for(var r in t||(t={}))JR.call(t,r)&&yv(e,r,t[r]);if(vv)for(var r of vv(t))YR.call(t,r)&&yv(e,r,t[r]);return e},kd=(e,t)=>QR(e,GR(t));class VR extends bI{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new KR,this.events=new Pn.EventEmitter,this.name=WC,this.version=XC,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Vs,this.subscribeTimeout=Gt.toMiliseconds(Gt.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const o=$1(n),c={topic:i,relay:o,transportType:n==null?void 0:n.transportType};this.pending.set(i,c);const v=await this.rpcSubscribe(i,o,n==null?void 0:n.transportType);return typeof v=="string"&&(this.onSubscribe(v,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}})),v}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof(n==null?void 0:n.id)<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>{if(this.topics.includes(i))return!0;const n=`${this.pendingSubscriptionWatchLabel}_${i}`;return await new Promise((o,c)=>{const v=new Gt.Watch;v.start(n);const w=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(w),v.stop(n),o(!0)),v.elapsed(n)>=ZC&&(clearInterval(w),v.stop(n),c(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Ii(r,this.name),this.clientId=""}get context(){return nn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let i=!1;try{i=this.getSubscription(t).topic===r}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const i=this.topicMap.get(t);await Promise.all(i.map(async n=>await this.unsubscribeById(t,n,r)))}async unsubscribeById(t,r,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}});try{const n=$1(i);await this.rpcUnsubscribe(t,r,n);const o=Tu("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(t,r,i=or.relay){i===or.relay&&await this.restartToComplete();const n={method:Pu(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{const o=z1(t+this.clientId);return i===or.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch(c=>this.logger.warn(c))},Gt.toMiliseconds(Gt.ONE_SECOND)),o):await await ph(this.relayer.request(n).catch(c=>this.logger.warn(c)),this.subscribeTimeout)?o:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vi.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,i={method:Pu(r.protocol).batchSubscribe,params:{topics:t.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await ph(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)}catch{this.relayer.events.emit(vi.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const r=t[0].relay,i={method:Pu(r.protocol).batchFetchMessages,params:{topics:t.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let n;try{n=await await ph(this.relayer.request(i).catch(o=>this.logger.warn(o)),this.subscribeTimeout)}catch{this.relayer.events.emit(vi.connection_stalled)}return n}rpcUnsubscribe(t,r,i){const n={method:Pu(i.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,r){this.setSubscription(t,kd(Mu({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Mu({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,i){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,i),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,Mu({},r)),this.topicMap.set(r.topic,t),this.events.emit(_s.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:i}=We("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const i=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(i.topic,t),this.events.emit(_s.deleted,kd(Mu({},i),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(_s.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(i),await this.batchSubscribe(i)}}this.events.emit(_s.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=We("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);SC(r)&&this.onBatchSubscribe(r.map((i,n)=>kd(Mu({},t[n]),{id:i})))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(Th.pulse,async()=>{await this.checkPending()}),this.events.on(_s.created,async t=>{const r=_s.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(_s.deleted,async t=>{const r=_s.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var WR=Object.defineProperty,wv=Object.getOwnPropertySymbols,XR=Object.prototype.hasOwnProperty,ZR=Object.prototype.propertyIsEnumerable,Av=(e,t,r)=>t in e?WR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tP=(e,t)=>{for(var r in t||(t={}))XR.call(t,r)&&Av(e,r,t[r]);if(wv)for(var r of wv(t))ZR.call(t,r)&&Av(e,r,t[r]);return e};class eP extends wI{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Pn.EventEmitter,this.name=QC,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Gt.toMiliseconds(Gt.THIRTY_SECONDS+Gt.ONE_SECOND),this.request=async r=>{var i,n;this.logger.debug("Publishing Request Payload");const o=r.id||Aa().toString();await this.toEstablishConnection();try{const c=this.provider.request(r);this.requestsInFlight.set(o,{promise:c,request:r}),this.logger.trace({id:o,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - attempt to publish...");const v=await new Promise(async(w,p)=>{const _=()=>{p(new Error(`relayer.request - publish interrupted, id: ${o}`))};this.provider.on(vn.disconnect,_);const I=await c;this.provider.off(vn.disconnect,_),w(I)});return this.logger.trace({id:o,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - published"),v}catch(c){throw this.logger.debug(`Failed to Publish Request: ${o}`),c}finally{this.requestsInFlight.delete(o)}},this.resetPingTimeout=()=>{if(mc())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,n;(n=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||n.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(vi.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(vi.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(vn.payload,this.onPayloadHandler),this.provider.on(vn.connect,this.onConnectHandler),this.provider.on(vn.disconnect,this.onDisconnectHandler),this.provider.on(vn.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Ii(t.logger,this.name):hp(Tc({level:t.logger||jC})),this.messages=new $R(this.logger,t.core),this.subscriber=new VR(this,this.logger),this.publisher=new HR(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||Ly,this.projectId=t.projectId,this.bundleId=OI(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(t){this.logger.warn(t)}}get context(){return nn(this.logger)}get connected(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===1}get connecting(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===0}async publish(t,r,i){this.isInitialized(),await this.publisher.publish(t,r,i),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:or.relay})}async subscribe(t,r){var i;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();let n=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",o;const c=v=>{v.topic===t&&(this.subscriber.off(_s.created,c),o())};return await Promise.all([new Promise(v=>{o=v,this.subscriber.on(_s.created,c)}),new Promise(async v=>{n=await this.subscriber.subscribe(t,r)||n,v()})]),n}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await ph(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,i)=>{const n=()=>{this.provider.off(vn.disconnect,n),i(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(vn.disconnect,n),await ph(this.provider.connect(),Gt.toMiliseconds(Gt.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(o=>{this.logger.error(o),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const i=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(i.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await hv())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=t.sort((i,n)=>i.publishedAt-n.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const i of r)try{await this.onMessageEvent(i)}catch(n){this.logger.warn(n)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){const{topic:i}=t;if(!r.sessionExists){const n=qu(Gt.FIVE_MINUTES),o={topic:i,expiry:n,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,o)}this.events.emit(vi.message,t),await this.recordMessageEvent(t)}startPingTimeout(){var t,r,i,n,o;if(mc())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((o=(n=(i=this.provider)==null?void 0:i.connection)==null?void 0:n.socket)==null||o.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c)}}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fs(new GE(qI({sdkVersion:K1,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:i}=t;await this.messages.set(r,i)}async shouldIgnoreMessageEvent(t){const{topic:r,message:i}=t;if(!i||i.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const n=this.messages.has(r,i);return n&&this.logger.debug(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),pp(t)){if(!t.method.endsWith(GC))return;const r=t.params,{topic:i,message:n,publishedAt:o,attestation:c}=r.data,v={topic:i,message:n,publishedAt:o,transportType:or.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(tP({type:"event",event:r.id},v)),this.events.emit(r.id,v),await this.acknowledgePayload(t),await this.onMessageEvent(v)}else kc(t)&&this.events.emit(vi.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(vi.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=Fc(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(vn.payload,this.onPayloadHandler),this.provider.off(vn.connect,this.onConnectHandler),this.provider.off(vn.disconnect,this.onDisconnectHandler),this.provider.off(vn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await hv();PC(async r=>{t!==r&&(t=r,r?await this.restartTransport().catch(i=>this.logger.error(i)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(vi.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},Gt.toMiliseconds(JC))))}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var rP=Object.defineProperty,bv=Object.getOwnPropertySymbols,iP=Object.prototype.hasOwnProperty,nP=Object.prototype.propertyIsEnumerable,Mv=(e,t,r)=>t in e?rP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ev=(e,t)=>{for(var r in t||(t={}))iP.call(t,r)&&Mv(e,r,t[r]);if(bv)for(var r of bv(t))nP.call(t,r)&&Mv(e,r,t[r]);return e};class Oa extends AI{constructor(t,r,i,n=Vs,o=void 0){super(t,r,i,n),this.core=t,this.logger=r,this.name=i,this.map=new Map,this.version=YC,this.cached=[],this.initialized=!1,this.storagePrefix=Vs,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!H1(c)?this.map.set(this.getKey(c),c):xC(c)?this.map.set(c.id,c):NC(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)},this.set=async(c,v)=>{this.isInitialized(),this.map.has(c)?await this.update(c,v):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:v}),this.map.set(c,v),await this.persist())},this.get=c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c)),this.getAll=c=>(this.isInitialized(),c?this.values.filter(v=>Object.keys(c).every(w=>YE(v[w],c[w]))):this.values),this.update=async(c,v)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:v});const w=Ev(Ev({},this.getData(c)),v);this.map.set(c,w),await this.persist()},this.delete=async(c,v)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:v}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())},this.logger=Ii(r,this.name),this.storagePrefix=n,this.getKey=o}get context(){return nn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:n}=We("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}const{message:i}=We("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=We("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}}class sP{constructor(t,r){this.core=t,this.logger=r,this.name=tB,this.version=eB,this.events=new up,this.initialized=!1,this.storagePrefix=Vs,this.ignoredPayloadTypes=[zh],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async i=>{this.isInitialized();const n=L1(),o=await this.core.crypto.setSymKey(n),c=qu(Gt.FIVE_MINUTES),v={protocol:qy},w={topic:o,expiry:c,relay:v,active:!1,methods:i==null?void 0:i.methods},p=av({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:n,relay:v,expiryTimestamp:c,methods:i==null?void 0:i.methods});return this.events.emit(wa.create,w),this.core.expirer.set(o,c),await this.pairings.set(o,w),await this.core.relayer.subscribe(o,{transportType:i==null?void 0:i.transportType}),{topic:o,uri:p}},this.pair=async i=>{this.isInitialized();const n=this.core.eventClient.createEvent({properties:{topic:i==null?void 0:i.uri,trace:[ys.pairing_started]}});this.isValidPair(i,n);const{topic:o,symKey:c,relay:v,expiryTimestamp:w,methods:p}=ov(i.uri);n.props.properties.topic=o,n.addTrace(ys.pairing_uri_validation_success),n.addTrace(ys.pairing_uri_not_expired);let _;if(this.pairings.keys.includes(o)){if(_=this.pairings.get(o),n.addTrace(ys.existing_pairing),_.active)throw n.setError(vo.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);n.addTrace(ys.pairing_not_expired)}const I=w||qu(Gt.FIVE_MINUTES),B={topic:o,relay:v,expiry:I,active:!1,methods:p};this.core.expirer.set(o,I),await this.pairings.set(o,B),n.addTrace(ys.store_new_pairing),i.activatePairing&&await this.activate({topic:o}),this.events.emit(wa.create,B),n.addTrace(ys.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(c,o),n.addTrace(ys.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{n.setError(vo.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:v})}catch(R){throw n.setError(vo.subscribe_pairing_topic_failure),R}return n.addTrace(ys.subscribe_pairing_topic_success),B},this.activate=async({topic:i})=>{this.isInitialized();const n=qu(Gt.THIRTY_DAYS);this.core.expirer.set(i,n),await this.pairings.update(i,{active:!0,expiry:n})},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);const{topic:n}=i;if(this.pairings.keys.includes(n)){const o=await this.sendRequest(n,"wc_pairingPing",{}),{done:c,resolve:v,reject:w}=LI();this.events.once(Md("pairing_ping",o),({error:p})=>{p?w(p):v()}),await c()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",Tu("USER_DISCONNECTED")),await this.deletePairing(n))},this.formatUriFromPairing=i=>{this.isInitialized();const{topic:n,relay:o,expiry:c,methods:v}=i,w=this.core.crypto.keychain.get(n);return av({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:w,relay:o,expiryTimestamp:c,methods:v})},this.sendRequest=async(i,n,o)=>{const c=ta(n,o),v=await this.core.crypto.encode(i,c),w=Au[n].req;return this.core.history.set(i,c),this.core.relayer.publish(i,v,w),c.id},this.sendResult=async(i,n,o)=>{const c=Fc(i,o),v=await this.core.crypto.encode(n,c),w=await this.core.history.get(n,i),p=Au[w.request.method].res;await this.core.relayer.publish(n,v,p),await this.core.history.resolve(c)},this.sendError=async(i,n,o)=>{const c=Uc(i,o),v=await this.core.crypto.encode(n,c),w=await this.core.history.get(n,i),p=Au[w.request.method]?Au[w.request.method].res:Au.unregistered_method.res;await this.core.relayer.publish(n,v,p),await this.core.history.resolve(c)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Tu("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter(n=>P2(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{const{topic:n,payload:o}=i;switch(o.method){case"wc_pairingPing":return this.onPairingPingRequest(n,o);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,o);default:return this.onUnknownRpcMethodRequest(n,o)}},this.onRelayEventResponse=async i=>{const{topic:n,payload:o}=i,c=(await this.core.history.get(n,o.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(n,o);default:return this.onUnknownRpcMethodResponse(c)}},this.onPairingPingRequest=async(i,n)=>{const{id:o}=n;try{this.isValidPing({topic:i}),await this.sendResult(o,i,!0),this.events.emit(wa.ping,{id:o,topic:i})}catch(c){await this.sendError(o,i,c),this.logger.error(c)}},this.onPairingPingResponse=(i,n)=>{const{id:o}=n;setTimeout(()=>{ws(n)?this.events.emit(Md("pairing_ping",o),{}):xn(n)&&this.events.emit(Md("pairing_ping",o),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{const{id:o}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(wa.delete,{id:o,topic:i})}catch(c){await this.sendError(o,i,c),this.logger.error(c)}},this.onUnknownRpcMethodRequest=async(i,n)=>{const{id:o,method:c}=n;try{if(this.registeredMethods.includes(c))return;const v=Tu("WC_METHOD_UNSUPPORTED",c);await this.sendError(o,i,v),this.logger.error(v)}catch(v){await this.sendError(o,i,v),this.logger.error(v)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(Tu("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=(i,n)=>{var o;if(!Fd(i)){const{message:v}=We("MISSING_OR_INVALID",`pair() params: ${i}`);throw n.setError(vo.malformed_pairing_uri),new Error(v)}if(!IC(i.uri)){const{message:v}=We("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw n.setError(vo.malformed_pairing_uri),new Error(v)}const c=ov(i==null?void 0:i.uri);if(!((o=c==null?void 0:c.relay)!=null&&o.protocol)){const{message:v}=We("MISSING_OR_INVALID","pair() uri#relay-protocol");throw n.setError(vo.malformed_pairing_uri),new Error(v)}if(!(c!=null&&c.symKey)){const{message:v}=We("MISSING_OR_INVALID","pair() uri#symKey");throw n.setError(vo.malformed_pairing_uri),new Error(v)}if(c!=null&&c.expiryTimestamp&&Gt.toMiliseconds(c==null?void 0:c.expiryTimestamp)<Date.now()){n.setError(vo.pairing_expired);const{message:v}=We("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(v)}},this.isValidPing=async i=>{if(!Fd(i)){const{message:o}=We("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(o)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!Fd(i)){const{message:o}=We("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(o)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!Fy(i)){const{message:n}=We("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=We("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(P2(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=We("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=t,this.logger=Ii(r,this.name),this.pairings=new Oa(this.core,this.logger,this.name,this.storagePrefix)}get context(){return nn(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(vi.message,async t=>{const{topic:r,message:i,transportType:n}=t;if(!this.pairings.keys.includes(r)||n===or.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const o=await this.core.crypto.decode(r,i);try{pp(o)?(this.core.history.set(r,o),this.onRelayEventRequest({topic:r,payload:o})):kc(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:r,payload:o}),this.core.history.delete(r,o.id))}catch(c){this.logger.error(c)}})}registerExpirerEvents(){this.core.expirer.on(Mn.expired,async t=>{const{topic:r}=HI(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(wa.expire,{topic:r}))})}}class oP extends mI{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new Pn.EventEmitter,this.name=rB,this.version=iB,this.cached=[],this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:o}),this.records.has(n.id))return;const c={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:o,expiry:qu(Gt.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(Ln.created,c)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=xn(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.persist(),this.events.emit(Ln.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(o=>{if(o.topic===i){if(typeof n<"u"&&o.id!==n)return;this.records.delete(o.id),this.events.emit(Ln.deleted,o)}}),this.persist()},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=Ii(r,this.name)}get context(){return nn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const i={topic:r.topic,request:ta(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(i)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:i}=We("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ln.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=We("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(Ln.created,t=>{const r=Ln.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(Ln.updated,t=>{const r=Ln.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(Ln.deleted,t=>{const r=Ln.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(Th.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{Gt.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Ln.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}}class aP extends MI{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new Pn.EventEmitter,this.name=nB,this.version=sB,this.cached=[],this.initialized=!1,this.storagePrefix=Vs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();const o=this.formatTarget(i),c={target:o,expiry:n};this.expirations.set(o,c),this.checkExpiry(o,c),this.events.emit(Mn.created,{target:o,expiration:c})},this.get=i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),o=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Mn.deleted,{target:n,expiration:o})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=Ii(r,this.name)}get context(){return nn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return zI(t);if(typeof t=="number")return $I(t);const{message:r}=We("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Mn.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=We("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:i}=We("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(i),new Error(i)}return r}checkExpiry(t,r){const{expiry:i}=r;Gt.toMiliseconds(i)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Mn.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(Th.pulse,()=>this.checkExpirations()),this.events.on(Mn.created,t=>{const r=Mn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Mn.expired,t=>{const r=Mn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Mn.deleted,t=>{const r=Mn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=We("NOT_INITIALIZED",this.name);throw new Error(t)}}}var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.getLocalStorage=fr.getLocalStorageOrThrow=fr.getCrypto=fr.getCryptoOrThrow=fr.getLocation=fr.getLocationOrThrow=fr.getNavigator=fr.getNavigatorOrThrow=Xy=fr.getDocument=fr.getDocumentOrThrow=fr.getFromWindowOrThrow=fr.getFromWindow=void 0;function Da(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}fr.getFromWindow=Da;function $h(e){const t=Da(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}fr.getFromWindowOrThrow=$h;function hP(){return $h("document")}fr.getDocumentOrThrow=hP;function uP(){return Da("document")}var Xy=fr.getDocument=uP;function fP(){return $h("navigator")}fr.getNavigatorOrThrow=fP;function cP(){return Da("navigator")}fr.getNavigator=cP;function lP(){return $h("location")}fr.getLocationOrThrow=lP;function dP(){return Da("location")}fr.getLocation=dP;function pP(){return $h("crypto")}fr.getCryptoOrThrow=pP;function gP(){return Da("crypto")}fr.getCrypto=gP;function mP(){return $h("localStorage")}fr.getLocalStorageOrThrow=mP;function vP(){return Da("localStorage")}fr.getLocalStorage=vP;class yP extends EI{constructor(t,r,i){super(t,r,i),this.core=t,this.logger=r,this.store=i,this.name=oB,this.verifyUrlV3=hB,this.storagePrefix=Vs,this.version=ky,this.init=async()=>{var n;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Gt.toMiliseconds((n=this.publicKey)==null?void 0:n.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async n=>{if(!Lc()||this.isDevEnv)return;const o=window.location.origin,{id:c,decryptedId:v}=n,w=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${c}&decryptedId=${v}`;try{const p=Xy(),_=this.startAbortTimer(Gt.ONE_SECOND*5),I=await new Promise((B,R)=>{const O=()=>{window.removeEventListener("message",k),p.body.removeChild(z),R("attestation aborted")};this.abortController.signal.addEventListener("abort",O);const z=p.createElement("iframe");z.src=w,z.style.display="none",z.addEventListener("error",O,{signal:this.abortController.signal});const k=J=>{if(J.data&&typeof J.data=="string")try{const rt=JSON.parse(J.data);if(rt.type==="verify_attestation"){if(I1(rt.attestation).payload.id!==c)return;clearInterval(_),p.body.removeChild(z),this.abortController.signal.removeEventListener("abort",O),window.removeEventListener("message",k),B(rt.attestation===null?"":rt.attestation)}}catch(rt){this.logger.warn(rt)}};p.body.appendChild(z),window.addEventListener("message",k,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",I),I}catch(p){this.logger.warn(p)}return""},this.resolve=async n=>{if(this.isDevEnv)return"";const{attestationId:o,hash:c,encryptedId:v}=n;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if(I1(o).payload.id!==v)return;const p=await this.isValidJwtAttestation(o);if(p){if(!p.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return p}}if(!c)return;const w=this.getVerifyUrl(n==null?void 0:n.verifyUrl);return this.fetchAttestation(c,w)},this.fetchAttestation=async(n,o)=>{this.logger.debug(`resolving attestation: ${n} from url: ${o}`);const c=this.startAbortTimer(Gt.ONE_SECOND*5),v=await fetch(`${o}/attestation/${n}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),v.status===200?await v.json():void 0},this.getVerifyUrl=n=>{let o=n||Hu;return uB.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${Hu}`),o=Hu),o},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const n=this.startAbortTimer(Gt.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(n),await o.json()}catch(n){this.logger.warn(n)}},this.persistPublicKey=async n=>{this.logger.debug("persisting public key to local storage",n),await this.store.setItem(this.storeKey,n),this.publicKey=n},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async n=>{const o=await this.getPublicKey();try{if(o)return this.validateAttestation(n,o)}catch(v){this.logger.error(v),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(n,c)}catch(v){this.logger.error(v),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),o(c))});const n=await this.fetchPromise;return this.fetchPromise=void 0,n},this.validateAttestation=(n,o)=>{const c=lC(n,o.publicKey),v={hasExpired:Gt.toMiliseconds(c.exp)<Date.now(),payload:c};if(v.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:v.payload.origin,isScam:v.payload.isScam,isVerified:v.payload.isVerified}},this.logger=Ii(r,this.name),this.abortController=new AbortController,this.isDevEnv=W6(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return nn(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Gt.toMiliseconds(t))}}class wP extends _I{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=fB,this.registerDeviceToken=async i=>{const{clientId:n,token:o,notificationType:c,enableEncrypted:v=!1}=i,w=`${cB}/${this.projectId}/clients`;await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:c,token:o,always_raw:v})})},this.logger=Ii(r,this.context)}}var AP=Object.defineProperty,_v=Object.getOwnPropertySymbols,bP=Object.prototype.hasOwnProperty,MP=Object.prototype.propertyIsEnumerable,Sv=(e,t,r)=>t in e?AP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Eu=(e,t)=>{for(var r in t||(t={}))bP.call(t,r)&&Sv(e,r,t[r]);if(_v)for(var r of _v(t))MP.call(t,r)&&Sv(e,r,t[r]);return e};let EP=class extends SI{constructor(t,r,i=!0){super(t,r,i),this.core=t,this.logger=r,this.context=dB,this.storagePrefix=Vs,this.storageVersion=lB,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!W6())try{const n={eventId:T2(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:G6(this.core.relayer.protocol,this.core.relayer.version,K1)}}};await this.sendEvent([n])}catch(n){this.logger.warn(n)}},this.createEvent=n=>{const{event:o="ERROR",type:c="",properties:{topic:v,trace:w}}=n,p=T2(),_=this.core.projectId||"",I=Date.now(),B=Eu({eventId:p,timestamp:I,props:{event:o,type:c,properties:{topic:v,trace:w}},bundleId:_,domain:this.getAppDomain()},this.setMethods(p));return this.telemetryEnabled&&(this.events.set(p,B),this.shouldPersist=!0),B},this.getEvent=n=>{const{eventId:o,topic:c}=n;if(o)return this.events.get(o);const v=Array.from(this.events.values()).find(w=>w.props.properties.topic===c);if(v)return Eu(Eu({},v),this.setMethods(v.eventId))},this.deleteEvent=n=>{const{eventId:o}=n;this.events.delete(o),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(Th.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(n=>{Gt.fromMiliseconds(Date.now())-Gt.fromMiliseconds(n.timestamp)>pB&&(this.events.delete(n.eventId),this.shouldPersist=!0)})})},this.setMethods=n=>({addTrace:o=>this.addTrace(n,o),setError:o=>this.setError(n,o)}),this.addTrace=(n,o)=>{const c=this.events.get(n);c&&(c.props.properties.trace.push(o),this.events.set(n,c),this.shouldPersist=!0)},this.setError=(n,o)=>{const c=this.events.get(n);c&&(c.props.type=o,c.timestamp=Date.now(),this.events.set(n,c),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const n=await this.core.storage.getItem(this.storageKey)||[];if(!n.length)return;n.forEach(o=>{this.events.set(o.eventId,Eu(Eu({},o),this.setMethods(o.eventId)))})}catch(n){this.logger.warn(n)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const n=[];for(const[o,c]of this.events)c.props.type&&n.push(c);if(n.length!==0)try{if((await this.sendEvent(n)).ok)for(const o of n)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}},this.sendEvent=async n=>{const o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${gB}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${K1}${o}`,{method:"POST",body:JSON.stringify(n)})},this.getAppDomain=()=>FI().url,this.logger=Ii(r,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var _P=Object.defineProperty,Iv=Object.getOwnPropertySymbols,SP=Object.prototype.hasOwnProperty,IP=Object.prototype.propertyIsEnumerable,xv=(e,t,r)=>t in e?_P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nv=(e,t)=>{for(var r in t||(t={}))SP.call(t,r)&&xv(e,r,t[r]);if(Iv)for(var r of Iv(t))IP.call(t,r)&&xv(e,r,t[r]);return e};let xP=class Zy extends gI{constructor(t){var r;super(t),this.protocol=Uy,this.version=ky,this.name=Mp,this.events=new Pn.EventEmitter,this.initialized=!1,this.on=(c,v)=>this.events.on(c,v),this.once=(c,v)=>this.events.once(c,v),this.off=(c,v)=>this.events.off(c,v),this.removeListener=(c,v)=>this.events.removeListener(c,v),this.dispatchEnvelope=({topic:c,message:v,sessionExists:w})=>{if(!c||!v)return;const p={topic:c,message:v,publishedAt:Date.now(),transportType:or.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:w})},this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||Ly,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=Tc({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:DC.logger}),{logger:n,chunkLoggerController:o}=bM({opts:i,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,v;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((v=this.logChunkController)==null||v.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ii(n,this.name),this.heartbeat=new fp,this.crypto=new zR(this,this.logger,t==null?void 0:t.keychain),this.history=new oP(this,this.logger),this.expirer=new aP(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new dE(Nv(Nv({},FC),t==null?void 0:t.storageOptions)),this.relayer=new eP({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new sP(this,this.logger),this.verify=new yP(this,this.logger,this.storage),this.echoClient=new wP(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new EP(this,this.logger,t==null?void 0:t.telemetryEnabled)}static async init(t){const r=new Zy(t);await r.initialize();const i=await r.crypto.getClientId();return await r.storage.setItem(VC,i),r}get context(){return nn(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(fv,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(fv)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}};const NP=xP;var CP={};const BP=":";function qd(e){const[t,r]=e.split(BP);return{namespace:t,reference:r}}function tw(e,t){return e.includes(":")?[e]:t.chains||[]}const RP="ReactNative",lh={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function ew(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function rw(){return!tf()&&!!Pc()&&navigator.product===RP}function iw(){return!ew()&&!!Pc()&&!!tf()}function PP(){return rw()?lh.reactNative:ew()?lh.node:iw()?lh.browser:lh.unknown}function TP(){return Y3()||{name:"",description:"",url:"",icons:[""]}}function ba(e,t){return e.filter(r=>t.includes(r)).length===e.length}function rh(e=Gt.FIVE_MINUTES,t){const r=Gt.toMiliseconds(e||Gt.FIVE_MINUTES);let i,n,o;return{resolve:c=>{o&&i&&(clearTimeout(o),i(c))},reject:c=>{o&&n&&(clearTimeout(o),n(c))},done:()=>new Promise((c,v)=>{o=setTimeout(()=>{v(new Error(t))},r),i=c,n=v})}}function OP(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function Oi(e,t){return Gt.fromMiliseconds(Date.now()+Gt.toMiliseconds(e))}function ih(e){return Date.now()>=Gt.toMiliseconds(e)}function Ge(e,t){return`${e}${t?`:${t}`:""}`}function DP(e=[],t=[]){return[...new Set([...e,...t])]}async function FP({id:e,topic:t,wcDeepLink:r}){var i;try{if(!r)return;const n=typeof r=="string"?JSON.parse(r):r,o=n==null?void 0:n.href;if(typeof o!="string")return;const c=UP(o,e,t),v=PP();if(v===lh.browser){if(!((i=tf())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}c.startsWith("https://")||c.startsWith("http://")?window.open(c,"_blank","noreferrer noopener"):window.open(c,LP()?"_blank":"_self","noreferrer noopener")}else v===lh.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(n){console.error(n)}}function UP(e,t,r){const i=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let n=`${e}`;if(e.startsWith("https://t.me")){const o=e.includes("?")?"&startapp=":"?startapp=";n=`${n}${o}${zP(i,!0)}`}else n=`${n}/wc?${i}`;return n}async function kP(e,t){let r="";try{if(iw()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(i){console.error(i)}return r}function Cv(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),i=r.indexOf(t);return r[i+2]}function qP(){return typeof process<"u"&&CP.IS_VITEST==="true"}function LP(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function zP(e,t=!1){const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $P(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var sw={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var o=!i&&typeof self=="object",c=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?n=nw:o&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,w=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],I=[4,1024,262144,67108864],B=[1,256,65536,16777216],R=[6,1536,393216,100663296],O=[0,8,16,24],z=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],J=[128,256],rt=["hex","buffer","arrayBuffer","array","digest"],ht={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"}),w&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(f){return typeof f=="object"&&f.buffer&&f.buffer.constructor===ArrayBuffer});for(var et=function(f,T,x){return function(C){return new g(f,T,f).update(C)[x]()}},W=function(f,T,x){return function(C,D){return new g(f,T,D).update(C)[x]()}},V=function(f,T,x){return function(C,D,E,P){return u["cshake"+f].update(C,D,E,P)[x]()}},nt=function(f,T,x){return function(C,D,E,P){return u["kmac"+f].update(C,D,E,P)[x]()}},it=function(f,T,x,C){for(var D=0;D<rt.length;++D){var E=rt[D];f[E]=T(x,C,E)}return f},Qt=function(f,T){var x=et(f,T,"hex");return x.create=function(){return new g(f,T,f)},x.update=function(C){return x.create().update(C)},it(x,et,f,T)},Yt=function(f,T){var x=W(f,T,"hex");return x.create=function(C){return new g(f,T,C)},x.update=function(C,D){return x.create(D).update(C)},it(x,W,f,T)},_t=function(f,T){var x=ht[f],C=V(f,T,"hex");return C.create=function(D,E,P){return!E&&!P?u["shake"+f].create(D):new g(f,T,D).bytepad([E,P],x)},C.update=function(D,E,P,$){return C.create(E,P,$).update(D)},it(C,V,f,T)},Vt=function(f,T){var x=ht[f],C=nt(f,T,"hex");return C.create=function(D,E,P){return new Q(f,T,E).bytepad(["KMAC",P],x).bytepad([D],x)},C.update=function(D,E,P,$){return C.create(D,P,$).update(E)},it(C,nt,f,T)},s=[{name:"keccak",padding:B,bits:k,createMethod:Qt},{name:"sha3",padding:R,bits:k,createMethod:Qt},{name:"shake",padding:_,bits:J,createMethod:Yt},{name:"cshake",padding:I,bits:J,createMethod:_t},{name:"kmac",padding:I,bits:J,createMethod:Vt}],u={},d=[],y=0;y<s.length;++y)for(var A=s[y],M=A.bits,S=0;S<M.length;++S){var m=A.name+"_"+M[S];if(d.push(m),u[m]=A.createMethod(M[S],A.padding),A.name!=="sha3"){var a=A.name+M[S];d.push(a),u[a]=u[m]}}function g(f,T,x){this.blocks=[],this.s=[],this.padding=T,this.outputBits=x,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(f<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=x>>5,this.extraBytes=(x&31)>>3;for(var C=0;C<50;++C)this.s[C]=0}g.prototype.update=function(f){if(this.finalized)throw new Error(r);var T,x=typeof f;if(x!=="string"){if(x==="object"){if(f===null)throw new Error(t);if(w&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!w||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);T=!0}for(var C=this.blocks,D=this.byteCount,E=f.length,P=this.blockCount,$=0,G=this.s,L,at;$<E;){if(this.reset)for(this.reset=!1,C[0]=this.block,L=1;L<P+1;++L)C[L]=0;if(T)for(L=this.start;$<E&&L<D;++$)C[L>>2]|=f[$]<<O[L++&3];else for(L=this.start;$<E&&L<D;++$)at=f.charCodeAt($),at<128?C[L>>2]|=at<<O[L++&3]:at<2048?(C[L>>2]|=(192|at>>6)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]):at<55296||at>=57344?(C[L>>2]|=(224|at>>12)<<O[L++&3],C[L>>2]|=(128|at>>6&63)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]):(at=65536+((at&1023)<<10|f.charCodeAt(++$)&1023),C[L>>2]|=(240|at>>18)<<O[L++&3],C[L>>2]|=(128|at>>12&63)<<O[L++&3],C[L>>2]|=(128|at>>6&63)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]);if(this.lastByteIndex=L,L>=D){for(this.start=L-D,this.block=C[P],L=0;L<P;++L)G[L]^=C[L];j(G),this.reset=!0}else this.start=L}return this},g.prototype.encode=function(f,T){var x=f&255,C=1,D=[x];for(f=f>>8,x=f&255;x>0;)D.unshift(x),f=f>>8,x=f&255,++C;return T?D.push(C):D.unshift(C),this.update(D),D.length},g.prototype.encodeString=function(f){var T,x=typeof f;if(x!=="string"){if(x==="object"){if(f===null)throw new Error(t);if(w&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!w||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);T=!0}var C=0,D=f.length;if(T)C=D;else for(var E=0;E<f.length;++E){var P=f.charCodeAt(E);P<128?C+=1:P<2048?C+=2:P<55296||P>=57344?C+=3:(P=65536+((P&1023)<<10|f.charCodeAt(++E)&1023),C+=4)}return C+=this.encode(C*8),this.update(f),C},g.prototype.bytepad=function(f,T){for(var x=this.encode(T),C=0;C<f.length;++C)x+=this.encodeString(f[C]);var D=T-x%T,E=[];return E.length=D,this.update(E),this},g.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var f=this.blocks,T=this.lastByteIndex,x=this.blockCount,C=this.s;if(f[T>>2]|=this.padding[T&3],this.lastByteIndex===this.byteCount)for(f[0]=f[x],T=1;T<x+1;++T)f[T]=0;for(f[x-1]|=2147483648,T=0;T<x;++T)C[T]^=f[T];j(C)}},g.prototype.toString=g.prototype.hex=function(){this.finalize();for(var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P="",$;E<x;){for(D=0;D<f&&E<x;++D,++E)$=T[D],P+=p[$>>4&15]+p[$&15]+p[$>>12&15]+p[$>>8&15]+p[$>>20&15]+p[$>>16&15]+p[$>>28&15]+p[$>>24&15];E%f===0&&(j(T),D=0)}return C&&($=T[D],P+=p[$>>4&15]+p[$&15],C>1&&(P+=p[$>>12&15]+p[$>>8&15]),C>2&&(P+=p[$>>20&15]+p[$>>16&15])),P},g.prototype.arrayBuffer=function(){this.finalize();var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P=this.outputBits>>3,$;C?$=new ArrayBuffer(x+1<<2):$=new ArrayBuffer(P);for(var G=new Uint32Array($);E<x;){for(D=0;D<f&&E<x;++D,++E)G[E]=T[D];E%f===0&&j(T)}return C&&(G[D]=T[D],$=$.slice(0,P)),$},g.prototype.buffer=g.prototype.arrayBuffer,g.prototype.digest=g.prototype.array=function(){this.finalize();for(var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P=[],$,G;E<x;){for(D=0;D<f&&E<x;++D,++E)$=E<<2,G=T[D],P[$]=G&255,P[$+1]=G>>8&255,P[$+2]=G>>16&255,P[$+3]=G>>24&255;E%f===0&&j(T)}return C&&($=E<<2,G=T[D],P[$]=G&255,C>1&&(P[$+1]=G>>8&255),C>2&&(P[$+2]=G>>16&255)),P};function Q(f,T,x){g.call(this,f,T,x)}Q.prototype=new g,Q.prototype.finalize=function(){return this.encode(this.outputBits,!0),g.prototype.finalize.call(this)};var j=function(f){var T,x,C,D,E,P,$,G,L,at,ut,ot,he,St,vt,te,dt,pt,ne,ft,gt,Zt,ct,wt,ee,It,Rt,pe,Ot,Tt,ge,Dt,kt,me,Lt,zt,xe,At,mt,se,bt,yt,ie,xt,Nt,oe,Ct,Mt,ae,Et,lt,ue,Bt,Ht,Ke,Kt,Ft,Ne,Ce,Be,Re,Pe,ve;for(C=0;C<48;C+=2)D=f[0]^f[10]^f[20]^f[30]^f[40],E=f[1]^f[11]^f[21]^f[31]^f[41],P=f[2]^f[12]^f[22]^f[32]^f[42],$=f[3]^f[13]^f[23]^f[33]^f[43],G=f[4]^f[14]^f[24]^f[34]^f[44],L=f[5]^f[15]^f[25]^f[35]^f[45],at=f[6]^f[16]^f[26]^f[36]^f[46],ut=f[7]^f[17]^f[27]^f[37]^f[47],ot=f[8]^f[18]^f[28]^f[38]^f[48],he=f[9]^f[19]^f[29]^f[39]^f[49],T=ot^(P<<1|$>>>31),x=he^($<<1|P>>>31),f[0]^=T,f[1]^=x,f[10]^=T,f[11]^=x,f[20]^=T,f[21]^=x,f[30]^=T,f[31]^=x,f[40]^=T,f[41]^=x,T=D^(G<<1|L>>>31),x=E^(L<<1|G>>>31),f[2]^=T,f[3]^=x,f[12]^=T,f[13]^=x,f[22]^=T,f[23]^=x,f[32]^=T,f[33]^=x,f[42]^=T,f[43]^=x,T=P^(at<<1|ut>>>31),x=$^(ut<<1|at>>>31),f[4]^=T,f[5]^=x,f[14]^=T,f[15]^=x,f[24]^=T,f[25]^=x,f[34]^=T,f[35]^=x,f[44]^=T,f[45]^=x,T=G^(ot<<1|he>>>31),x=L^(he<<1|ot>>>31),f[6]^=T,f[7]^=x,f[16]^=T,f[17]^=x,f[26]^=T,f[27]^=x,f[36]^=T,f[37]^=x,f[46]^=T,f[47]^=x,T=at^(D<<1|E>>>31),x=ut^(E<<1|D>>>31),f[8]^=T,f[9]^=x,f[18]^=T,f[19]^=x,f[28]^=T,f[29]^=x,f[38]^=T,f[39]^=x,f[48]^=T,f[49]^=x,St=f[0],vt=f[1],oe=f[11]<<4|f[10]>>>28,Ct=f[10]<<4|f[11]>>>28,pe=f[20]<<3|f[21]>>>29,Ot=f[21]<<3|f[20]>>>29,Be=f[31]<<9|f[30]>>>23,Re=f[30]<<9|f[31]>>>23,yt=f[40]<<18|f[41]>>>14,ie=f[41]<<18|f[40]>>>14,me=f[2]<<1|f[3]>>>31,Lt=f[3]<<1|f[2]>>>31,te=f[13]<<12|f[12]>>>20,dt=f[12]<<12|f[13]>>>20,Mt=f[22]<<10|f[23]>>>22,ae=f[23]<<10|f[22]>>>22,Tt=f[33]<<13|f[32]>>>19,ge=f[32]<<13|f[33]>>>19,Pe=f[42]<<2|f[43]>>>30,ve=f[43]<<2|f[42]>>>30,Ht=f[5]<<30|f[4]>>>2,Ke=f[4]<<30|f[5]>>>2,zt=f[14]<<6|f[15]>>>26,xe=f[15]<<6|f[14]>>>26,pt=f[25]<<11|f[24]>>>21,ne=f[24]<<11|f[25]>>>21,Et=f[34]<<15|f[35]>>>17,lt=f[35]<<15|f[34]>>>17,Dt=f[45]<<29|f[44]>>>3,kt=f[44]<<29|f[45]>>>3,wt=f[6]<<28|f[7]>>>4,ee=f[7]<<28|f[6]>>>4,Kt=f[17]<<23|f[16]>>>9,Ft=f[16]<<23|f[17]>>>9,At=f[26]<<25|f[27]>>>7,mt=f[27]<<25|f[26]>>>7,ft=f[36]<<21|f[37]>>>11,gt=f[37]<<21|f[36]>>>11,ue=f[47]<<24|f[46]>>>8,Bt=f[46]<<24|f[47]>>>8,xt=f[8]<<27|f[9]>>>5,Nt=f[9]<<27|f[8]>>>5,It=f[18]<<20|f[19]>>>12,Rt=f[19]<<20|f[18]>>>12,Ne=f[29]<<7|f[28]>>>25,Ce=f[28]<<7|f[29]>>>25,se=f[38]<<8|f[39]>>>24,bt=f[39]<<8|f[38]>>>24,Zt=f[48]<<14|f[49]>>>18,ct=f[49]<<14|f[48]>>>18,f[0]=St^~te&pt,f[1]=vt^~dt&ne,f[10]=wt^~It&pe,f[11]=ee^~Rt&Ot,f[20]=me^~zt&At,f[21]=Lt^~xe&mt,f[30]=xt^~oe&Mt,f[31]=Nt^~Ct&ae,f[40]=Ht^~Kt&Ne,f[41]=Ke^~Ft&Ce,f[2]=te^~pt&ft,f[3]=dt^~ne&gt,f[12]=It^~pe&Tt,f[13]=Rt^~Ot&ge,f[22]=zt^~At&se,f[23]=xe^~mt&bt,f[32]=oe^~Mt&Et,f[33]=Ct^~ae&lt,f[42]=Kt^~Ne&Be,f[43]=Ft^~Ce&Re,f[4]=pt^~ft&Zt,f[5]=ne^~gt&ct,f[14]=pe^~Tt&Dt,f[15]=Ot^~ge&kt,f[24]=At^~se&yt,f[25]=mt^~bt&ie,f[34]=Mt^~Et&ue,f[35]=ae^~lt&Bt,f[44]=Ne^~Be&Pe,f[45]=Ce^~Re&ve,f[6]=ft^~Zt&St,f[7]=gt^~ct&vt,f[16]=Tt^~Dt&wt,f[17]=ge^~kt&ee,f[26]=se^~yt&me,f[27]=bt^~ie&Lt,f[36]=Et^~ue&xt,f[37]=lt^~Bt&Nt,f[46]=Be^~Pe&Ht,f[47]=Re^~ve&Ke,f[8]=Zt^~St&te,f[9]=ct^~vt&dt,f[18]=Dt^~wt&It,f[19]=kt^~ee&Rt,f[28]=yt^~me&zt,f[29]=ie^~Lt&xe,f[38]=ue^~xt&oe,f[39]=Bt^~Nt&Ct,f[48]=Pe^~Ht&Kt,f[49]=ve^~Ke&Ft,f[0]^=z[C],f[1]^=z[C+1]};if(v)e.exports=u;else for(y=0;y<d.length;++y)n[d[y]]=u[d[y]]})()})(sw);var HP=sw.exports;const KP="logger/5.7.0";let Bv=!1,Rv=!1;const Z0={debug:1,default:2,info:2,warning:3,error:4,off:5};let Pv=Z0.default,Ld=null;function jP(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("Г©".normalize("NFD")!=="eМЃ")throw new Error("broken implementation")}catch(e){return e.message}return null}const Tv=jP();var G1;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(G1||(G1={}));var Wn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Wn||(Wn={}));const Ov="0123456789abcdef";let ei=class qr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Z0[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Pv>Z0[i])&&console.log.apply(console,r)}debug(...t){this._log(qr.levels.DEBUG,t)}info(...t){this._log(qr.levels.INFO,t)}warn(...t){this._log(qr.levels.WARNING,t)}makeError(t,r,i){if(Rv)return this.makeError("censored error",r,{});r||(r=qr.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(w=>{const p=i[w];try{if(p instanceof Uint8Array){let _="";for(let I=0;I<p.length;I++)_+=Ov[p[I]>>4],_+=Ov[p[I]&15];n.push(w+"=Uint8Array(0x"+_+")")}else n.push(w+"="+JSON.stringify(p))}catch{n.push(w+"="+JSON.stringify(i[w].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const o=t;let c="";switch(r){case Wn.NUMERIC_FAULT:{c="NUMERIC_FAULT";const w=t;switch(w){case"overflow":case"underflow":case"division-by-zero":c+="-"+w;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case Wn.CALL_EXCEPTION:case Wn.INSUFFICIENT_FUNDS:case Wn.MISSING_NEW:case Wn.NONCE_EXPIRED:case Wn.REPLACEMENT_UNDERPRICED:case Wn.TRANSACTION_REPLACED:case Wn.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=o,v.code=r,Object.keys(i).forEach(function(w){v[w]=i[w]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,qr.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){Tv&&this.throwError("platform missing String.prototype.normalize",qr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Tv})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,qr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,qr.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,qr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",qr.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",qr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",qr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ld||(Ld=new qr(KP)),Ld}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Bv){if(!t)return;this.globalLogger().throwError("error censorship permanent",qr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Rv=!!t,Bv=!!r}static setLogLevel(t){const r=Z0[t.toLowerCase()];if(r==null){qr.globalLogger().warn("invalid log level - "+t);return}Pv=r}static from(t){return new qr(t)}};ei.errors=Wn,ei.levels=G1;const QP="bytes/5.7.0",Er=new ei(QP);function ow(e){return!!e.toHexString}function mh(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return mh(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function GP(e){return Xi(e)&&!(e.length%2)||Hh(e)}function Dv(e){return typeof e=="number"&&e==e&&e%1===0}function Hh(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!Dv(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Dv(r)||r<0||r>=256)return!1}return!0}function yr(e,t){if(t||(t={}),typeof e=="number"){Er.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),mh(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),ow(e)&&(e=e.toHexString()),Xi(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Er.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return mh(new Uint8Array(i))}return Hh(e)?mh(new Uint8Array(e)):Er.throwArgumentError("invalid arrayify value","value",e)}function JP(e){const t=e.map(n=>yr(n)),r=t.reduce((n,o)=>n+o.length,0),i=new Uint8Array(r);return t.reduce((n,o)=>(i.set(o,n),n+o.length),0),mh(i)}function YP(e,t){e=yr(e),e.length>t&&Er.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),mh(r)}function Xi(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const zd="0123456789abcdef";function ki(e,t){if(t||(t={}),typeof e=="number"){Er.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=zd[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),ow(e))return e.toHexString();if(Xi(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Er.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Hh(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=zd[(n&240)>>4]+zd[n&15]}return r}return Er.throwArgumentError("invalid hexlify value","value",e)}function VP(e){if(typeof e!="string")e=ki(e);else if(!Xi(e)||e.length%2)return null;return(e.length-2)/2}function Fv(e,t,r){return typeof e!="string"?e=ki(e):(!Xi(e)||e.length%2)&&Er.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Hs(e,t){for(typeof e!="string"?e=ki(e):Xi(e)||Er.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Er.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function aw(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(GP(e)){let r=yr(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=ki(r.slice(0,32)),t.s=ki(r.slice(32,64))):r.length===65?(t.r=ki(r.slice(0,32)),t.s=ki(r.slice(32,64)),t.v=r[64]):Er.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:Er.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=ki(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const n=YP(yr(t._vs),32);t._vs=ki(n);const o=n[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=o:t.recoveryParam!==o&&Er.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const c=ki(n);t.s==null?t.s=c:t.s!==c&&Er.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?Er.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const n=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==n&&Er.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!Xi(t.r)?Er.throwArgumentError("signature missing or invalid r","signature",e):t.r=Hs(t.r,32),t.s==null||!Xi(t.s)?Er.throwArgumentError("signature missing or invalid s","signature",e):t.s=Hs(t.s,32);const r=yr(t.s);r[0]>=128&&Er.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=ki(r);t._vs&&(Xi(t._vs)||Er.throwArgumentError("signature invalid _vs","signature",e),t._vs=Hs(t._vs,32)),t._vs==null?t._vs=i:t._vs!==i&&Er.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function Ep(e){return"0x"+HP.keccak_256(yr(e))}var hw={exports:{}},WP={},XP=Object.freeze({__proto__:null,default:WP}),ZP=$P(XP);(function(e){(function(t,r){function i(s,u){if(!s)throw new Error(u||"Assertion failed")}function n(s,u){s.super_=u;var d=function(){};d.prototype=u.prototype,s.prototype=new d,s.prototype.constructor=s}function o(s,u,d){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(s||0,u||10,d||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=ZP.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,u){return s.cmp(u)>0?s:u},o.min=function(s,u){return s.cmp(u)<0?s:u},o.prototype._init=function(s,u,d){if(typeof s=="number")return this._initNumber(s,u,d);if(typeof s=="object")return this._initArray(s,u,d);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var y=0;s[0]==="-"&&(y++,this.negative=1),y<s.length&&(u===16?this._parseHex(s,y,d):(this._parseBase(s,u,y),d==="le"&&this._initArray(this.toArray(),u,d)))},o.prototype._initNumber=function(s,u,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(i(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},o.prototype._initArray=function(s,u,d){if(i(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A,M,S=0;if(d==="be")for(y=s.length-1,A=0;y>=0;y-=3)M=s[y]|s[y-1]<<8|s[y-2]<<16,this.words[A]|=M<<S&67108863,this.words[A+1]=M>>>26-S&67108863,S+=24,S>=26&&(S-=26,A++);else if(d==="le")for(y=0,A=0;y<s.length;y+=3)M=s[y]|s[y+1]<<8|s[y+2]<<16,this.words[A]|=M<<S&67108863,this.words[A+1]=M>>>26-S&67108863,S+=24,S>=26&&(S-=26,A++);return this._strip()};function v(s,u){var d=s.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+s)}function w(s,u,d){var y=v(s,d);return d-1>=u&&(y|=v(s,d-1)<<4),y}o.prototype._parseHex=function(s,u,d){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A=0,M=0,S;if(d==="be")for(y=s.length-1;y>=u;y-=2)S=w(s,u,y)<<A,this.words[M]|=S&67108863,A>=18?(A-=18,M+=1,this.words[M]|=S>>>26):A+=8;else{var m=s.length-u;for(y=m%2===0?u+1:u;y<s.length;y+=2)S=w(s,u,y)<<A,this.words[M]|=S&67108863,A>=18?(A-=18,M+=1,this.words[M]|=S>>>26):A+=8}this._strip()};function p(s,u,d,y){for(var A=0,M=0,S=Math.min(s.length,d),m=u;m<S;m++){var a=s.charCodeAt(m)-48;A*=y,a>=49?M=a-49+10:a>=17?M=a-17+10:M=a,i(a>=0&&M<y,"Invalid character"),A+=M}return A}o.prototype._parseBase=function(s,u,d){this.words=[0],this.length=1;for(var y=0,A=1;A<=67108863;A*=u)y++;y--,A=A/u|0;for(var M=s.length-d,S=M%y,m=Math.min(M,M-S)+d,a=0,g=d;g<m;g+=y)a=p(s,g,g+y,u),this.imuln(A),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(S!==0){var Q=1;for(a=p(s,g,s.length,u),g=0;g<S;g++)Q*=u;this.imuln(Q),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(s,u){s.words=u.words,s.length=u.length,s.negative=u.negative,s.red=u.red}if(o.prototype._move=function(s){_(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{o.prototype.inspect=I}else o.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,u){s=s||10,u=u|0||1;var d;if(s===16||s==="hex"){d="";for(var y=0,A=0,M=0;M<this.length;M++){var S=this.words[M],m=((S<<y|A)&16777215).toString(16);A=S>>>24-y&16777215,y+=2,y>=26&&(y-=26,M--),A!==0||M!==this.length-1?d=B[6-m.length]+m+d:d=m+d}for(A!==0&&(d=A.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var a=R[s],g=O[s];d="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var j=Q.modrn(g).toString(s);Q=Q.idivn(g),Q.isZero()?d=j+d:d=B[a-j.length]+j+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},c&&(o.prototype.toBuffer=function(s,u){return this.toArrayLike(c,s,u)}),o.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var z=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};o.prototype.toArrayLike=function(s,u,d){this._strip();var y=this.byteLength(),A=d||Math.max(1,y);i(y<=A,"byte array longer than desired length"),i(A>0,"Requested array length <= 0");var M=z(s,A),S=u==="le"?"LE":"BE";return this["_toArrayLike"+S](M,y),M},o.prototype._toArrayLikeLE=function(s,u){for(var d=0,y=0,A=0,M=0;A<this.length;A++){var S=this.words[A]<<M|y;s[d++]=S&255,d<s.length&&(s[d++]=S>>8&255),d<s.length&&(s[d++]=S>>16&255),M===6?(d<s.length&&(s[d++]=S>>24&255),y=0,M=0):(y=S>>>24,M+=2)}if(d<s.length)for(s[d++]=y;d<s.length;)s[d++]=0},o.prototype._toArrayLikeBE=function(s,u){for(var d=s.length-1,y=0,A=0,M=0;A<this.length;A++){var S=this.words[A]<<M|y;s[d--]=S&255,d>=0&&(s[d--]=S>>8&255),d>=0&&(s[d--]=S>>16&255),M===6?(d>=0&&(s[d--]=S>>24&255),y=0,M=0):(y=S>>>24,M+=2)}if(d>=0)for(s[d--]=y;d>=0;)s[d--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var u=s,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},o.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,d=0;return u&8191||(d+=13,u>>>=13),u&127||(d+=7,u>>>=7),u&15||(d+=4,u>>>=4),u&3||(d+=2,u>>>=2),u&1||d++,d},o.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function k(s){for(var u=new Array(s.bitLength()),d=0;d<u.length;d++){var y=d/26|0,A=d%26;u[d]=s.words[y]>>>A&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(s+=d,d!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},o.prototype.ior=function(s){return i((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=u.length,this._strip()},o.prototype.iand=function(s){return i((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var u,d;this.length>s.length?(u=this,d=s):(u=s,d=this);for(var y=0;y<d.length;y++)this.words[y]=u.words[y]^d.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this._strip()},o.prototype.ixor=function(s){return i((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){i(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,d=s%26;this._expand(u),d>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return d>0&&(this.words[y]=~this.words[y]&67108863>>26-d),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,u){i(typeof s=="number"&&s>=0);var d=s/26|0,y=s%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<y:this.words[d]=this.words[d]&~(1<<y),this._strip()},o.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var d,y;this.length>s.length?(d=this,y=s):(d=s,y=this);for(var A=0,M=0;M<y.length;M++)u=(d.words[M]|0)+(y.words[M]|0)+A,this.words[M]=u&67108863,A=u>>>26;for(;A!==0&&M<d.length;M++)u=(d.words[M]|0)+A,this.words[M]=u&67108863,A=u>>>26;if(this.length=d.length,A!==0)this.words[this.length]=A,this.length++;else if(d!==this)for(;M<d.length;M++)this.words[M]=d.words[M];return this},o.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,A;d>0?(y=this,A=s):(y=s,A=this);for(var M=0,S=0;S<A.length;S++)u=(y.words[S]|0)-(A.words[S]|0)+M,M=u>>26,this.words[S]=u&67108863;for(;M!==0&&S<y.length;S++)u=(y.words[S]|0)+M,M=u>>26,this.words[S]=u&67108863;if(M===0&&S<y.length&&y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this.length=Math.max(this.length,S),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function J(s,u,d){d.negative=u.negative^s.negative;var y=s.length+u.length|0;d.length=y,y=y-1|0;var A=s.words[0]|0,M=u.words[0]|0,S=A*M,m=S&67108863,a=S/67108864|0;d.words[0]=m;for(var g=1;g<y;g++){for(var Q=a>>>26,j=a&67108863,f=Math.min(g,u.length-1),T=Math.max(0,g-s.length+1);T<=f;T++){var x=g-T|0;A=s.words[x]|0,M=u.words[T]|0,S=A*M+j,Q+=S/67108864|0,j=S&67108863}d.words[g]=j|0,a=Q|0}return a!==0?d.words[g]=a|0:d.length--,d._strip()}var rt=function(s,u,d){var y=s.words,A=u.words,M=d.words,S=0,m,a,g,Q=y[0]|0,j=Q&8191,f=Q>>>13,T=y[1]|0,x=T&8191,C=T>>>13,D=y[2]|0,E=D&8191,P=D>>>13,$=y[3]|0,G=$&8191,L=$>>>13,at=y[4]|0,ut=at&8191,ot=at>>>13,he=y[5]|0,St=he&8191,vt=he>>>13,te=y[6]|0,dt=te&8191,pt=te>>>13,ne=y[7]|0,ft=ne&8191,gt=ne>>>13,Zt=y[8]|0,ct=Zt&8191,wt=Zt>>>13,ee=y[9]|0,It=ee&8191,Rt=ee>>>13,pe=A[0]|0,Ot=pe&8191,Tt=pe>>>13,ge=A[1]|0,Dt=ge&8191,kt=ge>>>13,me=A[2]|0,Lt=me&8191,zt=me>>>13,xe=A[3]|0,At=xe&8191,mt=xe>>>13,se=A[4]|0,bt=se&8191,yt=se>>>13,ie=A[5]|0,xt=ie&8191,Nt=ie>>>13,oe=A[6]|0,Ct=oe&8191,Mt=oe>>>13,ae=A[7]|0,Et=ae&8191,lt=ae>>>13,ue=A[8]|0,Bt=ue&8191,Ht=ue>>>13,Ke=A[9]|0,Kt=Ke&8191,Ft=Ke>>>13;d.negative=s.negative^u.negative,d.length=19,m=Math.imul(j,Ot),a=Math.imul(j,Tt),a=a+Math.imul(f,Ot)|0,g=Math.imul(f,Tt);var Ne=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(x,Ot),a=Math.imul(x,Tt),a=a+Math.imul(C,Ot)|0,g=Math.imul(C,Tt),m=m+Math.imul(j,Dt)|0,a=a+Math.imul(j,kt)|0,a=a+Math.imul(f,Dt)|0,g=g+Math.imul(f,kt)|0;var Ce=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,m=Math.imul(E,Ot),a=Math.imul(E,Tt),a=a+Math.imul(P,Ot)|0,g=Math.imul(P,Tt),m=m+Math.imul(x,Dt)|0,a=a+Math.imul(x,kt)|0,a=a+Math.imul(C,Dt)|0,g=g+Math.imul(C,kt)|0,m=m+Math.imul(j,Lt)|0,a=a+Math.imul(j,zt)|0,a=a+Math.imul(f,Lt)|0,g=g+Math.imul(f,zt)|0;var Be=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,m=Math.imul(G,Ot),a=Math.imul(G,Tt),a=a+Math.imul(L,Ot)|0,g=Math.imul(L,Tt),m=m+Math.imul(E,Dt)|0,a=a+Math.imul(E,kt)|0,a=a+Math.imul(P,Dt)|0,g=g+Math.imul(P,kt)|0,m=m+Math.imul(x,Lt)|0,a=a+Math.imul(x,zt)|0,a=a+Math.imul(C,Lt)|0,g=g+Math.imul(C,zt)|0,m=m+Math.imul(j,At)|0,a=a+Math.imul(j,mt)|0,a=a+Math.imul(f,At)|0,g=g+Math.imul(f,mt)|0;var Re=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(ut,Ot),a=Math.imul(ut,Tt),a=a+Math.imul(ot,Ot)|0,g=Math.imul(ot,Tt),m=m+Math.imul(G,Dt)|0,a=a+Math.imul(G,kt)|0,a=a+Math.imul(L,Dt)|0,g=g+Math.imul(L,kt)|0,m=m+Math.imul(E,Lt)|0,a=a+Math.imul(E,zt)|0,a=a+Math.imul(P,Lt)|0,g=g+Math.imul(P,zt)|0,m=m+Math.imul(x,At)|0,a=a+Math.imul(x,mt)|0,a=a+Math.imul(C,At)|0,g=g+Math.imul(C,mt)|0,m=m+Math.imul(j,bt)|0,a=a+Math.imul(j,yt)|0,a=a+Math.imul(f,bt)|0,g=g+Math.imul(f,yt)|0;var Pe=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,m=Math.imul(St,Ot),a=Math.imul(St,Tt),a=a+Math.imul(vt,Ot)|0,g=Math.imul(vt,Tt),m=m+Math.imul(ut,Dt)|0,a=a+Math.imul(ut,kt)|0,a=a+Math.imul(ot,Dt)|0,g=g+Math.imul(ot,kt)|0,m=m+Math.imul(G,Lt)|0,a=a+Math.imul(G,zt)|0,a=a+Math.imul(L,Lt)|0,g=g+Math.imul(L,zt)|0,m=m+Math.imul(E,At)|0,a=a+Math.imul(E,mt)|0,a=a+Math.imul(P,At)|0,g=g+Math.imul(P,mt)|0,m=m+Math.imul(x,bt)|0,a=a+Math.imul(x,yt)|0,a=a+Math.imul(C,bt)|0,g=g+Math.imul(C,yt)|0,m=m+Math.imul(j,xt)|0,a=a+Math.imul(j,Nt)|0,a=a+Math.imul(f,xt)|0,g=g+Math.imul(f,Nt)|0;var ve=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,m=Math.imul(dt,Ot),a=Math.imul(dt,Tt),a=a+Math.imul(pt,Ot)|0,g=Math.imul(pt,Tt),m=m+Math.imul(St,Dt)|0,a=a+Math.imul(St,kt)|0,a=a+Math.imul(vt,Dt)|0,g=g+Math.imul(vt,kt)|0,m=m+Math.imul(ut,Lt)|0,a=a+Math.imul(ut,zt)|0,a=a+Math.imul(ot,Lt)|0,g=g+Math.imul(ot,zt)|0,m=m+Math.imul(G,At)|0,a=a+Math.imul(G,mt)|0,a=a+Math.imul(L,At)|0,g=g+Math.imul(L,mt)|0,m=m+Math.imul(E,bt)|0,a=a+Math.imul(E,yt)|0,a=a+Math.imul(P,bt)|0,g=g+Math.imul(P,yt)|0,m=m+Math.imul(x,xt)|0,a=a+Math.imul(x,Nt)|0,a=a+Math.imul(C,xt)|0,g=g+Math.imul(C,Nt)|0,m=m+Math.imul(j,Ct)|0,a=a+Math.imul(j,Mt)|0,a=a+Math.imul(f,Ct)|0,g=g+Math.imul(f,Mt)|0;var dr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ft,Ot),a=Math.imul(ft,Tt),a=a+Math.imul(gt,Ot)|0,g=Math.imul(gt,Tt),m=m+Math.imul(dt,Dt)|0,a=a+Math.imul(dt,kt)|0,a=a+Math.imul(pt,Dt)|0,g=g+Math.imul(pt,kt)|0,m=m+Math.imul(St,Lt)|0,a=a+Math.imul(St,zt)|0,a=a+Math.imul(vt,Lt)|0,g=g+Math.imul(vt,zt)|0,m=m+Math.imul(ut,At)|0,a=a+Math.imul(ut,mt)|0,a=a+Math.imul(ot,At)|0,g=g+Math.imul(ot,mt)|0,m=m+Math.imul(G,bt)|0,a=a+Math.imul(G,yt)|0,a=a+Math.imul(L,bt)|0,g=g+Math.imul(L,yt)|0,m=m+Math.imul(E,xt)|0,a=a+Math.imul(E,Nt)|0,a=a+Math.imul(P,xt)|0,g=g+Math.imul(P,Nt)|0,m=m+Math.imul(x,Ct)|0,a=a+Math.imul(x,Mt)|0,a=a+Math.imul(C,Ct)|0,g=g+Math.imul(C,Mt)|0,m=m+Math.imul(j,Et)|0,a=a+Math.imul(j,lt)|0,a=a+Math.imul(f,Et)|0,g=g+Math.imul(f,lt)|0;var Nr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,m=Math.imul(ct,Ot),a=Math.imul(ct,Tt),a=a+Math.imul(wt,Ot)|0,g=Math.imul(wt,Tt),m=m+Math.imul(ft,Dt)|0,a=a+Math.imul(ft,kt)|0,a=a+Math.imul(gt,Dt)|0,g=g+Math.imul(gt,kt)|0,m=m+Math.imul(dt,Lt)|0,a=a+Math.imul(dt,zt)|0,a=a+Math.imul(pt,Lt)|0,g=g+Math.imul(pt,zt)|0,m=m+Math.imul(St,At)|0,a=a+Math.imul(St,mt)|0,a=a+Math.imul(vt,At)|0,g=g+Math.imul(vt,mt)|0,m=m+Math.imul(ut,bt)|0,a=a+Math.imul(ut,yt)|0,a=a+Math.imul(ot,bt)|0,g=g+Math.imul(ot,yt)|0,m=m+Math.imul(G,xt)|0,a=a+Math.imul(G,Nt)|0,a=a+Math.imul(L,xt)|0,g=g+Math.imul(L,Nt)|0,m=m+Math.imul(E,Ct)|0,a=a+Math.imul(E,Mt)|0,a=a+Math.imul(P,Ct)|0,g=g+Math.imul(P,Mt)|0,m=m+Math.imul(x,Et)|0,a=a+Math.imul(x,lt)|0,a=a+Math.imul(C,Et)|0,g=g+Math.imul(C,lt)|0,m=m+Math.imul(j,Bt)|0,a=a+Math.imul(j,Ht)|0,a=a+Math.imul(f,Bt)|0,g=g+Math.imul(f,Ht)|0;var pr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(It,Ot),a=Math.imul(It,Tt),a=a+Math.imul(Rt,Ot)|0,g=Math.imul(Rt,Tt),m=m+Math.imul(ct,Dt)|0,a=a+Math.imul(ct,kt)|0,a=a+Math.imul(wt,Dt)|0,g=g+Math.imul(wt,kt)|0,m=m+Math.imul(ft,Lt)|0,a=a+Math.imul(ft,zt)|0,a=a+Math.imul(gt,Lt)|0,g=g+Math.imul(gt,zt)|0,m=m+Math.imul(dt,At)|0,a=a+Math.imul(dt,mt)|0,a=a+Math.imul(pt,At)|0,g=g+Math.imul(pt,mt)|0,m=m+Math.imul(St,bt)|0,a=a+Math.imul(St,yt)|0,a=a+Math.imul(vt,bt)|0,g=g+Math.imul(vt,yt)|0,m=m+Math.imul(ut,xt)|0,a=a+Math.imul(ut,Nt)|0,a=a+Math.imul(ot,xt)|0,g=g+Math.imul(ot,Nt)|0,m=m+Math.imul(G,Ct)|0,a=a+Math.imul(G,Mt)|0,a=a+Math.imul(L,Ct)|0,g=g+Math.imul(L,Mt)|0,m=m+Math.imul(E,Et)|0,a=a+Math.imul(E,lt)|0,a=a+Math.imul(P,Et)|0,g=g+Math.imul(P,lt)|0,m=m+Math.imul(x,Bt)|0,a=a+Math.imul(x,Ht)|0,a=a+Math.imul(C,Bt)|0,g=g+Math.imul(C,Ht)|0,m=m+Math.imul(j,Kt)|0,a=a+Math.imul(j,Ft)|0,a=a+Math.imul(f,Kt)|0,g=g+Math.imul(f,Ft)|0;var Cr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(It,Dt),a=Math.imul(It,kt),a=a+Math.imul(Rt,Dt)|0,g=Math.imul(Rt,kt),m=m+Math.imul(ct,Lt)|0,a=a+Math.imul(ct,zt)|0,a=a+Math.imul(wt,Lt)|0,g=g+Math.imul(wt,zt)|0,m=m+Math.imul(ft,At)|0,a=a+Math.imul(ft,mt)|0,a=a+Math.imul(gt,At)|0,g=g+Math.imul(gt,mt)|0,m=m+Math.imul(dt,bt)|0,a=a+Math.imul(dt,yt)|0,a=a+Math.imul(pt,bt)|0,g=g+Math.imul(pt,yt)|0,m=m+Math.imul(St,xt)|0,a=a+Math.imul(St,Nt)|0,a=a+Math.imul(vt,xt)|0,g=g+Math.imul(vt,Nt)|0,m=m+Math.imul(ut,Ct)|0,a=a+Math.imul(ut,Mt)|0,a=a+Math.imul(ot,Ct)|0,g=g+Math.imul(ot,Mt)|0,m=m+Math.imul(G,Et)|0,a=a+Math.imul(G,lt)|0,a=a+Math.imul(L,Et)|0,g=g+Math.imul(L,lt)|0,m=m+Math.imul(E,Bt)|0,a=a+Math.imul(E,Ht)|0,a=a+Math.imul(P,Bt)|0,g=g+Math.imul(P,Ht)|0,m=m+Math.imul(x,Kt)|0,a=a+Math.imul(x,Ft)|0,a=a+Math.imul(C,Kt)|0,g=g+Math.imul(C,Ft)|0;var Br=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(It,Lt),a=Math.imul(It,zt),a=a+Math.imul(Rt,Lt)|0,g=Math.imul(Rt,zt),m=m+Math.imul(ct,At)|0,a=a+Math.imul(ct,mt)|0,a=a+Math.imul(wt,At)|0,g=g+Math.imul(wt,mt)|0,m=m+Math.imul(ft,bt)|0,a=a+Math.imul(ft,yt)|0,a=a+Math.imul(gt,bt)|0,g=g+Math.imul(gt,yt)|0,m=m+Math.imul(dt,xt)|0,a=a+Math.imul(dt,Nt)|0,a=a+Math.imul(pt,xt)|0,g=g+Math.imul(pt,Nt)|0,m=m+Math.imul(St,Ct)|0,a=a+Math.imul(St,Mt)|0,a=a+Math.imul(vt,Ct)|0,g=g+Math.imul(vt,Mt)|0,m=m+Math.imul(ut,Et)|0,a=a+Math.imul(ut,lt)|0,a=a+Math.imul(ot,Et)|0,g=g+Math.imul(ot,lt)|0,m=m+Math.imul(G,Bt)|0,a=a+Math.imul(G,Ht)|0,a=a+Math.imul(L,Bt)|0,g=g+Math.imul(L,Ht)|0,m=m+Math.imul(E,Kt)|0,a=a+Math.imul(E,Ft)|0,a=a+Math.imul(P,Kt)|0,g=g+Math.imul(P,Ft)|0;var gr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(It,At),a=Math.imul(It,mt),a=a+Math.imul(Rt,At)|0,g=Math.imul(Rt,mt),m=m+Math.imul(ct,bt)|0,a=a+Math.imul(ct,yt)|0,a=a+Math.imul(wt,bt)|0,g=g+Math.imul(wt,yt)|0,m=m+Math.imul(ft,xt)|0,a=a+Math.imul(ft,Nt)|0,a=a+Math.imul(gt,xt)|0,g=g+Math.imul(gt,Nt)|0,m=m+Math.imul(dt,Ct)|0,a=a+Math.imul(dt,Mt)|0,a=a+Math.imul(pt,Ct)|0,g=g+Math.imul(pt,Mt)|0,m=m+Math.imul(St,Et)|0,a=a+Math.imul(St,lt)|0,a=a+Math.imul(vt,Et)|0,g=g+Math.imul(vt,lt)|0,m=m+Math.imul(ut,Bt)|0,a=a+Math.imul(ut,Ht)|0,a=a+Math.imul(ot,Bt)|0,g=g+Math.imul(ot,Ht)|0,m=m+Math.imul(G,Kt)|0,a=a+Math.imul(G,Ft)|0,a=a+Math.imul(L,Kt)|0,g=g+Math.imul(L,Ft)|0;var _r=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(It,bt),a=Math.imul(It,yt),a=a+Math.imul(Rt,bt)|0,g=Math.imul(Rt,yt),m=m+Math.imul(ct,xt)|0,a=a+Math.imul(ct,Nt)|0,a=a+Math.imul(wt,xt)|0,g=g+Math.imul(wt,Nt)|0,m=m+Math.imul(ft,Ct)|0,a=a+Math.imul(ft,Mt)|0,a=a+Math.imul(gt,Ct)|0,g=g+Math.imul(gt,Mt)|0,m=m+Math.imul(dt,Et)|0,a=a+Math.imul(dt,lt)|0,a=a+Math.imul(pt,Et)|0,g=g+Math.imul(pt,lt)|0,m=m+Math.imul(St,Bt)|0,a=a+Math.imul(St,Ht)|0,a=a+Math.imul(vt,Bt)|0,g=g+Math.imul(vt,Ht)|0,m=m+Math.imul(ut,Kt)|0,a=a+Math.imul(ut,Ft)|0,a=a+Math.imul(ot,Kt)|0,g=g+Math.imul(ot,Ft)|0;var Sr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(It,xt),a=Math.imul(It,Nt),a=a+Math.imul(Rt,xt)|0,g=Math.imul(Rt,Nt),m=m+Math.imul(ct,Ct)|0,a=a+Math.imul(ct,Mt)|0,a=a+Math.imul(wt,Ct)|0,g=g+Math.imul(wt,Mt)|0,m=m+Math.imul(ft,Et)|0,a=a+Math.imul(ft,lt)|0,a=a+Math.imul(gt,Et)|0,g=g+Math.imul(gt,lt)|0,m=m+Math.imul(dt,Bt)|0,a=a+Math.imul(dt,Ht)|0,a=a+Math.imul(pt,Bt)|0,g=g+Math.imul(pt,Ht)|0,m=m+Math.imul(St,Kt)|0,a=a+Math.imul(St,Ft)|0,a=a+Math.imul(vt,Kt)|0,g=g+Math.imul(vt,Ft)|0;var er=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(It,Ct),a=Math.imul(It,Mt),a=a+Math.imul(Rt,Ct)|0,g=Math.imul(Rt,Mt),m=m+Math.imul(ct,Et)|0,a=a+Math.imul(ct,lt)|0,a=a+Math.imul(wt,Et)|0,g=g+Math.imul(wt,lt)|0,m=m+Math.imul(ft,Bt)|0,a=a+Math.imul(ft,Ht)|0,a=a+Math.imul(gt,Bt)|0,g=g+Math.imul(gt,Ht)|0,m=m+Math.imul(dt,Kt)|0,a=a+Math.imul(dt,Ft)|0,a=a+Math.imul(pt,Kt)|0,g=g+Math.imul(pt,Ft)|0;var Rr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(It,Et),a=Math.imul(It,lt),a=a+Math.imul(Rt,Et)|0,g=Math.imul(Rt,lt),m=m+Math.imul(ct,Bt)|0,a=a+Math.imul(ct,Ht)|0,a=a+Math.imul(wt,Bt)|0,g=g+Math.imul(wt,Ht)|0,m=m+Math.imul(ft,Kt)|0,a=a+Math.imul(ft,Ft)|0,a=a+Math.imul(gt,Kt)|0,g=g+Math.imul(gt,Ft)|0;var Pr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(It,Bt),a=Math.imul(It,Ht),a=a+Math.imul(Rt,Bt)|0,g=Math.imul(Rt,Ht),m=m+Math.imul(ct,Kt)|0,a=a+Math.imul(ct,Ft)|0,a=a+Math.imul(wt,Kt)|0,g=g+Math.imul(wt,Ft)|0;var Tr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(It,Kt),a=Math.imul(It,Ft),a=a+Math.imul(Rt,Kt)|0,g=Math.imul(Rt,Ft);var Or=(S+m|0)+((a&8191)<<13)|0;return S=(g+(a>>>13)|0)+(Or>>>26)|0,Or&=67108863,M[0]=Ne,M[1]=Ce,M[2]=Be,M[3]=Re,M[4]=Pe,M[5]=ve,M[6]=dr,M[7]=Nr,M[8]=pr,M[9]=Cr,M[10]=Br,M[11]=gr,M[12]=_r,M[13]=Sr,M[14]=er,M[15]=Rr,M[16]=Pr,M[17]=Tr,M[18]=Or,S!==0&&(M[19]=S,d.length++),d};Math.imul||(rt=J);function ht(s,u,d){d.negative=u.negative^s.negative,d.length=s.length+u.length;for(var y=0,A=0,M=0;M<d.length-1;M++){var S=A;A=0;for(var m=y&67108863,a=Math.min(M,u.length-1),g=Math.max(0,M-s.length+1);g<=a;g++){var Q=M-g,j=s.words[Q]|0,f=u.words[g]|0,T=j*f,x=T&67108863;S=S+(T/67108864|0)|0,x=x+m|0,m=x&67108863,S=S+(x>>>26)|0,A+=S>>>26,S&=67108863}d.words[M]=m,y=S,S=A}return y!==0?d.words[M]=y:d.length--,d._strip()}function et(s,u,d){return ht(s,u,d)}o.prototype.mulTo=function(s,u){var d,y=this.length+s.length;return this.length===10&&s.length===10?d=rt(this,s,u):y<63?d=J(this,s,u):y<1024?d=ht(this,s,u):d=et(this,s,u),d},o.prototype.mul=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},o.prototype.mulf=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),et(this,s,u)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var u=s<0;u&&(s=-s),i(typeof s=="number"),i(s<67108864);for(var d=0,y=0;y<this.length;y++){var A=(this.words[y]|0)*s,M=(A&67108863)+(d&67108863);d>>=26,d+=A/67108864|0,d+=M>>>26,this.words[y]=M&67108863}return d!==0&&(this.words[y]=d,this.length++),u?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var u=k(s);if(u.length===0)return new o(1);for(var d=this,y=0;y<u.length&&u[y]===0;y++,d=d.sqr());if(++y<u.length)for(var A=d.sqr();y<u.length;y++,A=A.sqr())u[y]!==0&&(d=d.mul(A));return d},o.prototype.iushln=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,y=67108863>>>26-u<<26-u,A;if(u!==0){var M=0;for(A=0;A<this.length;A++){var S=this.words[A]&y,m=(this.words[A]|0)-S<<u;this.words[A]=m|M,M=S>>>26-u}M&&(this.words[A]=M,this.length++)}if(d!==0){for(A=this.length-1;A>=0;A--)this.words[A+d]=this.words[A];for(A=0;A<d;A++)this.words[A]=0;this.length+=d}return this._strip()},o.prototype.ishln=function(s){return i(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,u,d){i(typeof s=="number"&&s>=0);var y;u?y=(u-u%26)/26:y=0;var A=s%26,M=Math.min((s-A)/26,this.length),S=67108863^67108863>>>A<<A,m=d;if(y-=M,y=Math.max(0,y),m){for(var a=0;a<M;a++)m.words[a]=this.words[a];m.length=M}if(M!==0)if(this.length>M)for(this.length-=M,a=0;a<this.length;a++)this.words[a]=this.words[a+M];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=y);a--){var Q=this.words[a]|0;this.words[a]=g<<26-A|Q>>>A,g=Q&S}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,u,d){return i(this.negative===0),this.iushrn(s,u,d)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,y=1<<u;if(this.length<=d)return!1;var A=this.words[d];return!!(A&y)},o.prototype.imaskn=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return i(typeof s=="number"),i(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},o.prototype.isubn=function(s){if(i(typeof s=="number"),i(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,u,d){var y=s.length+d,A;this._expand(y);var M,S=0;for(A=0;A<s.length;A++){M=(this.words[A+d]|0)+S;var m=(s.words[A]|0)*u;M-=m&67108863,S=(M>>26)-(m/67108864|0),this.words[A+d]=M&67108863}for(;A<this.length-d;A++)M=(this.words[A+d]|0)+S,S=M>>26,this.words[A+d]=M&67108863;if(S===0)return this._strip();for(i(S===-1),S=0,A=0;A<this.length;A++)M=-(this.words[A]|0)+S,S=M>>26,this.words[A]=M&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,u){var d=this.length-s.length,y=this.clone(),A=s,M=A.words[A.length-1]|0,S=this._countBits(M);d=26-S,d!==0&&(A=A.ushln(d),y.iushln(d),M=A.words[A.length-1]|0);var m=y.length-A.length,a;if(u!=="mod"){a=new o(null),a.length=m+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var Q=y.clone()._ishlnsubmul(A,1,m);Q.negative===0&&(y=Q,a&&(a.words[m]=1));for(var j=m-1;j>=0;j--){var f=(y.words[A.length+j]|0)*67108864+(y.words[A.length+j-1]|0);for(f=Math.min(f/M|0,67108863),y._ishlnsubmul(A,f,j);y.negative!==0;)f--,y.negative=0,y._ishlnsubmul(A,1,j),y.isZero()||(y.negative^=1);a&&(a.words[j]=f)}return a&&a._strip(),y._strip(),u!=="div"&&d!==0&&y.iushrn(d),{div:a||null,mod:y}},o.prototype.divmod=function(s,u,d){if(i(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,A,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(y=M.div.neg()),u!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.iadd(s)),{div:y,mod:A}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(y=M.div.neg()),{div:y,mod:M.mod}):this.negative&s.negative?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.isub(s)),{div:M.div,mod:A}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,u)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(s):u.mod,y=s.ushrn(1),A=s.andln(1),M=d.cmp(y);return M<0||A===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},o.prototype.modrn=function(s){var u=s<0;u&&(s=-s),i(s<=67108863);for(var d=(1<<26)%s,y=0,A=this.length-1;A>=0;A--)y=(d*y+(this.words[A]|0))%s;return u?-y:y},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var u=s<0;u&&(s=-s),i(s<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var A=(this.words[y]|0)+d*67108864;this.words[y]=A/s|0,d=A%s}return this._strip(),u?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){i(s.negative===0),i(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var y=new o(1),A=new o(0),M=new o(0),S=new o(1),m=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++m;for(var a=d.clone(),g=u.clone();!u.isZero();){for(var Q=0,j=1;!(u.words[0]&j)&&Q<26;++Q,j<<=1);if(Q>0)for(u.iushrn(Q);Q-- >0;)(y.isOdd()||A.isOdd())&&(y.iadd(a),A.isub(g)),y.iushrn(1),A.iushrn(1);for(var f=0,T=1;!(d.words[0]&T)&&f<26;++f,T<<=1);if(f>0)for(d.iushrn(f);f-- >0;)(M.isOdd()||S.isOdd())&&(M.iadd(a),S.isub(g)),M.iushrn(1),S.iushrn(1);u.cmp(d)>=0?(u.isub(d),y.isub(M),A.isub(S)):(d.isub(u),M.isub(y),S.isub(A))}return{a:M,b:S,gcd:d.iushln(m)}},o.prototype._invmp=function(s){i(s.negative===0),i(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var y=new o(1),A=new o(0),M=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var S=0,m=1;!(u.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)y.isOdd()&&y.iadd(M),y.iushrn(1);for(var a=0,g=1;!(d.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(d.iushrn(a);a-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);u.cmp(d)>=0?(u.isub(d),y.isub(A)):(d.isub(u),A.isub(y))}var Q;return u.cmpn(1)===0?Q=y:Q=A,Q.cmpn(0)<0&&Q.iadd(s),Q},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),d=s.clone();u.negative=0,d.negative=0;for(var y=0;u.isEven()&&d.isEven();y++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var A=u.cmp(d);if(A<0){var M=u;u=d,d=M}else if(A===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(y)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){i(typeof s=="number");var u=s%26,d=(s-u)/26,y=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=y,this;for(var A=y,M=d;A!==0&&M<this.length;M++){var S=this.words[M]|0;S+=A,A=S>>>26,S&=67108863,this.words[M]=S}return A!==0&&(this.words[M]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(s=-s),i(s<=67108863,"Number is too big");var y=this.words[0]|0;d=y===s?0:y<s?-1:1}return this.negative!==0?-d|0:d},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var y=this.words[d]|0,A=s.words[d]|0;if(y!==A){y<A?u=-1:y>A&&(u=1);break}}return u},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new _t(s)},o.prototype.toRed=function(s){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return i(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return i(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var W={k256:null,p224:null,p192:null,p25519:null};function V(s,u){this.name=s,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},V.prototype.ireduce=function(s){var u=s,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var y=d<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},V.prototype.split=function(s,u){s.iushrn(this.n,0,u)},V.prototype.imulK=function(s){return s.imul(this.k)};function nt(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(nt,V),nt.prototype.split=function(s,u){for(var d=4194303,y=Math.min(s.length,9),A=0;A<y;A++)u.words[A]=s.words[A];if(u.length=y,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&d,A=10;A<s.length;A++){var S=s.words[A]|0;s.words[A-10]=(S&d)<<4|M>>>22,M=S}M>>>=22,s.words[A-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},nt.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,d=0;d<s.length;d++){var y=s.words[d]|0;u+=y*977,s.words[d]=u&67108863,u=y*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function it(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(it,V);function Qt(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Qt,V);function Yt(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Yt,V),Yt.prototype.imulK=function(s){for(var u=0,d=0;d<s.length;d++){var y=(s.words[d]|0)*19+u,A=y&67108863;y>>>=26,s.words[d]=A,u=y}return u!==0&&(s.words[s.length++]=u),s},o._prime=function(s){if(W[s])return W[s];var u;if(s==="k256")u=new nt;else if(s==="p224")u=new it;else if(s==="p192")u=new Qt;else if(s==="p25519")u=new Yt;else throw new Error("Unknown prime "+s);return W[s]=u,u};function _t(s){if(typeof s=="string"){var u=o._prime(s);this.m=u.p,this.prime=u}else i(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}_t.prototype._verify1=function(s){i(s.negative===0,"red works only with positives"),i(s.red,"red works only with red numbers")},_t.prototype._verify2=function(s,u){i((s.negative|u.negative)===0,"red works only with positives"),i(s.red&&s.red===u.red,"red works only with red numbers")},_t.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},_t.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},_t.prototype.add=function(s,u){this._verify2(s,u);var d=s.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},_t.prototype.iadd=function(s,u){this._verify2(s,u);var d=s.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},_t.prototype.sub=function(s,u){this._verify2(s,u);var d=s.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},_t.prototype.isub=function(s,u){this._verify2(s,u);var d=s.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},_t.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},_t.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},_t.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},_t.prototype.isqr=function(s){return this.imul(s,s.clone())},_t.prototype.sqr=function(s){return this.mul(s,s)},_t.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var d=this.m.add(new o(1)).iushrn(2);return this.pow(s,d)}for(var y=this.m.subn(1),A=0;!y.isZero()&&y.andln(1)===0;)A++,y.iushrn(1);i(!y.isZero());var M=new o(1).toRed(this),S=M.redNeg(),m=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new o(2*a*a).toRed(this);this.pow(a,m).cmp(S)!==0;)a.redIAdd(S);for(var g=this.pow(a,y),Q=this.pow(s,y.addn(1).iushrn(1)),j=this.pow(s,y),f=A;j.cmp(M)!==0;){for(var T=j,x=0;T.cmp(M)!==0;x++)T=T.redSqr();i(x<f);var C=this.pow(g,new o(1).iushln(f-x-1));Q=Q.redMul(C),g=C.redSqr(),j=j.redMul(g),f=x}return Q},_t.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},_t.prototype.pow=function(s,u){if(u.isZero())return new o(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var d=4,y=new Array(1<<d);y[0]=new o(1).toRed(this),y[1]=s;for(var A=2;A<y.length;A++)y[A]=this.mul(y[A-1],s);var M=y[0],S=0,m=0,a=u.bitLength()%26;for(a===0&&(a=26),A=u.length-1;A>=0;A--){for(var g=u.words[A],Q=a-1;Q>=0;Q--){var j=g>>Q&1;if(M!==y[0]&&(M=this.sqr(M)),j===0&&S===0){m=0;continue}S<<=1,S|=j,m++,!(m!==d&&(A!==0||Q!==0))&&(M=this.mul(M,y[S]),m=0,S=0)}a=26}return M},_t.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},_t.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},o.mont=function(s){return new Vt(s)};function Vt(s){_t.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Vt,_t),Vt.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Vt.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},Vt.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(u),y=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(y).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},Vt.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new o(0)._forceRed(this);var d=s.mul(u),y=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(y).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},Vt.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,nw)})(hw);var Ee=hw.exports;const uw="bignumber/5.7.0";var bc=Ee.BN;const Ao=new ei(uw),$d={},Uv=9007199254740991;function tT(e){return e!=null&&(Si.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Xi(e)||typeof e=="bigint"||Hh(e))}let kv=!1,Si=class Jn{constructor(t,r){t!==$d&&Ao.throwError("cannot call constructor directly; use BigNumber.from",ei.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Di(ke(this).fromTwos(t))}toTwos(t){return Di(ke(this).toTwos(t))}abs(){return this._hex[0]==="-"?Jn.from(this._hex.substring(1)):this}add(t){return Di(ke(this).add(ke(t)))}sub(t){return Di(ke(this).sub(ke(t)))}div(t){return Jn.from(t).isZero()&&yn("division-by-zero","div"),Di(ke(this).div(ke(t)))}mul(t){return Di(ke(this).mul(ke(t)))}mod(t){const r=ke(t);return r.isNeg()&&yn("division-by-zero","mod"),Di(ke(this).umod(r))}pow(t){const r=ke(t);return r.isNeg()&&yn("negative-power","pow"),Di(ke(this).pow(r))}and(t){const r=ke(t);return(this.isNegative()||r.isNeg())&&yn("unbound-bitwise-result","and"),Di(ke(this).and(r))}or(t){const r=ke(t);return(this.isNegative()||r.isNeg())&&yn("unbound-bitwise-result","or"),Di(ke(this).or(r))}xor(t){const r=ke(t);return(this.isNegative()||r.isNeg())&&yn("unbound-bitwise-result","xor"),Di(ke(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&yn("negative-width","mask"),Di(ke(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&yn("negative-width","shl"),Di(ke(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&yn("negative-width","shr"),Di(ke(this).shrn(t))}eq(t){return ke(this).eq(ke(t))}lt(t){return ke(this).lt(ke(t))}lte(t){return ke(this).lte(ke(t))}gt(t){return ke(this).gt(ke(t))}gte(t){return ke(this).gte(ke(t))}isNegative(){return this._hex[0]==="-"}isZero(){return ke(this).isZero()}toNumber(){try{return ke(this).toNumber()}catch{yn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ao.throwError("this platform does not support BigInt",ei.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?kv||(kv=!0,Ao.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ao.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",ei.errors.UNEXPECTED_ARGUMENT,{}):Ao.throwError("BigNumber.toString does not accept parameters",ei.errors.UNEXPECTED_ARGUMENT,{})),ke(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Jn)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Jn($d,Wu(t)):t.match(/^-?[0-9]+$/)?new Jn($d,Wu(new bc(t))):Ao.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&yn("underflow","BigNumber.from",t),(t>=Uv||t<=-Uv)&&yn("overflow","BigNumber.from",t),Jn.from(String(t));const r=t;if(typeof r=="bigint")return Jn.from(r.toString());if(Hh(r))return Jn.from(ki(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return Jn.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Xi(i)||i[0]==="-"&&Xi(i.substring(1))))return Jn.from(i)}return Ao.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}};function Wu(e){if(typeof e!="string")return Wu(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&Ao.throwArgumentError("invalid hex","value",e),e=Wu(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Di(e){return Si.from(Wu(e))}function ke(e){const t=Si.from(e).toHexString();return t[0]==="-"?new bc("-"+t.substring(3),16):new bc(t.substring(2),16)}function yn(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),Ao.throwError(e,ei.errors.NUMERIC_FAULT,i)}function eT(e){return new bc(e,36).toString(16)}const Ai=new ei(uw),Ku={},fw=Si.from(0),cw=Si.from(-1);function lw(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),Ai.throwError(e,ei.errors.NUMERIC_FAULT,n)}let ju="0";for(;ju.length<256;)ju+=ju;function _p(e){if(typeof e!="number")try{e=Si.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+ju.substring(0,e):Ai.throwArgumentError("invalid decimal size","decimals",e)}function Hd(e,t){t==null&&(t=0);const r=_p(t);e=Si.from(e);const i=e.lt(fw);i&&(e=e.mul(cw));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return r.length===1?e=o:e=o+"."+n,i&&(e="-"+e),e}function go(e,t){t==null&&(t=0);const r=_p(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&Ai.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&Ai.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&Ai.throwArgumentError("too many decimal points","value",e);let o=n[0],c=n[1];for(o||(o="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&lw("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const v=Si.from(o),w=Si.from(c);let p=v.mul(r).add(w);return i&&(p=p.mul(cw)),p}let Kd=class J1{constructor(t,r,i,n){t!==Ku&&Ai.throwError("cannot use FixedFormat constructor; use FixedFormat.from",ei.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=_p(n),Object.freeze(this)}static from(t){if(t instanceof J1)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||Ai.throwArgumentError("invalid fixed format","format",t),r=o[1]!=="u",i=parseInt(o[2]),n=parseInt(o[3])}}else if(t){const o=(c,v,w)=>t[c]==null?w:(typeof t[c]!==v&&Ai.throwArgumentError("invalid fixed format ("+c+" not "+v+")","format."+c,t[c]),t[c]);r=o("signed","boolean",r),i=o("width","number",i),n=o("decimals","number",n)}return i%8&&Ai.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Ai.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new J1(Ku,r,i,n)}},dw=class mi{constructor(t,r,i,n){t!==Ku&&Ai.throwError("cannot use FixedNumber constructor; use FixedNumber.from",ei.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Ai.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=go(this._value,this.format.decimals),i=go(t._value,t.format.decimals);return mi.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=go(this._value,this.format.decimals),i=go(t._value,t.format.decimals);return mi.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=go(this._value,this.format.decimals),i=go(t._value,t.format.decimals);return mi.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=go(this._value,this.format.decimals),i=go(t._value,t.format.decimals);return mi.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=mi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(qv.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=mi.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(qv.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Ai.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=mi.from("1"+ju.substring(0,t),this.format),n=rT.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Ai.throwArgumentError("invalid byte width","width",t);const r=Si.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Hs(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return mi.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!tT(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),mi.fromString(Hd(t,r),Kd.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Kd.from(r),n=go(t,i.decimals);!i.signed&&n.lt(fw)&&lw("unsigned value cannot be negative","overflow","value",t);let o=null;i.signed?o=n.toTwos(i.width).toHexString():(o=n.toHexString(),o=Hs(o,i.width/8));const c=Hd(n,i.decimals);return new mi(Ku,o,c,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Kd.from(r);if(yr(t).length>i.width/8)throw new Error("overflow");let n=Si.from(t);i.signed&&(n=n.fromTwos(i.width));const o=n.toTwos((i.signed?0:1)+i.width).toHexString(),c=Hd(n,i.decimals);return new mi(Ku,o,c,i)}static from(t,r){if(typeof t=="string")return mi.fromString(t,r);if(Hh(t))return mi.fromBytes(t,r);try{return mi.fromValue(t,0,r)}catch(i){if(i.code!==ei.errors.INVALID_ARGUMENT)throw i}return Ai.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}};const qv=dw.from(1),rT=dw.from("0.5"),iT="strings/5.7.0",nT=new ei(iT);var Mc;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Mc||(Mc={}));var Lv;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(Lv||(Lv={}));function jd(e,t=Mc.current){t!=Mc.current&&(nT.checkNormalize(),e=e.normalize(t));let r=[];for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(n&63|128);else if((n&64512)==55296){i++;const o=e.charCodeAt(i);if(i>=e.length||(o&64512)!==56320)throw new Error("invalid utf-8 string");const c=65536+((n&1023)<<10)+(o&1023);r.push(c>>18|240),r.push(c>>12&63|128),r.push(c>>6&63|128),r.push(c&63|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(n&63|128)}return yr(r)}function sT(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function Qd(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let o=n.split(":");r+=parseInt(o[0],16),i[r]=t(o[1])}),i}function zv(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}zv("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),Qd("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Qd("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Qd("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",sT),zv("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function oT(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return yr(t)}function pw(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(o,c){i.call(o,function(v){c>0&&Array.isArray(v)?n(v,c-1):r.push(v)})};return n(e,t),r}function aT(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function hT(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,o=[0,1];for(let W=1;W<i;W++)o.push(n+=r());let c=r(),v=t;t+=c;let w=0,p=0;function _(){return w==0&&(p=p<<8|e[t++],w=8),p>>--w&1}const I=31,B=Math.pow(2,I),R=B>>>1,O=R>>1,z=B-1;let k=0;for(let W=0;W<I;W++)k=k<<1|_();let J=[],rt=0,ht=B;for(;;){let W=Math.floor(((k-rt+1)*n-1)/ht),V=0,nt=i;for(;nt-V>1;){let Yt=V+nt>>>1;W<o[Yt]?nt=Yt:V=Yt}if(V==0)break;J.push(V);let it=rt+Math.floor(ht*o[V]/n),Qt=rt+Math.floor(ht*o[V+1]/n)-1;for(;!((it^Qt)&R);)k=k<<1&z|_(),it=it<<1&z,Qt=Qt<<1&z|1;for(;it&~Qt&O;)k=k&R|k<<1&z>>>1|_(),it=it<<1^R,Qt=(Qt^R)<<1|R|1;rt=it,ht=1+Qt-it}let et=i-4;return J.map(W=>{switch(W-et){case 3:return et+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return et+256+(e[v++]<<8|e[v++]);case 1:return et+e[v++];default:return W-1}})}function uT(e){let t=0;return()=>e[t++]}function fT(e){return uT(hT(e))}function cT(e){return e&1?~e>>1:e>>1}function lT(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function $v(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function dT(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=cT(t());return r}function Ec(e,t){let r=$v(e(),e),i=e(),n=$v(i,e),o=lT(i,e);for(let c=0;c<i;c++)for(let v=0;v<o[c];v++)r.push(n[c]+v);return t?r.map(c=>t[c]):r}function pT(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(mT(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(vT(r,e))}return aT(pw(t))}function gT(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function gw(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)dT(e,r).forEach((o,c)=>i[c].push(o));return i}function mT(e,t){let r=1+t(),i=t(),n=gT(t),o=gw(n.length,1+e,t);return pw(o.map((c,v)=>{const w=c[0],p=c.slice(1);return Array(n[v]).fill(void 0).map((_,I)=>{let B=I*i;return[w+I*r,p.map(R=>R+B)]})}))}function vT(e,t){let r=1+t();return gw(r,1+e,t).map(i=>[i[0],i.slice(1)])}function yT(e){let t=Ec(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let p=Ec(e,t);if(p.length==0)break;i.push({set:new Set(p),node:r()})}i.sort((p,_)=>_.set.size-p.set.size);let n=e(),o=n%3;n=n/3|0;let c=!!(n&1);n>>=1;let v=n==1,w=n==2;return{branches:i,valid:o,fe0f:c,save:v,check:w}}}function wT(){return fT(oT("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"))}const N0=wT();new Set(Ec(N0)),new Set(Ec(N0)),pT(N0),yT(N0);const AT=new Uint8Array(32);AT.fill(0);const bT=`Ethereum Signed Message:
`;function mw(e){return typeof e=="string"&&(e=jd(e)),Ep(JP([jd(bT),jd(String(e.length)),e]))}const MT="address/5.7.0",Ou=new ei(MT);function Hv(e){Xi(e,20)||Ou.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=t[n].charCodeAt(0);const i=yr(Ep(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(t[n]=t[n].toUpperCase()),(i[n>>1]&15)>=8&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}const ET=9007199254740991;function _T(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const Sp={};for(let e=0;e<10;e++)Sp[String(e)]=String(e);for(let e=0;e<26;e++)Sp[String.fromCharCode(65+e)]=String(10+e);const Kv=Math.floor(_T(ET));function ST(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(i=>Sp[i]).join("");for(;t.length>=Kv;){let i=t.substring(0,Kv);t=parseInt(i,10)%97+t.substring(i.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function IT(e){let t=null;if(typeof e!="string"&&Ou.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=Hv(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Ou.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==ST(e)&&Ou.throwArgumentError("bad icap checksum","address",e),t=eT(e.substring(4));t.length<40;)t="0"+t;t=Hv("0x"+t)}else Ou.throwArgumentError("invalid address","address",e);return t}function _u(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}const xT=new Uint8Array(32);xT.fill(0),Si.from(-1);const NT=Si.from(0),CT=Si.from(1);Si.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Hs(CT.toHexString(),32),Hs(NT.toHexString(),32);var Ss={},$e={},ff=vw;function vw(e,t){if(!e)throw new Error(t||"Assertion failed")}vw.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Y1={exports:{}};typeof Object.create=="function"?Y1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Y1.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var BT=ff,RT=Y1.exports;$e.inherits=RT;function PT(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function TT(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):PT(e,n)?(o=65536+((o&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}$e.toArray=TT;function OT(e){for(var t="",r=0;r<e.length;r++)t+=ww(e[r].toString(16));return t}$e.toHex=OT;function yw(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}$e.htonl=yw;function DT(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=yw(n)),r+=Aw(n.toString(16))}return r}$e.toHex32=DT;function ww(e){return e.length===1?"0"+e:e}$e.zero2=ww;function Aw(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}$e.zero8=Aw;function FT(e,t,r,i){var n=r-t;BT(n%4===0);for(var o=new Array(n/4),c=0,v=t;c<o.length;c++,v+=4){var w;i==="big"?w=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:w=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],o[c]=w>>>0}return o}$e.join32=FT;function UT(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var o=e[i];t==="big"?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=o&255)}return r}$e.split32=UT;function kT(e,t){return e>>>t|e<<32-t}$e.rotr32=kT;function qT(e,t){return e<<t|e>>>32-t}$e.rotl32=qT;function LT(e,t){return e+t>>>0}$e.sum32=LT;function zT(e,t,r){return e+t+r>>>0}$e.sum32_3=zT;function $T(e,t,r,i){return e+t+r+i>>>0}$e.sum32_4=$T;function HT(e,t,r,i,n){return e+t+r+i+n>>>0}$e.sum32_5=HT;function KT(e,t,r,i){var n=e[t],o=e[t+1],c=i+o>>>0,v=(c<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=c}$e.sum64=KT;function jT(e,t,r,i){var n=t+i>>>0,o=(n<t?1:0)+e+r;return o>>>0}$e.sum64_hi=jT;function QT(e,t,r,i){var n=t+i;return n>>>0}$e.sum64_lo=QT;function GT(e,t,r,i,n,o,c,v){var w=0,p=t;p=p+i>>>0,w+=p<t?1:0,p=p+o>>>0,w+=p<o?1:0,p=p+v>>>0,w+=p<v?1:0;var _=e+r+n+c+w;return _>>>0}$e.sum64_4_hi=GT;function JT(e,t,r,i,n,o,c,v){var w=t+i+o+v;return w>>>0}$e.sum64_4_lo=JT;function YT(e,t,r,i,n,o,c,v,w,p){var _=0,I=t;I=I+i>>>0,_+=I<t?1:0,I=I+o>>>0,_+=I<o?1:0,I=I+v>>>0,_+=I<v?1:0,I=I+p>>>0,_+=I<p?1:0;var B=e+r+n+c+w+_;return B>>>0}$e.sum64_5_hi=YT;function VT(e,t,r,i,n,o,c,v,w,p){var _=t+i+o+v+p;return _>>>0}$e.sum64_5_lo=VT;function WT(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}$e.rotr64_hi=WT;function XT(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}$e.rotr64_lo=XT;function ZT(e,t,r){return e>>>r}$e.shr64_hi=ZT;function tO(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}$e.shr64_lo=tO;var Kh={},jv=$e,eO=ff;function C0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Kh.BlockHash=C0,C0.prototype.update=function(e,t){if(e=jv.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=jv.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},C0.prototype.digest=function(e){return this.update(this._pad()),eO(this.pending===null),this._digest(e)},C0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,o=8;o<this.padLength;o++)i[n++]=0;return i};var hh={},to={},rO=$e,Ks=rO.rotr32;function iO(e,t,r,i){if(e===0)return bw(t,r,i);if(e===1||e===3)return Ew(t,r,i);if(e===2)return Mw(t,r,i)}to.ft_1=iO;function bw(e,t,r){return e&t^~e&r}to.ch32=bw;function Mw(e,t,r){return e&t^e&r^t&r}to.maj32=Mw;function Ew(e,t,r){return e^t^r}to.p32=Ew;function nO(e){return Ks(e,2)^Ks(e,13)^Ks(e,22)}to.s0_256=nO;function sO(e){return Ks(e,6)^Ks(e,11)^Ks(e,25)}to.s1_256=sO;function oO(e){return Ks(e,7)^Ks(e,18)^e>>>3}to.g0_256=oO;function aO(e){return Ks(e,17)^Ks(e,19)^e>>>10}to.g1_256=aO;var Ih=$e,hO=Kh,uO=to,Gd=Ih.rotl32,Su=Ih.sum32,fO=Ih.sum32_5,cO=uO.ft_1,_w=hO.BlockHash,lO=[1518500249,1859775393,2400959708,3395469782];function Ts(){if(!(this instanceof Ts))return new Ts;_w.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ih.inherits(Ts,_w);var dO=Ts;Ts.blockSize=512,Ts.outSize=160,Ts.hmacStrength=80,Ts.padLength=64,Ts.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Gd(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],o=this.h[1],c=this.h[2],v=this.h[3],w=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),_=fO(Gd(n,5),cO(p,o,c,v),w,r[i],lO[p]);w=v,v=c,c=Gd(o,30),o=n,n=_}this.h[0]=Su(this.h[0],n),this.h[1]=Su(this.h[1],o),this.h[2]=Su(this.h[2],c),this.h[3]=Su(this.h[3],v),this.h[4]=Su(this.h[4],w)},Ts.prototype._digest=function(e){return e==="hex"?Ih.toHex32(this.h,"big"):Ih.split32(this.h,"big")};var xh=$e,pO=Kh,jh=to,gO=ff,$n=xh.sum32,mO=xh.sum32_4,vO=xh.sum32_5,yO=jh.ch32,wO=jh.maj32,AO=jh.s0_256,bO=jh.s1_256,MO=jh.g0_256,EO=jh.g1_256,Sw=pO.BlockHash,_O=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Os(){if(!(this instanceof Os))return new Os;Sw.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_O,this.W=new Array(64)}xh.inherits(Os,Sw);var Iw=Os;Os.blockSize=512,Os.outSize=256,Os.hmacStrength=192,Os.padLength=64,Os.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=mO(EO(r[i-2]),r[i-7],MO(r[i-15]),r[i-16]);var n=this.h[0],o=this.h[1],c=this.h[2],v=this.h[3],w=this.h[4],p=this.h[5],_=this.h[6],I=this.h[7];for(gO(this.k.length===r.length),i=0;i<r.length;i++){var B=vO(I,bO(w),yO(w,p,_),this.k[i],r[i]),R=$n(AO(n),wO(n,o,c));I=_,_=p,p=w,w=$n(v,B),v=c,c=o,o=n,n=$n(B,R)}this.h[0]=$n(this.h[0],n),this.h[1]=$n(this.h[1],o),this.h[2]=$n(this.h[2],c),this.h[3]=$n(this.h[3],v),this.h[4]=$n(this.h[4],w),this.h[5]=$n(this.h[5],p),this.h[6]=$n(this.h[6],_),this.h[7]=$n(this.h[7],I)},Os.prototype._digest=function(e){return e==="hex"?xh.toHex32(this.h,"big"):xh.split32(this.h,"big")};var V1=$e,xw=Iw;function Io(){if(!(this instanceof Io))return new Io;xw.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}V1.inherits(Io,xw);var SO=Io;Io.blockSize=512,Io.outSize=224,Io.hmacStrength=192,Io.padLength=64,Io.prototype._digest=function(e){return e==="hex"?V1.toHex32(this.h.slice(0,7),"big"):V1.split32(this.h.slice(0,7),"big")};var Ki=$e,IO=Kh,xO=ff,js=Ki.rotr64_hi,Qs=Ki.rotr64_lo,Nw=Ki.shr64_hi,Cw=Ki.shr64_lo,$o=Ki.sum64,Jd=Ki.sum64_hi,Yd=Ki.sum64_lo,NO=Ki.sum64_4_hi,CO=Ki.sum64_4_lo,BO=Ki.sum64_5_hi,RO=Ki.sum64_5_lo,Bw=IO.BlockHash,PO=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function es(){if(!(this instanceof es))return new es;Bw.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=PO,this.W=new Array(160)}Ki.inherits(es,Bw);var Rw=es;es.blockSize=1024,es.outSize=512,es.hmacStrength=192,es.padLength=128,es.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=HO(r[i-4],r[i-3]),o=KO(r[i-4],r[i-3]),c=r[i-14],v=r[i-13],w=zO(r[i-30],r[i-29]),p=$O(r[i-30],r[i-29]),_=r[i-32],I=r[i-31];r[i]=NO(n,o,c,v,w,p,_,I),r[i+1]=CO(n,o,c,v,w,p,_,I)}},es.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],o=this.h[2],c=this.h[3],v=this.h[4],w=this.h[5],p=this.h[6],_=this.h[7],I=this.h[8],B=this.h[9],R=this.h[10],O=this.h[11],z=this.h[12],k=this.h[13],J=this.h[14],rt=this.h[15];xO(this.k.length===r.length);for(var ht=0;ht<r.length;ht+=2){var et=J,W=rt,V=qO(I,B),nt=LO(I,B),it=TO(I,B,R,O,z),Qt=OO(I,B,R,O,z,k),Yt=this.k[ht],_t=this.k[ht+1],Vt=r[ht],s=r[ht+1],u=BO(et,W,V,nt,it,Qt,Yt,_t,Vt,s),d=RO(et,W,V,nt,it,Qt,Yt,_t,Vt,s);et=UO(i,n),W=kO(i,n),V=DO(i,n,o,c,v),nt=FO(i,n,o,c,v,w);var y=Jd(et,W,V,nt),A=Yd(et,W,V,nt);J=z,rt=k,z=R,k=O,R=I,O=B,I=Jd(p,_,u,d),B=Yd(_,_,u,d),p=v,_=w,v=o,w=c,o=i,c=n,i=Jd(u,d,y,A),n=Yd(u,d,y,A)}$o(this.h,0,i,n),$o(this.h,2,o,c),$o(this.h,4,v,w),$o(this.h,6,p,_),$o(this.h,8,I,B),$o(this.h,10,R,O),$o(this.h,12,z,k),$o(this.h,14,J,rt)},es.prototype._digest=function(e){return e==="hex"?Ki.toHex32(this.h,"big"):Ki.split32(this.h,"big")};function TO(e,t,r,i,n){var o=e&r^~e&n;return o<0&&(o+=4294967296),o}function OO(e,t,r,i,n,o){var c=t&i^~t&o;return c<0&&(c+=4294967296),c}function DO(e,t,r,i,n){var o=e&r^e&n^r&n;return o<0&&(o+=4294967296),o}function FO(e,t,r,i,n,o){var c=t&i^t&o^i&o;return c<0&&(c+=4294967296),c}function UO(e,t){var r=js(e,t,28),i=js(t,e,2),n=js(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function kO(e,t){var r=Qs(e,t,28),i=Qs(t,e,2),n=Qs(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function qO(e,t){var r=js(e,t,14),i=js(e,t,18),n=js(t,e,9),o=r^i^n;return o<0&&(o+=4294967296),o}function LO(e,t){var r=Qs(e,t,14),i=Qs(e,t,18),n=Qs(t,e,9),o=r^i^n;return o<0&&(o+=4294967296),o}function zO(e,t){var r=js(e,t,1),i=js(e,t,8),n=Nw(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function $O(e,t){var r=Qs(e,t,1),i=Qs(e,t,8),n=Cw(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function HO(e,t){var r=js(e,t,19),i=js(t,e,29),n=Nw(e,t,6),o=r^i^n;return o<0&&(o+=4294967296),o}function KO(e,t){var r=Qs(e,t,19),i=Qs(t,e,29),n=Cw(e,t,6),o=r^i^n;return o<0&&(o+=4294967296),o}var W1=$e,Pw=Rw;function xo(){if(!(this instanceof xo))return new xo;Pw.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}W1.inherits(xo,Pw);var jO=xo;xo.blockSize=1024,xo.outSize=384,xo.hmacStrength=192,xo.padLength=128,xo.prototype._digest=function(e){return e==="hex"?W1.toHex32(this.h.slice(0,12),"big"):W1.split32(this.h.slice(0,12),"big")},hh.sha1=dO,hh.sha224=SO,hh.sha256=Iw,hh.sha384=jO,hh.sha512=Rw;var Tw={},_a=$e,QO=Kh,B0=_a.rotl32,Qv=_a.sum32,Iu=_a.sum32_3,Gv=_a.sum32_4,Ow=QO.BlockHash;function Is(){if(!(this instanceof Is))return new Is;Ow.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}_a.inherits(Is,Ow),Tw.ripemd160=Is,Is.blockSize=512,Is.outSize=160,Is.hmacStrength=192,Is.padLength=64,Is.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],o=this.h[3],c=this.h[4],v=r,w=i,p=n,_=o,I=c,B=0;B<80;B++){var R=Qv(B0(Gv(r,Jv(B,i,n,o),e[YO[B]+t],GO(B)),WO[B]),c);r=c,c=o,o=B0(n,10),n=i,i=R,R=Qv(B0(Gv(v,Jv(79-B,w,p,_),e[VO[B]+t],JO(B)),XO[B]),I),v=I,I=_,_=B0(p,10),p=w,w=R}R=Iu(this.h[1],n,_),this.h[1]=Iu(this.h[2],o,I),this.h[2]=Iu(this.h[3],c,v),this.h[3]=Iu(this.h[4],r,w),this.h[4]=Iu(this.h[0],i,p),this.h[0]=R},Is.prototype._digest=function(e){return e==="hex"?_a.toHex32(this.h,"little"):_a.split32(this.h,"little")};function Jv(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function GO(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function JO(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var YO=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],VO=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],WO=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],XO=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ZO=$e,tD=ff;function vh(e,t,r){if(!(this instanceof vh))return new vh(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(ZO.toArray(t,r))}var eD=vh;vh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),tD(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},vh.prototype.update=function(e,t){return this.inner.update(e,t),this},vh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=$e,t.common=Kh,t.sha=hh,t.ripemd=Tw,t.hmac=eD,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Ss);function Qh(e,t,r){return r={path:t,exports:{},require:function(i,n){return rD(i,n??r.path)}},e(r,r.exports),r.exports}function rD(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ip=Dw;function Dw(e,t){if(!e)throw new Error(t||"Assertion failed")}Dw.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var as=Qh(function(e,t){var r=t;function i(c,v){if(Array.isArray(c))return c.slice();if(!c)return[];var w=[];if(typeof c!="string"){for(var p=0;p<c.length;p++)w[p]=c[p]|0;return w}if(v==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var p=0;p<c.length;p+=2)w.push(parseInt(c[p]+c[p+1],16))}else for(var p=0;p<c.length;p++){var _=c.charCodeAt(p),I=_>>8,B=_&255;I?w.push(I,B):w.push(B)}return w}r.toArray=i;function n(c){return c.length===1?"0"+c:c}r.zero2=n;function o(c){for(var v="",w=0;w<c.length;w++)v+=n(c[w].toString(16));return v}r.toHex=o,r.encode=function(c,v){return v==="hex"?o(c):c}}),en=Qh(function(e,t){var r=t;r.assert=Ip,r.toArray=as.toArray,r.zero2=as.zero2,r.toHex=as.toHex,r.encode=as.encode;function i(w,p,_){var I=new Array(Math.max(w.bitLength(),_)+1);I.fill(0);for(var B=1<<p+1,R=w.clone(),O=0;O<I.length;O++){var z,k=R.andln(B-1);R.isOdd()?(k>(B>>1)-1?z=(B>>1)-k:z=k,R.isubn(z)):z=0,I[O]=z,R.iushrn(1)}return I}r.getNAF=i;function n(w,p){var _=[[],[]];w=w.clone(),p=p.clone();for(var I=0,B=0,R;w.cmpn(-I)>0||p.cmpn(-B)>0;){var O=w.andln(3)+I&3,z=p.andln(3)+B&3;O===3&&(O=-1),z===3&&(z=-1);var k;O&1?(R=w.andln(7)+I&7,(R===3||R===5)&&z===2?k=-O:k=O):k=0,_[0].push(k);var J;z&1?(R=p.andln(7)+B&7,(R===3||R===5)&&O===2?J=-z:J=z):J=0,_[1].push(J),2*I===k+1&&(I=1-I),2*B===J+1&&(B=1-B),w.iushrn(1),p.iushrn(1)}return _}r.getJSF=n;function o(w,p,_){var I="_"+p;w.prototype[p]=function(){return this[I]!==void 0?this[I]:this[I]=_.call(this)}}r.cachedProperty=o;function c(w){return typeof w=="string"?r.toArray(w,"hex"):w}r.parseBytes=c;function v(w){return new Ee(w,"hex","le")}r.intFromLE=v}),R0=en.getNAF,iD=en.getJSF,_c=en.assert;function Vo(e,t){this.type=e,this.p=new Ee(t.p,16),this.red=t.prime?Ee.red(t.prime):Ee.mont(this.p),this.zero=new Ee(0).toRed(this.red),this.one=new Ee(1).toRed(this.red),this.two=new Ee(2).toRed(this.red),this.n=t.n&&new Ee(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Fa=Vo;Vo.prototype.point=function(){throw new Error("Not implemented")},Vo.prototype.validate=function(){throw new Error("Not implemented")},Vo.prototype._fixedNafMul=function(e,t){_c(e.precomputed);var r=e._getDoubles(),i=R0(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var o=[],c,v;for(c=0;c<i.length;c+=r.step){v=0;for(var w=c+r.step-1;w>=c;w--)v=(v<<1)+i[w];o.push(v)}for(var p=this.jpoint(null,null,null),_=this.jpoint(null,null,null),I=n;I>0;I--){for(c=0;c<o.length;c++)v=o[c],v===I?_=_.mixedAdd(r.points[c]):v===-I&&(_=_.mixedAdd(r.points[c].neg()));p=p.add(_)}return p.toP()},Vo.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=R0(t,r,this._bitLength),c=this.jpoint(null,null,null),v=o.length-1;v>=0;v--){for(var w=0;v>=0&&o[v]===0;v--)w++;if(v>=0&&w++,c=c.dblp(w),v<0)break;var p=o[v];_c(p!==0),e.type==="affine"?p>0?c=c.mixedAdd(n[p-1>>1]):c=c.mixedAdd(n[-p-1>>1].neg()):p>0?c=c.add(n[p-1>>1]):c=c.add(n[-p-1>>1].neg())}return e.type==="affine"?c.toP():c},Vo.prototype._wnafMulAdd=function(e,t,r,i,n){var o=this._wnafT1,c=this._wnafT2,v=this._wnafT3,w=0,p,_,I;for(p=0;p<i;p++){I=t[p];var B=I._getNAFPoints(e);o[p]=B.wnd,c[p]=B.points}for(p=i-1;p>=1;p-=2){var R=p-1,O=p;if(o[R]!==1||o[O]!==1){v[R]=R0(r[R],o[R],this._bitLength),v[O]=R0(r[O],o[O],this._bitLength),w=Math.max(v[R].length,w),w=Math.max(v[O].length,w);continue}var z=[t[R],null,null,t[O]];t[R].y.cmp(t[O].y)===0?(z[1]=t[R].add(t[O]),z[2]=t[R].toJ().mixedAdd(t[O].neg())):t[R].y.cmp(t[O].y.redNeg())===0?(z[1]=t[R].toJ().mixedAdd(t[O]),z[2]=t[R].add(t[O].neg())):(z[1]=t[R].toJ().mixedAdd(t[O]),z[2]=t[R].toJ().mixedAdd(t[O].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],J=iD(r[R],r[O]);for(w=Math.max(J[0].length,w),v[R]=new Array(w),v[O]=new Array(w),_=0;_<w;_++){var rt=J[0][_]|0,ht=J[1][_]|0;v[R][_]=k[(rt+1)*3+(ht+1)],v[O][_]=0,c[R]=z}}var et=this.jpoint(null,null,null),W=this._wnafT4;for(p=w;p>=0;p--){for(var V=0;p>=0;){var nt=!0;for(_=0;_<i;_++)W[_]=v[_][p]|0,W[_]!==0&&(nt=!1);if(!nt)break;V++,p--}if(p>=0&&V++,et=et.dblp(V),p<0)break;for(_=0;_<i;_++){var it=W[_];it!==0&&(it>0?I=c[_][it-1>>1]:it<0&&(I=c[_][-it-1>>1].neg()),I.type==="affine"?et=et.mixedAdd(I):et=et.add(I))}}for(p=0;p<i;p++)c[p]=null;return n?et:et.toP()};function wn(e,t){this.curve=e,this.type=t,this.precomputed=null}Vo.BasePoint=wn,wn.prototype.eq=function(){throw new Error("Not implemented")},wn.prototype.validate=function(){return this.curve.validate(this)},Vo.prototype.decodePoint=function(e,t){e=en.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?_c(e[e.length-1]%2===0):e[0]===7&&_c(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},wn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},wn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},wn.prototype.encode=function(e,t){return en.encode(this._encode(t),e)},wn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},wn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},wn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}},wn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},wn.prototype._getBeta=function(){return null},wn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var xp=Qh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),nD=en.assert;function Bn(e){Fa.call(this,"short",e),this.a=new Ee(e.a,16).toRed(this.red),this.b=new Ee(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}xp(Bn,Fa);var sD=Bn;Bn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Ee(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Ee(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],nD(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(c){return{a:new Ee(c.a,16),b:new Ee(c.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}},Bn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ee.mont(e),r=new Ee(2).toRed(t).redInvm(),i=r.redNeg(),n=new Ee(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(n).fromRed(),c=i.redSub(n).fromRed();return[o,c]},Bn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new Ee(1),o=new Ee(0),c=new Ee(0),v=new Ee(1),w,p,_,I,B,R,O,z=0,k,J;r.cmpn(0)!==0;){var rt=i.div(r);k=i.sub(rt.mul(r)),J=c.sub(rt.mul(n));var ht=v.sub(rt.mul(o));if(!_&&k.cmp(t)<0)w=O.neg(),p=n,_=k.neg(),I=J;else if(_&&++z===2)break;O=k,i=r,r=k,c=n,n=J,v=o,o=ht}B=k.neg(),R=J;var et=_.sqr().add(I.sqr()),W=B.sqr().add(R.sqr());return W.cmp(et)>=0&&(B=w,R=p),_.negative&&(_=_.neg(),I=I.neg()),B.negative&&(B=B.neg(),R=R.neg()),[{a:_,b:I},{a:B,b:R}]},Bn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),c=n.mul(r.a),v=o.mul(i.a),w=n.mul(r.b),p=o.mul(i.b),_=e.sub(c).sub(v),I=w.add(p).neg();return{k1:_,k2:I}},Bn.prototype.pointFromX=function(e,t){e=new Ee(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Bn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Bn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var c=this._endoSplit(t[o]),v=e[o],w=v._getBeta();c.k1.negative&&(c.k1.ineg(),v=v.neg(!0)),c.k2.negative&&(c.k2.ineg(),w=w.neg(!0)),i[o*2]=v,i[o*2+1]=w,n[o*2]=c.k1,n[o*2+1]=c.k2}for(var p=this._wnafMulAdd(1,i,n,o*2,r),_=0;_<o*2;_++)i[_]=null,n[_]=null;return p};function jr(e,t,r,i){Fa.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ee(t,16),this.y=new Ee(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}xp(jr,Fa.BasePoint),Bn.prototype.point=function(e,t,r){return new jr(this,e,t,r)},Bn.prototype.pointFromJSON=function(e,t){return jr.fromJSON(this,e,t)},jr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},jr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},jr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(c){return e.point(c[0],c[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},jr.prototype.isInfinity=function(){return this.inf},jr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},jr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),c=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,c)},jr.prototype.getX=function(){return this.x.fromRed()},jr.prototype.getY=function(){return this.y.fromRed()},jr.prototype.mul=function(e){return e=new Ee(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},jr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},jr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},jr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},jr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},jr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Xr(e,t,r,i){Fa.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ee(0)):(this.x=new Ee(t,16),this.y=new Ee(r,16),this.z=new Ee(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}xp(Xr,Fa.BasePoint),Bn.prototype.jpoint=function(e,t,r){return new Xr(this,e,t,r)},Xr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Xr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Xr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),w=o.redSub(c);if(v.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=v.redSqr(),_=p.redMul(v),I=i.redMul(p),B=w.redSqr().redIAdd(_).redISub(I).redISub(I),R=w.redMul(I.redISub(B)).redISub(o.redMul(_)),O=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(B,R,O)},Xr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),c=r.redSub(i),v=n.redSub(o);if(c.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=c.redSqr(),p=w.redMul(c),_=r.redMul(w),I=v.redSqr().redIAdd(p).redISub(_).redISub(_),B=v.redMul(_.redISub(I)).redISub(n.redMul(p)),R=this.z.redMul(c);return this.curve.jpoint(I,B,R)},Xr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,o=this.x,c=this.y,v=this.z,w=v.redSqr().redSqr(),p=c.redAdd(c);for(t=0;t<e;t++){var _=o.redSqr(),I=p.redSqr(),B=I.redSqr(),R=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(w)),O=o.redMul(I),z=R.redSqr().redISub(O.redAdd(O)),k=O.redISub(z),J=R.redMul(k);J=J.redIAdd(J).redISub(B);var rt=p.redMul(v);t+1<e&&(w=w.redMul(B)),o=z,v=rt,p=J}return this.curve.jpoint(o,p.redMul(n),v)},Xr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Xr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var v=i.redAdd(i).redIAdd(i),w=v.redSqr().redISub(c).redISub(c),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),e=w,t=v.redMul(c.redISub(w)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),I=this.y.redSqr(),B=I.redSqr(),R=this.x.redAdd(I).redSqr().redISub(_).redISub(B);R=R.redIAdd(R);var O=_.redAdd(_).redIAdd(_),z=O.redSqr(),k=B.redIAdd(B);k=k.redIAdd(k),k=k.redIAdd(k),e=z.redISub(R).redISub(R),t=O.redMul(R.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Xr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),w=v.redSqr().redISub(c).redISub(c);e=w;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),t=v.redMul(c.redISub(w)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),I=this.y.redSqr(),B=this.x.redMul(I),R=this.x.redSub(_).redMul(this.x.redAdd(_));R=R.redAdd(R).redIAdd(R);var O=B.redIAdd(B);O=O.redIAdd(O);var z=O.redAdd(O);e=R.redSqr().redISub(z),r=this.y.redAdd(this.z).redSqr().redISub(I).redISub(_);var k=I.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=R.redMul(O.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},Xr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=t.redSqr(),c=r.redSqr(),v=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),w=t.redAdd(t);w=w.redIAdd(w);var p=w.redMul(c),_=v.redSqr().redISub(p.redAdd(p)),I=p.redISub(_),B=c.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=v.redMul(I).redISub(B),O=r.redAdd(r).redMul(i);return this.curve.jpoint(_,R,O)},Xr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(o);var v=c.redSqr(),w=i.redIAdd(i);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var p=n.redIAdd(c).redSqr().redISub(o).redISub(v).redISub(w),_=t.redMul(p);_=_.redIAdd(_),_=_.redIAdd(_);var I=this.x.redMul(v).redISub(_);I=I.redIAdd(I),I=I.redIAdd(I);var B=this.y.redMul(p.redMul(w.redISub(p)).redISub(c.redMul(v)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=this.z.redAdd(c).redSqr().redISub(r).redISub(v);return this.curve.jpoint(I,B,R)},Xr.prototype.mul=function(e,t){return e=new Ee(e,t),this.curve._wnafMul(this,e)},Xr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},Xr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},Xr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Xr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var tc=Qh(function(e,t){var r=t;r.base=Fa,r.short=sD,r.mont=null,r.edwards=null}),ec=Qh(function(e,t){var r=t,i=en.assert;function n(v){v.type==="short"?this.curve=new tc.short(v):v.type==="edwards"?this.curve=new tc.edwards(v):this.curve=new tc.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function o(v,w){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var p=new n(w);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:p}),p}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ss.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ss.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ss.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ss.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ss.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ss.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ss.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ss.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function Wo(e){if(!(this instanceof Wo))return new Wo(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=as.toArray(e.entropy,e.entropyEnc||"hex"),r=as.toArray(e.nonce,e.nonceEnc||"hex"),i=as.toArray(e.pers,e.persEnc||"hex");Ip(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var Yv=Wo;Wo.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Wo.prototype._hmac=function(){return new Ss.hmac(this.hash,this.K)},Wo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Wo.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=as.toArray(e,t),r=as.toArray(r,i),Ip(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Wo.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=as.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,e);return this._update(r),this._reseed++,as.encode(o,t)};var Vd=en.assert;function ai(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Wd=ai;ai.fromPublic=function(e,t,r){return t instanceof ai?t:new ai(e,{pub:t,pubEnc:r})},ai.fromPrivate=function(e,t,r){return t instanceof ai?t:new ai(e,{priv:t,privEnc:r})},ai.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ai.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},ai.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},ai.prototype._importPrivate=function(e,t){this.priv=new Ee(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},ai.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Vd(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Vd(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},ai.prototype.derive=function(e){return e.validate()||Vd(e.validate(),"public point not validated"),e.mul(this.priv).getX()},ai.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},ai.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},ai.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var oD=en.assert;function jc(e,t){if(e instanceof jc)return e;this._importDER(e,t)||(oD(e.r&&e.s,"Signature without r or s"),this.r=new Ee(e.r,16),this.s=new Ee(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var P0=jc;function aD(){this.place=0}function Xd(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,o=0,c=t.place;o<i;o++,c++)n<<=8,n|=e[c],n>>>=0;return n<=127?!1:(t.place=c,n)}function Vv(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}jc.prototype._importDER=function(e,t){e=en.toArray(e,t);var r=new aD;if(e[r.place++]!==48)return!1;var i=Xd(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Xd(e,r);if(n===!1)return!1;var o=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var c=Xd(e,r);if(c===!1||e.length!==c+r.place)return!1;var v=e.slice(r.place,c+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new Ee(o),this.s=new Ee(v),this.recoveryParam=null,!0};function Zd(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}jc.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=Vv(t),r=Vv(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Zd(i,t.length),i=i.concat(t),i.push(2),Zd(i,r.length);var n=i.concat(r),o=[48];return Zd(o,n.length),o=o.concat(n),en.encode(o,e)};var hD=function(){throw new Error("unsupported")},Fw=en.assert;function Sn(e){if(!(this instanceof Sn))return new Sn(e);typeof e=="string"&&(Fw(Object.prototype.hasOwnProperty.call(ec,e),"Unknown curve "+e),e=ec[e]),e instanceof ec.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var uD=Sn;Sn.prototype.keyPair=function(e){return new Wd(this,e)},Sn.prototype.keyFromPrivate=function(e,t){return Wd.fromPrivate(this,e,t)},Sn.prototype.keyFromPublic=function(e,t){return Wd.fromPublic(this,e,t)},Sn.prototype.genKeyPair=function(e){e||(e={});for(var t=new Yv({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||hD(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Ee(2));;){var n=new Ee(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Sn.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Sn.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Ee(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),c=e.toArray("be",n),v=new Yv({hash:this.hash,entropy:o,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),w=this.n.sub(new Ee(1)),p=0;;p++){var _=i.k?i.k(p):new Ee(v.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(w)>=0)){var I=this.g.mul(_);if(!I.isInfinity()){var B=I.getX(),R=B.umod(this.n);if(R.cmpn(0)!==0){var O=_.invm(this.n).mul(R.mul(t.getPrivate()).iadd(e));if(O=O.umod(this.n),O.cmpn(0)!==0){var z=(I.getY().isOdd()?1:0)|(B.cmp(R)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),z^=1),new P0({r:R,s:O,recoveryParam:z})}}}}}},Sn.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Ee(e,16)),r=this.keyFromPublic(r,i),t=new P0(t,"hex");var n=t.r,o=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),v=c.mul(e).umod(this.n),w=c.mul(n).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(v,r.getPublic(),w),p.isInfinity()?!1:p.eqXToP(n)):(p=this.g.mulAdd(v,r.getPublic(),w),p.isInfinity()?!1:p.getX().umod(this.n).cmp(n)===0)},Sn.prototype.recoverPubKey=function(e,t,r,i){Fw((3&r)===r,"The recovery param is more than two bits"),t=new P0(t,i);var n=this.n,o=new Ee(e),c=t.r,v=t.s,w=r&1,p=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");p?c=this.curve.pointFromX(c.add(this.curve.n),w):c=this.curve.pointFromX(c,w);var _=t.r.invm(n),I=n.sub(o).mul(_).umod(n),B=v.mul(_).umod(n);return this.g.mulAdd(I,c,B)},Sn.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new P0(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch{continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var fD=Qh(function(e,t){var r=t;r.version="6.5.4",r.utils=en,r.rand=function(){throw new Error("unsupported")},r.curve=tc,r.curves=ec,r.ec=uD,r.eddsa=null}),cD=fD.ec;const lD="signing-key/5.7.0",X1=new ei(lD);let t1=null;function jo(){return t1||(t1=new cD("secp256k1")),t1}class dD{constructor(t){_u(this,"curve","secp256k1"),_u(this,"privateKey",ki(t)),VP(this.privateKey)!==32&&X1.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=jo().keyFromPrivate(yr(this.privateKey));_u(this,"publicKey","0x"+r.getPublic(!1,"hex")),_u(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),_u(this,"_isSigningKey",!0)}_addPoint(t){const r=jo().keyFromPublic(yr(this.publicKey)),i=jo().keyFromPublic(yr(t));return"0x"+r.pub.add(i.pub).encodeCompressed("hex")}signDigest(t){const r=jo().keyFromPrivate(yr(this.privateKey)),i=yr(t);i.length!==32&&X1.throwArgumentError("bad digest length","digest",t);const n=r.sign(i,{canonical:!0});return aw({recoveryParam:n.recoveryParam,r:Hs("0x"+n.r.toString(16),32),s:Hs("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const r=jo().keyFromPrivate(yr(this.privateKey)),i=jo().keyFromPublic(yr(Uw(t)));return Hs("0x"+r.derive(i.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function pD(e,t){const r=aw(t),i={r:yr(r.r),s:yr(r.s)};return"0x"+jo().recoverPubKey(yr(e),i,r.recoveryParam).encode("hex",!1)}function Uw(e,t){const r=yr(e);return r.length===32?new dD(r).publicKey:r.length===33?"0x"+jo().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ki(r):X1.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Wv;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(Wv||(Wv={}));function gD(e){const t=Uw(e);return IT(Fv(Ep(Fv(t,1)),12))}function mD(e,t){return gD(pD(yr(e),t))}const vD="https://rpc.walletconnect.org/v1";async function yD(e,t,r,i,n,o){switch(r.t){case"eip191":return wD(e,t,r.s);case"eip1271":return await AD(e,t,r.s,i,n,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function wD(e,t,r){return mD(mw(t),r).toLowerCase()===e.toLowerCase()}async function AD(e,t,r,i,n,o){try{const c="0x1626ba7e",v="0000000000000000000000000000000000000000000000000000000000000040",w="0000000000000000000000000000000000000000000000000000000000000041",p=r.substring(2),_=mw(t).substring(2),I=c+_+v+w+p,B=await fetch(`${o||vD}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:bD(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:I},"latest"]})}),{result:R}=await B.json();return R?R.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function bD(){return Date.now()+Math.floor(Math.random()*1e3)}var MD=Object.defineProperty,ED=Object.defineProperties,_D=Object.getOwnPropertyDescriptors,Xv=Object.getOwnPropertySymbols,SD=Object.prototype.hasOwnProperty,ID=Object.prototype.propertyIsEnumerable,Zv=(e,t,r)=>t in e?MD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xD=(e,t)=>{for(var r in t||(t={}))SD.call(t,r)&&Zv(e,r,t[r]);if(Xv)for(var r of Xv(t))ID.call(t,r)&&Zv(e,r,t[r]);return e},ND=(e,t)=>ED(e,_D(t));const CD="did:pkh:",Np=e=>e==null?void 0:e.split(":"),kw=e=>{const t=e&&Np(e);if(t)return e.includes(CD)?t[3]:t[1]},t3=e=>{const t=e&&Np(e);if(t)return t[2]+":"+t[3]},Sc=e=>{const t=e&&Np(e);if(t)return t.pop()};async function e3(e){const{cacao:t,projectId:r}=e,{s:i,p:n}=t,o=qw(n,n.iss),c=Sc(n.iss);return await yD(c,o,i,kw(n.iss),r)}const qw=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,i=Sc(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=e.statement||void 0;const o=`URI: ${e.aud||e.uri}`,c=`Version: ${e.version}`,v=`Chain ID: ${kw(t)}`,w=`Nonce: ${e.nonce}`,p=`Issued At: ${e.iat}`,_=e.exp?`Expiration Time: ${e.exp}`:void 0,I=e.nbf?`Not Before: ${e.nbf}`:void 0,B=e.requestId?`Request ID: ${e.requestId}`:void 0,R=e.resources?`Resources:${e.resources.map(z=>`
- ${z}`).join("")}`:void 0,O=rc(e.resources);if(O){const z=Xu(O);n=kD(n,z)}return[r,i,"",n,"",o,c,v,w,p,_,I,B,R].filter(z=>z!=null).join(`
`)};function BD(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function RD(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Ca(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const i=e.att[r];if(Array.isArray(i))throw new Error(`Resource must be an object: ${r}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(i).forEach(n=>{const o=i[n];if(!Array.isArray(o))throw new Error(`Ability limits ${n} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${n} is empty array, must be an array with objects`);o.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${n}) must be an array of objects, found: ${c}`)})})})}function PD(e,t,r,i={}){return r==null||r.sort((n,o)=>n.localeCompare(o)),{att:{[e]:TD(t,r,i)}}}function TD(e,t,r={}){t=t==null?void 0:t.sort((n,o)=>n.localeCompare(o));const i=t.map(n=>({[`${e}/${n}`]:[r]}));return Object.assign({},...i)}function Lw(e){return Ca(e),`urn:recap:${BD(e).replace(/=/g,"")}`}function Xu(e){const t=RD(e.replace("urn:recap:",""));return Ca(t),t}function OD(e,t,r){const i=PD(e,t,r);return Lw(i)}function DD(e){return e&&e.includes("urn:recap:")}function FD(e,t){const r=Xu(e),i=Xu(t),n=UD(r,i);return Lw(n)}function UD(e,t){Ca(e),Ca(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((n,o)=>n.localeCompare(o)),i={att:{}};return r.forEach(n=>{var o,c;Object.keys(((o=e.att)==null?void 0:o[n])||{}).concat(Object.keys(((c=t.att)==null?void 0:c[n])||{})).sort((v,w)=>v.localeCompare(w)).forEach(v=>{var w,p;i.att[n]=ND(xD({},i.att[n]),{[v]:((w=e.att[n])==null?void 0:w[v])||((p=t.att[n])==null?void 0:p[v])})})}),i}function kD(e="",t){Ca(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const i=[];let n=0;Object.keys(t.att).forEach(v=>{const w=Object.keys(t.att[v]).map(I=>({ability:I.split("/")[0],action:I.split("/")[1]}));w.sort((I,B)=>I.action.localeCompare(B.action));const p={};w.forEach(I=>{p[I.ability]||(p[I.ability]=[]),p[I.ability].push(I.action)});const _=Object.keys(p).map(I=>(n++,`(${n}) '${I}': '${p[I].join("', '")}' for '${v}'.`));i.push(_.join(", ").replace(".,","."))});const o=i.join(" "),c=`${r}${o}`;return`${e?e+" ":""}${c}`}function r3(e){var t;const r=Xu(e);Ca(r);const i=(t=r.att)==null?void 0:t.eip155;return i?Object.keys(i).map(n=>n.split("/")[1]):[]}function i3(e){const t=Xu(e);Ca(t);const r=[];return Object.values(t.att).forEach(i=>{Object.values(i).forEach(n=>{var o;(o=n==null?void 0:n[0])!=null&&o.chains&&r.push(n[0].chains)})}),[...new Set(r.flat())]}function rc(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return DD(t)?t:void 0}const Z1="base16",T0="base64pad",xu="base64url",qD="utf8",e1=1,LD=2;function r1(e){const t=Ph.hash(qi(e,Z1));return ui(t,Z1)}function nh(e){const t=Ph.hash(qi(e,qD));return ui(t,Z1)}function O0(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function Gh(e){const t=[];return e.forEach(r=>{const[i,n]=r.split(":");t.push(`${i}:${n}`)}),t}function zD(e){const t=[];return Object.values(e).forEach(r=>{t.push(...Gh(r.accounts))}),t}function $D(e,t){const r=[];return Object.values(e).forEach(i=>{Gh(i.accounts).includes(t)&&r.push(...i.methods)}),r}function HD(e,t){const r=[];return Object.values(e).forEach(i=>{Gh(i.accounts).includes(t)&&r.push(...i.events)}),r}function KD(e){const t={};return e==null||e.forEach(r=>{const[i,n]=r.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[]}),t[i].accounts.push(r),t[i].chains.push(`${i}:${n}`)}),t}function n3(e,t){t=t.map(i=>i.replace("did:pkh:",""));const r=KD(t);for(const[i,n]of Object.entries(r))n.methods?n.methods=DP(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}const jD={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},QD={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function fe(e,t){const{message:r,code:i}=QD[e];return{message:t?`${r} ${t}`:r,code:i}}function Mr(e,t){const{message:r,code:i}=jD[e];return{message:t?`${r} ${t}`:r,code:i}}function Qc(e,t){return!!Array.isArray(e)}function Ic(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function is(e){return typeof e>"u"}function Lr(e,t){return t&&is(e)?!0:typeof e=="string"&&!!e.trim().length}function Cp(e,t){return typeof e=="number"&&!isNaN(e)}function GD(e,t){const{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),n=Object.keys(r);let o=!0;return ba(n,i)?(i.forEach(c=>{const{accounts:v,methods:w,events:p}=e.namespaces[c],_=Gh(v),I=r[c];(!ba(tw(c,I),_)||!ba(I.methods,w)||!ba(I.events,p))&&(o=!1)}),o):!1}function xc(e){return Lr(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function JD(e){if(Lr(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&xc(r)}}return!1}function YD(e,t){let r=null;return Lr(e==null?void 0:e.publicKey,!1)||(r=fe("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function s3(e){let t=!0;return Qc(e)?e.length&&(t=e.every(r=>Lr(r,!1))):t=!1,t}function VD(e,t,r){let i=null;return Qc(t)&&t.length?t.forEach(n=>{i||xc(n)||(i=Mr("UNSUPPORTED_CHAINS",`${r}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):xc(e)||(i=Mr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function WD(e,t,r){let i=null;return Object.entries(e).forEach(([n,o])=>{if(i)return;const c=VD(n,tw(n,o),`${t} ${r}`);c&&(i=c)}),i}function XD(e,t){let r=null;return Qc(e)?e.forEach(i=>{r||JD(i)||(r=Mr("UNSUPPORTED_ACCOUNTS",`${t}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=Mr("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function ZD(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=XD(i==null?void 0:i.accounts,`${t} namespace`);n&&(r=n)}),r}function tF(e,t){let r=null;return s3(e==null?void 0:e.methods)?s3(e==null?void 0:e.events)||(r=Mr("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Mr("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function zw(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=tF(i,`${t}, namespace`);n&&(r=n)}),r}function eF(e,t,r){let i=null;if(e&&Ic(e)){const n=zw(e,t);n&&(i=n);const o=WD(e,t,r);o&&(i=o)}else i=fe("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return i}function i1(e,t){let r=null;if(e&&Ic(e)){const i=zw(e,t);i&&(r=i);const n=ZD(e,t);n&&(r=n)}else r=fe("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function $w(e){return Lr(e.protocol,!0)}function rF(e,t){let r=!1;return e?e&&Qc(e)&&e.length&&e.forEach(i=>{r=$w(i)}):r=!0,r}function iF(e){return typeof e=="number"}function Hn(e){return typeof e<"u"&&typeof e!==null}function nF(e){return!(!e||typeof e!="object"||!e.code||!Cp(e.code)||!e.message||!Lr(e.message,!1))}function sF(e){return!(is(e)||!Lr(e.method,!1))}function oF(e){return!(is(e)||is(e.result)&&is(e.error)||!Cp(e.id)||!Lr(e.jsonrpc,!1))}function aF(e){return!(is(e)||!Lr(e.name,!1))}function o3(e,t){return!(!xc(t)||!zD(e).includes(t))}function hF(e,t,r){return Lr(r,!1)?$D(e,t).includes(r):!1}function uF(e,t,r){return Lr(r,!1)?HD(e,t).includes(r):!1}function a3(e,t,r){let i=null;const n=fF(e),o=cF(t),c=Object.keys(n),v=Object.keys(o),w=h3(Object.keys(e)),p=h3(Object.keys(t)),_=w.filter(I=>!p.includes(I));return _.length&&(i=fe("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${_.toString()}
      Received: ${Object.keys(t).toString()}`)),ba(c,v)||(i=fe("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${v.toString()}`)),Object.keys(t).forEach(I=>{if(!I.includes(":")||i)return;const B=Gh(t[I].accounts);B.includes(I)||(i=fe("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${I}
        Required: ${I}
        Approved: ${B.toString()}`))}),c.forEach(I=>{i||(ba(n[I].methods,o[I].methods)?ba(n[I].events,o[I].events)||(i=fe("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${I}`)):i=fe("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${I}`))}),i}function fF(e){const t={};return Object.keys(e).forEach(r=>{var i;r.includes(":")?t[r]=e[r]:(i=e[r].chains)==null||i.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}function h3(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function cF(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const i=Gh(e[r].accounts);i==null||i.forEach(n=>{t[n]={accounts:e[r].accounts.filter(o=>o.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function lF(e,t){return Cp(e)&&e<=t.max&&e>=t.min}const n1={};class Nu{static get(t){return n1[t]}static set(t,r){n1[t]=r}static delete(t){delete n1[t]}}const Hw="wc",Kw=2,jw="client",Bp=`${Hw}@${Kw}:${jw}:`,s1={name:jw,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},u3="WALLETCONNECT_DEEPLINK_CHOICE",dF="proposal",Qw="Proposal expired",pF="session",sh=Gt.SEVEN_DAYS,gF="engine",Qr={wc_sessionPropose:{req:{ttl:Gt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Gt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Gt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Gt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Gt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Gt.FIVE_MINUTES,prompt:!1,tag:1119}}},o1={min:Gt.FIVE_MINUTES,max:Gt.SEVEN_DAYS},vs={idle:"IDLE",active:"ACTIVE"},mF="request",vF=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],yF="wc",wF="auth",AF="authKeys",bF="pairingTopics",MF="requests",Gc=`${yF}@${1.5}:${wF}:`,ic=`${Gc}:PUB_KEY`;var EF=Object.defineProperty,_F=Object.defineProperties,SF=Object.getOwnPropertyDescriptors,f3=Object.getOwnPropertySymbols,IF=Object.prototype.hasOwnProperty,xF=Object.prototype.propertyIsEnumerable,c3=(e,t,r)=>t in e?EF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vr=(e,t)=>{for(var r in t||(t={}))IF.call(t,r)&&c3(e,r,t[r]);if(f3)for(var r of f3(t))xF.call(t,r)&&c3(e,r,t[r]);return e},Kn=(e,t)=>_F(e,SF(t));let NF=class extends xI{constructor(t){super(t),this.name=gF,this.events=new up,this.initialized=!1,this.requestQueue={state:vs.idle,queue:[]},this.sessionRequestQueue={state:vs.idle,queue:[]},this.requestQueueDelay=Gt.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Qr)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Gt.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=Kn(vr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:n,requiredNamespaces:o,optionalNamespaces:c,sessionProperties:v,relays:w}=i;let p=n,_,I=!1;try{p&&(I=this.client.core.pairing.pairings.get(p).active)}catch(et){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),et}if(!p||!I){const{topic:et,uri:W}=await this.client.core.pairing.create();p=et,_=W}if(!p){const{message:et}=fe("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(et)}const B=await this.client.core.crypto.generateKeyPair(),R=Qr.wc_sessionPropose.req.ttl||Gt.FIVE_MINUTES,O=Oi(R),z=vr({requiredNamespaces:o,optionalNamespaces:c,relays:w??[{protocol:qy}],proposer:{publicKey:B,metadata:this.client.metadata},expiryTimestamp:O,pairingTopic:p},v&&{sessionProperties:v}),{reject:k,resolve:J,done:rt}=rh(R,Qw);this.events.once(Ge("session_connect"),async({error:et,session:W})=>{if(et)k(et);else if(W){W.self.publicKey=B;const V=Kn(vr({},W),{pairingTopic:z.pairingTopic,requiredNamespaces:z.requiredNamespaces,optionalNamespaces:z.optionalNamespaces,transportType:or.relay});await this.client.session.set(W.topic,V),await this.setExpiry(W.topic,W.expiry),p&&await this.client.core.pairing.updateMetadata({topic:p,metadata:W.peer.metadata}),this.cleanupDuplicatePairings(V),J(V)}});const ht=await this.sendRequest({topic:p,method:"wc_sessionPropose",params:z,throwOnFailedPublish:!0});return await this.setProposal(ht,vr({id:ht},z)),{uri:_,approval:rt}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(i){throw this.client.logger.error("pair() failed"),i}},this.approve=async r=>{var i,n,o;const c=this.client.core.eventClient.createEvent({properties:{topic:(i=r==null?void 0:r.id)==null?void 0:i.toString(),trace:[zn.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(it){throw c.setError(va.no_internet_connection),it}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(it){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),c.setError(va.proposal_not_found),it}try{await this.isValidApprove(r)}catch(it){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(va.session_approve_namespace_validation_failure),it}const{id:v,relayProtocol:w,namespaces:p,sessionProperties:_,sessionConfig:I}=r,B=this.client.proposal.get(v);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:R,proposer:O,requiredNamespaces:z,optionalNamespaces:k}=B;let J=(n=this.client.core.eventClient)==null?void 0:n.getEvent({topic:R});J||(J=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:zn.session_approve_started,properties:{topic:R,trace:[zn.session_approve_started,zn.session_namespaces_validation_success]}}));const rt=await this.client.core.crypto.generateKeyPair(),ht=O.publicKey,et=await this.client.core.crypto.generateSharedKey(rt,ht),W=vr(vr({relay:{protocol:w??"irn"},namespaces:p,controller:{publicKey:rt,metadata:this.client.metadata},expiry:Oi(sh)},_&&{sessionProperties:_}),I&&{sessionConfig:I}),V=or.relay;J.addTrace(zn.subscribing_session_topic);try{await this.client.core.relayer.subscribe(et,{transportType:V})}catch(it){throw J.setError(va.subscribe_session_topic_failure),it}J.addTrace(zn.subscribe_session_topic_success);const nt=Kn(vr({},W),{topic:et,requiredNamespaces:z,optionalNamespaces:k,pairingTopic:R,acknowledged:!1,self:W.controller,peer:{publicKey:O.publicKey,metadata:O.metadata},controller:rt,transportType:or.relay});await this.client.session.set(et,nt),J.addTrace(zn.store_session);try{J.addTrace(zn.publishing_session_settle),await this.sendRequest({topic:et,method:"wc_sessionSettle",params:W,throwOnFailedPublish:!0}).catch(it=>{throw J==null||J.setError(va.session_settle_publish_failure),it}),J.addTrace(zn.session_settle_publish_success),J.addTrace(zn.publishing_session_approve),await this.sendResult({id:v,topic:R,result:{relay:{protocol:w??"irn"},responderPublicKey:rt},throwOnFailedPublish:!0}).catch(it=>{throw J==null||J.setError(va.session_approve_publish_failure),it}),J.addTrace(zn.session_approve_publish_success)}catch(it){throw this.client.logger.error(it),this.client.session.delete(et,Mr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(et),it}return this.client.core.eventClient.deleteEvent({eventId:J.eventId}),await this.client.core.pairing.updateMetadata({topic:R,metadata:O.metadata}),await this.client.proposal.delete(v,Mr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:R}),await this.setExpiry(et,Oi(sh)),{topic:et,acknowledged:()=>Promise.resolve(this.client.session.get(et))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:i,reason:n}=r;let o;try{o=this.client.proposal.get(i).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),c}o&&(await this.sendError({id:i,topic:o,error:n,rpcOpts:Qr.wc_sessionPropose.reject}),await this.client.proposal.delete(i,Mr("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(I){throw this.client.logger.error("update() -> isValidUpdate() failed"),I}const{topic:i,namespaces:n}=r,{done:o,resolve:c,reject:v}=rh(),w=Ko(),p=Aa().toString(),_=this.client.session.get(i).namespaces;return this.events.once(Ge("session_update",w),({error:I})=>{I?v(I):c()}),await this.client.session.update(i,{namespaces:n}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:w,relayRpcId:p}).catch(I=>{this.client.logger.error(I),this.client.session.update(i,{namespaces:_}),v(I)}),{acknowledged:o}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(w){throw this.client.logger.error("extend() -> isValidExtend() failed"),w}const{topic:i}=r,n=Ko(),{done:o,resolve:c,reject:v}=rh();return this.events.once(Ge("session_extend",n),({error:w})=>{w?v(w):c()}),await this.setExpiry(i,Oi(sh)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(w=>{v(w)}),{acknowledged:o}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(O){throw this.client.logger.error("request() -> isValidRequest() failed"),O}const{chainId:i,request:n,topic:o,expiry:c=Qr.wc_sessionRequest.req.ttl}=r,v=this.client.session.get(o);(v==null?void 0:v.transportType)===or.relay&&await this.confirmOnlineStateOrThrow();const w=Ko(),p=Aa().toString(),{done:_,resolve:I,reject:B}=rh(c,"Request expired. Please try again.");this.events.once(Ge("session_request",w),({error:O,result:z})=>{O?B(O):I(z)});const R=this.getAppLinkIfEnabled(v.peer.metadata,v.transportType);return R?(await this.sendRequest({clientRpcId:w,relayRpcId:p,topic:o,method:"wc_sessionRequest",params:{request:Kn(vr({},n),{expiryTimestamp:Oi(c)}),chainId:i},expiry:c,throwOnFailedPublish:!0,appLink:R}).catch(O=>B(O)),this.client.events.emit("session_request_sent",{topic:o,request:n,chainId:i,id:w}),await _()):await Promise.all([new Promise(async O=>{await this.sendRequest({clientRpcId:w,relayRpcId:p,topic:o,method:"wc_sessionRequest",params:{request:Kn(vr({},n),{expiryTimestamp:Oi(c)}),chainId:i},expiry:c,throwOnFailedPublish:!0}).catch(z=>B(z)),this.client.events.emit("session_request_sent",{topic:o,request:n,chainId:i,id:w}),O()}),new Promise(async O=>{var z;if(!((z=v.sessionConfig)!=null&&z.disableDeepLink)){const k=await kP(this.client.core.storage,u3);await FP({id:w,topic:o,wcDeepLink:k})}O()}),_()]).then(O=>O[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:i,response:n}=r,{id:o}=n,c=this.client.session.get(i);c.transportType===or.relay&&await this.confirmOnlineStateOrThrow();const v=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);ws(n)?await this.sendResult({id:o,topic:i,result:n.result,throwOnFailedPublish:!0,appLink:v}):xn(n)&&await this.sendError({id:o,topic:i,error:n.error,appLink:v}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:i}=r;if(this.client.session.keys.includes(i)){const n=Ko(),o=Aa().toString(),{done:c,resolve:v,reject:w}=rh();this.events.once(Ge("session_ping",n),({error:p})=>{p?w(p):v()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:n,relayRpcId:o}),c()])}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:i,event:n,chainId:o}=r,c=Aa().toString();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:o},throwOnFailedPublish:!0,relayRpcId:c})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:i}=r;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Mr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:n}=fe("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(n)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(i=>GD(i,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,i)=>{var n;this.isInitialized(),this.isValidAuthenticate(r);const o=i&&this.client.core.linkModeSupportedApps.includes(i)&&((n=this.client.metadata.redirect)==null?void 0:n.linkMode),c=o?or.link_mode:or.relay;c===or.relay&&await this.confirmOnlineStateOrThrow();const{chains:v,statement:w="",uri:p,domain:_,nonce:I,type:B,exp:R,nbf:O,methods:z=[],expiry:k}=r,J=[...r.resources||[]],{topic:rt,uri:ht}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:rt,uri:ht}});const et=await this.client.core.crypto.generateKeyPair(),W=r1(et);if(await Promise.all([this.client.auth.authKeys.set(ic,{responseTopic:W,publicKey:et}),this.client.auth.pairingTopics.set(W,{topic:W,pairingTopic:rt})]),await this.client.core.relayer.subscribe(W,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${rt}`),z.length>0){const{namespace:M}=qd(v[0]);let S=OD(M,"request",z);rc(J)&&(S=FD(S,J.pop())),J.push(S)}const V=k&&k>Qr.wc_sessionAuthenticate.req.ttl?k:Qr.wc_sessionAuthenticate.req.ttl,nt={authPayload:{type:B??"caip122",chains:v,statement:w,aud:p,domain:_,version:"1",nonce:I,iat:new Date().toISOString(),exp:R,nbf:O,resources:J},requester:{publicKey:et,metadata:this.client.metadata},expiryTimestamp:Oi(V)},it={eip155:{chains:v,methods:[...new Set(["personal_sign",...z])],events:["chainChanged","accountsChanged"]}},Qt={requiredNamespaces:{},optionalNamespaces:it,relays:[{protocol:"irn"}],pairingTopic:rt,proposer:{publicKey:et,metadata:this.client.metadata},expiryTimestamp:Oi(Qr.wc_sessionPropose.req.ttl)},{done:Yt,resolve:_t,reject:Vt}=rh(V,"Request expired"),s=async({error:M,session:S})=>{if(this.events.off(Ge("session_request",d),u),M)Vt(M);else if(S){S.self.publicKey=et,await this.client.session.set(S.topic,S),await this.setExpiry(S.topic,S.expiry),rt&&await this.client.core.pairing.updateMetadata({topic:rt,metadata:S.peer.metadata});const m=this.client.session.get(S.topic);await this.deleteProposal(y),_t({session:m})}},u=async M=>{var S,m,a;if(await this.deletePendingAuthRequest(d,{message:"fulfilled",code:0}),M.error){const C=Mr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return M.error.code===C.code?void 0:(this.events.off(Ge("session_connect"),s),Vt(M.error.message))}await this.deleteProposal(y),this.events.off(Ge("session_connect"),s);const{cacaos:g,responder:Q}=M.result,j=[],f=[];for(const C of g){await e3({cacao:C,projectId:this.client.core.projectId})||(this.client.logger.error(C,"Signature verification failed"),Vt(Mr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:D}=C,E=rc(D.resources),P=[t3(D.iss)],$=Sc(D.iss);if(E){const G=r3(E),L=i3(E);j.push(...G),P.push(...L)}for(const G of P)f.push(`${G}:${$}`)}const T=await this.client.core.crypto.generateSharedKey(et,Q.publicKey);let x;j.length>0&&(x={topic:T,acknowledged:!0,self:{publicKey:et,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:Oi(sh),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:rt,namespaces:n3([...new Set(j)],[...new Set(f)]),transportType:c},await this.client.core.relayer.subscribe(T,{transportType:c}),await this.client.session.set(T,x),rt&&await this.client.core.pairing.updateMetadata({topic:rt,metadata:Q.metadata}),x=this.client.session.get(T)),(S=this.client.metadata.redirect)!=null&&S.linkMode&&(m=Q.metadata.redirect)!=null&&m.linkMode&&(a=Q.metadata.redirect)!=null&&a.universal&&i&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(T,{transportType:or.link_mode})),_t({auths:g,session:x})},d=Ko(),y=Ko();this.events.once(Ge("session_connect"),s),this.events.once(Ge("session_request",d),u);let A;try{if(o){const M=ta("wc_sessionAuthenticate",nt,d);this.client.core.history.set(rt,M);const S=await this.client.core.crypto.encode("",M,{type:LD,encoding:xu});A=O0(i,rt,S)}else await Promise.all([this.sendRequest({topic:rt,method:"wc_sessionAuthenticate",params:nt,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:d}),this.sendRequest({topic:rt,method:"wc_sessionPropose",params:Qt,expiry:Qr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:y})])}catch(M){throw this.events.off(Ge("session_connect"),s),this.events.off(Ge("session_request",d),u),M}return await this.setProposal(y,vr({id:y},Qt)),await this.setAuthRequest(d,{request:Kn(vr({},nt),{verifyContext:{}}),pairingTopic:rt,transportType:c}),{uri:A??ht,response:Yt}},this.approveSessionAuthenticate=async r=>{const{id:i,auths:n}=r,o=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[ya.authenticated_session_approve_started]}});try{this.isInitialized()}catch(k){throw o.setError(bu.no_internet_connection),k}const c=this.getPendingAuthRequest(i);if(!c)throw o.setError(bu.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const v=c.transportType||or.relay;v===or.relay&&await this.confirmOnlineStateOrThrow();const w=c.requester.publicKey,p=await this.client.core.crypto.generateKeyPair(),_=r1(w),I={type:e1,receiverPublicKey:w,senderPublicKey:p},B=[],R=[];for(const k of n){if(!await e3({cacao:k,projectId:this.client.core.projectId})){o.setError(bu.invalid_cacao);const W=Mr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:_,error:W,encodeOpts:I}),new Error(W.message)}o.addTrace(ya.cacaos_verified);const{p:J}=k,rt=rc(J.resources),ht=[t3(J.iss)],et=Sc(J.iss);if(rt){const W=r3(rt),V=i3(rt);B.push(...W),ht.push(...V)}for(const W of ht)R.push(`${W}:${et}`)}const O=await this.client.core.crypto.generateSharedKey(p,w);o.addTrace(ya.create_authenticated_session_topic);let z;if((B==null?void 0:B.length)>0){z={topic:O,acknowledged:!0,self:{publicKey:p,metadata:this.client.metadata},peer:{publicKey:w,metadata:c.requester.metadata},controller:w,expiry:Oi(sh),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:n3([...new Set(B)],[...new Set(R)]),transportType:v},o.addTrace(ya.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(O,{transportType:v})}catch(k){throw o.setError(bu.subscribe_authenticated_session_topic_failure),k}o.addTrace(ya.subscribe_authenticated_session_topic_success),await this.client.session.set(O,z),o.addTrace(ya.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}o.addTrace(ya.publishing_authenticated_session_approve);try{await this.sendResult({topic:_,id:i,result:{cacaos:n,responder:{publicKey:p,metadata:this.client.metadata}},encodeOpts:I,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,v)})}catch(k){throw o.setError(bu.authenticated_session_approve_publish_failure),k}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:z}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:i,reason:n}=r,o=this.getPendingAuthRequest(i);if(!o)throw new Error(`Could not find pending auth request with id ${i}`);o.transportType===or.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,v=await this.client.core.crypto.generateKeyPair(),w=r1(c),p={type:e1,receiverPublicKey:c,senderPublicKey:v};await this.sendError({id:i,topic:w,error:n,encodeOpts:p,rpcOpts:Qr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,Mr("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:i,iss:n}=r;return qw(i,n)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const i=this.client.core.pairing.pairings.get(r.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(o=>{var c,v;return((c=o.peerMetadata)==null?void 0:c.url)&&((v=o.peerMetadata)==null?void 0:v.url)===r.peer.metadata.url&&o.topic&&o.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async r=>{var i;const{topic:n,expirerHasDeleted:o=!1,emitEvent:c=!0,id:v=0}=r,{self:w}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,Mr("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(w.publicKey)&&await this.client.core.crypto.deleteKeyPair(w.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),o||this.client.core.expirer.del(n),this.client.core.storage.removeItem(u3).catch(p=>this.client.logger.warn(p)),this.getPendingSessionRequests().forEach(p=>{p.topic===n&&this.deletePendingSessionRequest(p.id,Mr("USER_DISCONNECTED"))}),n===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=vs.idle),c&&this.client.events.emit("session_delete",{id:v,topic:n})},this.deleteProposal=async(r,i)=>{if(i)try{const n=this.client.proposal.get(r),o=this.client.core.eventClient.getEvent({topic:n.pairingTopic});o==null||o.setError(va.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Mr("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,i),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==r),n&&(this.sessionRequestQueue.state=vs.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,i,n=!1)=>{await Promise.all([this.client.auth.requests.delete(r,i),n?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,i)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,i),await this.client.session.update(r,{expiry:i}))},this.setProposal=async(r,i)=>{this.client.core.expirer.set(r,Oi(Qr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,i)},this.setAuthRequest=async(r,i)=>{const{request:n,pairingTopic:o,transportType:c=or.relay}=i;this.client.core.expirer.set(r,n.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:r,pairingTopic:o,verifyContext:n.verifyContext,transportType:c})},this.setPendingSessionRequest=async r=>{const{id:i,topic:n,params:o,verifyContext:c}=r,v=o.request.expiryTimestamp||Oi(Qr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,v),await this.client.pendingRequest.set(i,{id:i,topic:n,params:o,verifyContext:c})},this.sendRequest=async r=>{const{topic:i,method:n,params:o,expiry:c,relayRpcId:v,clientRpcId:w,throwOnFailedPublish:p,appLink:_}=r,I=ta(n,o,w);let B;const R=!!_;try{const k=R?xu:T0;B=await this.client.core.crypto.encode(i,I,{encoding:k})}catch(k){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),k}let O;if(vF.includes(n)){const k=nh(JSON.stringify(I)),J=nh(B);O=await this.client.core.verify.register({id:J,decryptedId:k})}const z=Qr[n].req;if(z.attestation=O,c&&(z.ttl=c),v&&(z.id=v),this.client.core.history.set(i,I),R){const k=O0(_,i,B);await global.Linking.openURL(k,this.client.name)}else{const k=Qr[n].req;c&&(k.ttl=c),v&&(k.id=v),p?(k.internal=Kn(vr({},k.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,B,k)):this.client.core.relayer.publish(i,B,k).catch(J=>this.client.logger.error(J))}return I.id},this.sendResult=async r=>{const{id:i,topic:n,result:o,throwOnFailedPublish:c,encodeOpts:v,appLink:w}=r,p=Fc(i,o);let _;const I=w&&typeof(global==null?void 0:global.Linking)<"u";try{const R=I?xu:T0;_=await this.client.core.crypto.encode(n,p,Kn(vr({},v||{}),{encoding:R}))}catch(R){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),R}let B;try{B=await this.client.core.history.get(n,i)}catch(R){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`),R}if(I){const R=O0(w,n,_);await global.Linking.openURL(R,this.client.name)}else{const R=Qr[B.request.method].res;c?(R.internal=Kn(vr({},R.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,_,R)):this.client.core.relayer.publish(n,_,R).catch(O=>this.client.logger.error(O))}await this.client.core.history.resolve(p)},this.sendError=async r=>{const{id:i,topic:n,error:o,encodeOpts:c,rpcOpts:v,appLink:w}=r,p=Uc(i,o);let _;const I=w&&typeof(global==null?void 0:global.Linking)<"u";try{const R=I?xu:T0;_=await this.client.core.crypto.encode(n,p,Kn(vr({},c||{}),{encoding:R}))}catch(R){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),R}let B;try{B=await this.client.core.history.get(n,i)}catch(R){throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`),R}if(I){const R=O0(w,n,_);await global.Linking.openURL(R,this.client.name)}else{const R=v||Qr[B.request.method].res;this.client.core.relayer.publish(n,_,R)}await this.client.core.history.resolve(p)},this.cleanup=async()=>{const r=[],i=[];this.client.session.getAll().forEach(n=>{let o=!1;ih(n.expiry)&&(o=!0),this.client.core.crypto.keychain.has(n.topic)||(o=!0),o&&r.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{ih(n.expiryTimestamp)&&i.push(n.id)}),await Promise.all([...r.map(n=>this.deleteSession({topic:n})),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===vs.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=vs.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=vs.idle},this.processRequest=async r=>{const{topic:i,payload:n,attestation:o,transportType:c,encryptedId:v}=r,w=n.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:w}))switch(w){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:n,attestation:o,encryptedId:v});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,n);case"wc_sessionPing":return await this.onSessionPingRequest(i,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:n,attestation:o,encryptedId:v,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(i,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:n,attestation:o,encryptedId:v,transportType:c});default:return this.client.logger.info(`Unsupported request method ${w}`)}},this.onRelayEventResponse=async r=>{const{topic:i,payload:n,transportType:o}=r,c=(await this.client.core.history.get(i,n.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n,o);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${c}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:i}=r,{message:n}=fe("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.shouldIgnorePairingRequest=r=>{const{topic:i,requestMethod:n}=r,o=this.expectedPairingMethodMap.get(i);return!o||o.includes(n)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:i,payload:n,attestation:o,encryptedId:c}=r,{params:v,id:w}=n;try{const p=this.client.core.eventClient.getEvent({topic:i});this.isValidConnect(vr({},n.params));const _=v.expiryTimestamp||Oi(Qr.wc_sessionPropose.req.ttl),I=vr({id:w,pairingTopic:i,expiryTimestamp:_},v);await this.setProposal(w,I);const B=await this.getVerifyContext({attestationId:o,hash:nh(JSON.stringify(n)),encryptedId:c,metadata:I.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),p==null||p.setError(vo.proposal_listener_not_found)),p==null||p.addTrace(ys.emit_session_proposal),this.client.events.emit("session_proposal",{id:w,params:I,verifyContext:B})}catch(p){await this.sendError({id:w,topic:i,error:p,rpcOpts:Qr.wc_sessionPropose.autoReject}),this.client.logger.error(p)}},this.onSessionProposeResponse=async(r,i,n)=>{const{id:o}=i;if(ws(i)){const{result:c}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const v=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:v});const w=v.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:w});const p=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:p});const _=await this.client.core.crypto.generateSharedKey(w,p);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:_});const I=await this.client.core.relayer.subscribe(_,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:I}),await this.client.core.pairing.activate({topic:r})}else if(xn(i)){await this.client.proposal.delete(o,Mr("USER_DISCONNECTED"));const c=Ge("session_connect");if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(Ge("session_connect"),{error:i.error})}},this.onSessionSettleRequest=async(r,i)=>{const{id:n,params:o}=i;try{this.isValidSessionSettleRequest(o);const{relay:c,controller:v,expiry:w,namespaces:p,sessionProperties:_,sessionConfig:I}=i.params,B=Kn(vr(vr({topic:r,relay:c,expiry:w,namespaces:p,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:v.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:v.publicKey,metadata:v.metadata}},_&&{sessionProperties:_}),I&&{sessionConfig:I}),{transportType:or.relay}),R=Ge("session_connect");if(this.events.listenerCount(R)===0)throw new Error(`emitting ${R} without any listeners 997`);this.events.emit(Ge("session_connect"),{session:B}),await this.sendResult({id:i.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){await this.sendError({id:n,topic:r,error:c}),this.client.logger.error(c)}},this.onSessionSettleResponse=async(r,i)=>{const{id:n}=i;ws(i)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Ge("session_approve",n),{})):xn(i)&&(await this.client.session.delete(r,Mr("USER_DISCONNECTED")),this.events.emit(Ge("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(r,i)=>{const{params:n,id:o}=i;try{const c=`${r}_session_update`,v=Nu.get(c);if(v&&this.isRequestOutOfSync(v,o)){this.client.logger.info(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:r,error:Mr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(vr({topic:r},n));try{Nu.set(c,o),await this.client.session.update(r,{namespaces:n.namespaces}),await this.sendResult({id:o,topic:r,result:!0,throwOnFailedPublish:!0})}catch(w){throw Nu.delete(c),w}this.client.events.emit("session_update",{id:o,topic:r,params:n})}catch(c){await this.sendError({id:o,topic:r,error:c}),this.client.logger.error(c)}},this.isRequestOutOfSync=(r,i)=>parseInt(i.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,i)=>{const{id:n}=i,o=Ge("session_update",n);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ws(i)?this.events.emit(Ge("session_update",n),{}):xn(i)&&this.events.emit(Ge("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(r,i)=>{const{id:n}=i;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Oi(sh)),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:r})}catch(o){await this.sendError({id:n,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionExtendResponse=(r,i)=>{const{id:n}=i,o=Ge("session_extend",n);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ws(i)?this.events.emit(Ge("session_extend",n),{}):xn(i)&&this.events.emit(Ge("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(r,i)=>{const{id:n}=i;try{this.isValidPing({topic:r}),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:r})}catch(o){await this.sendError({id:n,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionPingResponse=(r,i)=>{const{id:n}=i,o=Ge("session_ping",n);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);setTimeout(()=>{ws(i)?this.events.emit(Ge("session_ping",n),{}):xn(i)&&this.events.emit(Ge("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(r,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),Promise.all([new Promise(o=>{this.client.core.relayer.once(vi.publish,async()=>{o(await this.deleteSession({topic:r,id:n}))})}),this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Mr("USER_DISCONNECTED")})]).catch(o=>this.client.logger.error(o))}catch(o){this.client.logger.error(o)}},this.onSessionRequest=async r=>{var i,n,o;const{topic:c,payload:v,attestation:w,encryptedId:p,transportType:_}=r,{id:I,params:B}=v;try{await this.isValidRequest(vr({topic:c},B));const R=this.client.session.get(c),O=await this.getVerifyContext({attestationId:w,hash:nh(JSON.stringify(ta("wc_sessionRequest",B,I))),encryptedId:p,metadata:R.peer.metadata,transportType:_}),z={id:I,topic:c,params:B,verifyContext:O};await this.setPendingSessionRequest(z),_===or.link_mode&&(i=R.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((n=R.peer.metadata.redirect)==null?void 0:n.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(z):(this.addSessionRequestToSessionRequestQueue(z),this.processSessionRequestQueue())}catch(R){await this.sendError({id:I,topic:c,error:R}),this.client.logger.error(R)}},this.onSessionRequestResponse=(r,i)=>{const{id:n}=i,o=Ge("session_request",n);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ws(i)?this.events.emit(Ge("session_request",n),{result:i.result}):xn(i)&&this.events.emit(Ge("session_request",n),{error:i.error})},this.onSessionEventRequest=async(r,i)=>{const{id:n,params:o}=i;try{const c=`${r}_session_event_${o.event.name}`,v=Nu.get(c);if(v&&this.isRequestOutOfSync(v,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(vr({topic:r},o)),this.client.events.emit("session_event",{id:n,topic:r,params:o}),Nu.set(c,n)}catch(c){await this.sendError({id:n,topic:r,error:c}),this.client.logger.error(c)}},this.onSessionAuthenticateResponse=(r,i)=>{const{id:n}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:i}),ws(i)?this.events.emit(Ge("session_request",n),{result:i.result}):xn(i)&&this.events.emit(Ge("session_request",n),{error:i.error})},this.onSessionAuthenticateRequest=async r=>{var i;const{topic:n,payload:o,attestation:c,encryptedId:v,transportType:w}=r;try{const{requester:p,authPayload:_,expiryTimestamp:I}=o.params,B=await this.getVerifyContext({attestationId:c,hash:nh(JSON.stringify(o)),encryptedId:v,metadata:p.metadata,transportType:w}),R={requester:p,pairingTopic:n,id:o.id,authPayload:_,verifyContext:B,expiryTimestamp:I};await this.setAuthRequest(o.id,{request:R,pairingTopic:n,transportType:w}),w===or.link_mode&&(i=p.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(p.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:o.params,id:o.id,verifyContext:B})}catch(p){this.client.logger.error(p);const _=o.params.requester.publicKey,I=await this.client.core.crypto.generateKeyPair(),B=this.getAppLinkIfEnabled(o.params.requester.metadata,w),R={type:e1,receiverPublicKey:_,senderPublicKey:I};await this.sendError({id:o.id,topic:n,error:p,encodeOpts:R,rpcOpts:Qr.wc_sessionAuthenticate.autoReject,appLink:B})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=vs.idle,this.processSessionRequestQueue()},Gt.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:i})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(o=>o.topic===r&&o.request.method==="wc_sessionRequest").forEach(o=>{const c=o.request.id,v=Ge("session_request",c);if(this.events.listenerCount(v)===0)throw new Error(`emitting ${v} without any listeners`);this.events.emit(Ge("session_request",o.request.id),{error:i})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===vs.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=vs.active,this.emitSessionRequest(r)}catch(i){this.client.logger.error(i)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const i=this.client.proposal.getAll().find(n=>n.pairingTopic===r.topic);i&&this.onSessionProposeRequest({topic:r.topic,payload:ta("wc_sessionPropose",{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties},i.id)})},this.isValidConnect=async r=>{if(!Hn(r)){const{message:w}=fe("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(w)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:o,sessionProperties:c,relays:v}=r;if(is(i)||await this.isValidPairingTopic(i),!rF(v)){const{message:w}=fe("MISSING_OR_INVALID",`connect() relays: ${v}`);throw new Error(w)}!is(n)&&Ic(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!is(o)&&Ic(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),is(c)||this.validateSessionProps(c,"sessionProperties")},this.validateNamespaces=(r,i)=>{const n=eF(r,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async r=>{if(!Hn(r))throw new Error(fe("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:i,namespaces:n,relayProtocol:o,sessionProperties:c}=r;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const v=this.client.proposal.get(i),w=i1(n,"approve()");if(w)throw new Error(w.message);const p=a3(v.requiredNamespaces,n,"approve()");if(p)throw new Error(p.message);if(!Lr(o,!0)){const{message:_}=fe("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(_)}is(c)||this.validateSessionProps(c,"sessionProperties")},this.isValidReject=async r=>{if(!Hn(r)){const{message:o}=fe("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(o)}const{id:i,reason:n}=r;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!nF(n)){const{message:o}=fe("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(o)}},this.isValidSessionSettleRequest=r=>{if(!Hn(r)){const{message:p}=fe("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(p)}const{relay:i,controller:n,namespaces:o,expiry:c}=r;if(!$w(i)){const{message:p}=fe("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(p)}const v=YD(n,"onSessionSettleRequest()");if(v)throw new Error(v.message);const w=i1(o,"onSessionSettleRequest()");if(w)throw new Error(w.message);if(ih(c)){const{message:p}=fe("EXPIRED","onSessionSettleRequest()");throw new Error(p)}},this.isValidUpdate=async r=>{if(!Hn(r)){const{message:w}=fe("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(w)}const{topic:i,namespaces:n}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const o=this.client.session.get(i),c=i1(n,"update()");if(c)throw new Error(c.message);const v=a3(o.requiredNamespaces,n,"update()");if(v)throw new Error(v.message)},this.isValidExtend=async r=>{if(!Hn(r)){const{message:n}=fe("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(n)}const{topic:i}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)},this.isValidRequest=async r=>{if(!Hn(r)){const{message:w}=fe("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(w)}const{topic:i,request:n,chainId:o,expiry:c}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:v}=this.client.session.get(i);if(!o3(v,o)){const{message:w}=fe("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(w)}if(!sF(n)){const{message:w}=fe("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(w)}if(!hF(v,o,n.method)){const{message:w}=fe("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(w)}if(c&&!lF(c,o1)){const{message:w}=fe("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${o1.min} and ${o1.max}`);throw new Error(w)}},this.isValidRespond=async r=>{var i;if(!Hn(r)){const{message:c}=fe("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(c)}const{topic:n,response:o}=r;try{await this.isValidSessionTopic(n)}catch(c){throw(i=r==null?void 0:r.response)!=null&&i.id&&this.cleanupAfterResponse(r),c}if(!oF(o)){const{message:c}=fe("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(c)}},this.isValidPing=async r=>{if(!Hn(r)){const{message:n}=fe("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async r=>{if(!Hn(r)){const{message:v}=fe("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(v)}const{topic:i,event:n,chainId:o}=r;await this.isValidSessionTopic(i);const{namespaces:c}=this.client.session.get(i);if(!o3(c,o)){const{message:v}=fe("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(v)}if(!aF(n)){const{message:v}=fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(v)}if(!uF(c,o,n.name)){const{message:v}=fe("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(v)}},this.isValidDisconnect=async r=>{if(!Hn(r)){const{message:n}=fe("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidAuthenticate=r=>{const{chains:i,uri:n,domain:o,nonce:c}=r;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!Lr(n,!1))throw new Error("uri is required parameter");if(!Lr(o,!1))throw new Error("domain is required parameter");if(!Lr(c,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(w=>qd(w).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:v}=qd(i[0]);if(v!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:i,hash:n,encryptedId:o,metadata:c,transportType:v}=r,w={verified:{verifyUrl:c.verifyUrl||Hu,validation:"UNKNOWN",origin:c.url||""}};try{if(v===or.link_mode){const _=this.getAppLinkIfEnabled(c,v);return w.verified.validation=_&&new URL(_).origin===new URL(c.url).origin?"VALID":"INVALID",w}const p=await this.client.core.verify.resolve({attestationId:i,hash:n,encryptedId:o,verifyUrl:c.verifyUrl});p&&(w.verified.origin=p.origin,w.verified.isScam=p.isScam,w.verified.validation=p.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(p){this.client.logger.warn(p)}return this.client.logger.debug(`Verify context: ${JSON.stringify(w)}`),w},this.validateSessionProps=(r,i)=>{Object.values(r).forEach(n=>{if(!Lr(n,!1)){const{message:o}=fe("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(o)}})},this.getPendingAuthRequest=r=>{const i=this.client.auth.requests.get(r);return typeof i=="object"?i:void 0},this.addToRecentlyDeleted=(r,i)=>{if(this.recentlyDeletedMap.set(r,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let n=0;const o=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(n++>=o)break;this.recentlyDeletedMap.delete(c)}}},this.checkRecentlyDeleted=r=>{const i=this.recentlyDeletedMap.get(r);if(i){const{message:n}=fe("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${r}`);throw new Error(n)}},this.isLinkModeEnabled=(r,i)=>{var n,o,c,v,w,p,_,I,B;return!r||i!==or.link_mode?!1:((o=(n=this.client.metadata)==null?void 0:n.redirect)==null?void 0:o.linkMode)===!0&&((v=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:v.universal)!==void 0&&((p=(w=this.client.metadata)==null?void 0:w.redirect)==null?void 0:p.universal)!==""&&((_=r==null?void 0:r.redirect)==null?void 0:_.universal)!==void 0&&((I=r==null?void 0:r.redirect)==null?void 0:I.universal)!==""&&((B=r==null?void 0:r.redirect)==null?void 0:B.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,i)=>{var n;return this.isLinkModeEnabled(r,i)?(n=r==null?void 0:r.redirect)==null?void 0:n.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const i=Cv(r,"topic")||"",n=decodeURIComponent(Cv(r,"wc_ev")||""),o=this.client.session.keys.includes(i);o&&this.client.session.update(i,{transportType:or.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:n,sessionExists:o})},this.registerLinkModeListeners=async()=>{var r;if(qP()||rw()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const n=await i.getInitialURL();n&&setTimeout(()=>{this.handleLinkModeMessage({url:n})},50)}}}}isInitialized(){if(!this.initialized){const{message:t}=fe("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vi.message,t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)})}async onRelayMessage(t){const{topic:r,message:i,attestation:n,transportType:o}=t,{publicKey:c}=this.client.auth.authKeys.keys.includes(ic)?this.client.auth.authKeys.get(ic):{responseTopic:void 0,publicKey:void 0},v=await this.client.core.crypto.decode(r,i,{receiverPublicKey:c,encoding:o===or.link_mode?xu:T0});try{pp(v)?(this.client.core.history.set(r,v),this.onRelayEventRequest({topic:r,payload:v,attestation:n,transportType:o,encryptedId:nh(i)})):kc(v)?(await this.client.core.history.resolve(v),await this.onRelayEventResponse({topic:r,payload:v,transportType:o}),this.client.core.history.delete(r,v.id)):this.onRelayEventUnknownPayload({topic:r,payload:v,transportType:o})}catch(w){this.client.logger.error(w)}}registerExpirerEvents(){this.client.core.expirer.on(Mn.expired,async t=>{const{topic:r,id:i}=OP(t.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,fe("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,fe("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(wa.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(wa.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Lr(t,!1)){const{message:r}=fe("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=fe("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(ih(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=fe("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Lr(t,!1)){const{message:r}=fe("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=fe("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(ih(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=fe("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=fe("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Lr(t,!1)){const{message:r}=fe("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=fe("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!iF(t)){const{message:r}=fe("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=fe("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(ih(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=fe("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}};class CF extends Oa{constructor(t,r){super(t,r,dF,Bp),this.core=t,this.logger=r}}class BF extends Oa{constructor(t,r){super(t,r,pF,Bp),this.core=t,this.logger=r}}class RF extends Oa{constructor(t,r){super(t,r,mF,Bp,i=>i.id),this.core=t,this.logger=r}}class PF extends Oa{constructor(t,r){super(t,r,AF,Gc,()=>ic),this.core=t,this.logger=r}}class TF extends Oa{constructor(t,r){super(t,r,bF,Gc),this.core=t,this.logger=r}}let OF=class extends Oa{constructor(t,r){super(t,r,MF,Gc,i=>i.id),this.core=t,this.logger=r}};class DF{constructor(t,r){this.core=t,this.logger=r,this.authKeys=new PF(this.core,this.logger),this.pairingTopics=new TF(this.core,this.logger),this.requests=new OF(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class Rp extends II{constructor(t){super(t),this.protocol=Hw,this.version=Kw,this.name=s1.name,this.events=new Pn.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.authenticate=async(i,n)=>{try{return await this.engine.authenticate(i,n)}catch(o){throw this.logger.error(o.message),o}},this.formatAuthMessage=i=>{try{return this.engine.formatAuthMessage(i)}catch(n){throw this.logger.error(n.message),n}},this.approveSessionAuthenticate=async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.rejectSessionAuthenticate=async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.name=(t==null?void 0:t.name)||s1.name,this.metadata=(t==null?void 0:t.metadata)||TP(),this.signConfig=t==null?void 0:t.signConfig;const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:hp(Tc({level:(t==null?void 0:t.logger)||s1.logger}));this.core=(t==null?void 0:t.core)||new NP(t),this.logger=Ii(r,this.name),this.session=new BF(this.core,this.logger),this.proposal=new CF(this.core,this.logger),this.pendingRequest=new RF(this.core,this.logger),this.engine=new NF(this),this.auth=new DF(this.core,this.logger)}static async init(t){const r=new Rp(t);return await r.initialize(),r}get context(){return nn(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const FF=":";function Gw(e){const[t,r]=e.split(FF);return{namespace:t,reference:r}}function a1(e=[],t=[]){return[...new Set([...e,...t])]}var Jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UF(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var kF={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var o=!i&&typeof self=="object",c=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;c?n=Jw:o&&(n=self);var v=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,w=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],I=[4,1024,262144,67108864],B=[1,256,65536,16777216],R=[6,1536,393216,100663296],O=[0,8,16,24],z=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],J=[128,256],rt=["hex","buffer","arrayBuffer","array","digest"],ht={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"}),w&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(f){return typeof f=="object"&&f.buffer&&f.buffer.constructor===ArrayBuffer});for(var et=function(f,T,x){return function(C){return new g(f,T,f).update(C)[x]()}},W=function(f,T,x){return function(C,D){return new g(f,T,D).update(C)[x]()}},V=function(f,T,x){return function(C,D,E,P){return u["cshake"+f].update(C,D,E,P)[x]()}},nt=function(f,T,x){return function(C,D,E,P){return u["kmac"+f].update(C,D,E,P)[x]()}},it=function(f,T,x,C){for(var D=0;D<rt.length;++D){var E=rt[D];f[E]=T(x,C,E)}return f},Qt=function(f,T){var x=et(f,T,"hex");return x.create=function(){return new g(f,T,f)},x.update=function(C){return x.create().update(C)},it(x,et,f,T)},Yt=function(f,T){var x=W(f,T,"hex");return x.create=function(C){return new g(f,T,C)},x.update=function(C,D){return x.create(D).update(C)},it(x,W,f,T)},_t=function(f,T){var x=ht[f],C=V(f,T,"hex");return C.create=function(D,E,P){return!E&&!P?u["shake"+f].create(D):new g(f,T,D).bytepad([E,P],x)},C.update=function(D,E,P,$){return C.create(E,P,$).update(D)},it(C,V,f,T)},Vt=function(f,T){var x=ht[f],C=nt(f,T,"hex");return C.create=function(D,E,P){return new Q(f,T,E).bytepad(["KMAC",P],x).bytepad([D],x)},C.update=function(D,E,P,$){return C.create(D,P,$).update(E)},it(C,nt,f,T)},s=[{name:"keccak",padding:B,bits:k,createMethod:Qt},{name:"sha3",padding:R,bits:k,createMethod:Qt},{name:"shake",padding:_,bits:J,createMethod:Yt},{name:"cshake",padding:I,bits:J,createMethod:_t},{name:"kmac",padding:I,bits:J,createMethod:Vt}],u={},d=[],y=0;y<s.length;++y)for(var A=s[y],M=A.bits,S=0;S<M.length;++S){var m=A.name+"_"+M[S];if(d.push(m),u[m]=A.createMethod(M[S],A.padding),A.name!=="sha3"){var a=A.name+M[S];d.push(a),u[a]=u[m]}}function g(f,T,x){this.blocks=[],this.s=[],this.padding=T,this.outputBits=x,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(f<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=x>>5,this.extraBytes=(x&31)>>3;for(var C=0;C<50;++C)this.s[C]=0}g.prototype.update=function(f){if(this.finalized)throw new Error(r);var T,x=typeof f;if(x!=="string"){if(x==="object"){if(f===null)throw new Error(t);if(w&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!w||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);T=!0}for(var C=this.blocks,D=this.byteCount,E=f.length,P=this.blockCount,$=0,G=this.s,L,at;$<E;){if(this.reset)for(this.reset=!1,C[0]=this.block,L=1;L<P+1;++L)C[L]=0;if(T)for(L=this.start;$<E&&L<D;++$)C[L>>2]|=f[$]<<O[L++&3];else for(L=this.start;$<E&&L<D;++$)at=f.charCodeAt($),at<128?C[L>>2]|=at<<O[L++&3]:at<2048?(C[L>>2]|=(192|at>>6)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]):at<55296||at>=57344?(C[L>>2]|=(224|at>>12)<<O[L++&3],C[L>>2]|=(128|at>>6&63)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]):(at=65536+((at&1023)<<10|f.charCodeAt(++$)&1023),C[L>>2]|=(240|at>>18)<<O[L++&3],C[L>>2]|=(128|at>>12&63)<<O[L++&3],C[L>>2]|=(128|at>>6&63)<<O[L++&3],C[L>>2]|=(128|at&63)<<O[L++&3]);if(this.lastByteIndex=L,L>=D){for(this.start=L-D,this.block=C[P],L=0;L<P;++L)G[L]^=C[L];j(G),this.reset=!0}else this.start=L}return this},g.prototype.encode=function(f,T){var x=f&255,C=1,D=[x];for(f=f>>8,x=f&255;x>0;)D.unshift(x),f=f>>8,x=f&255,++C;return T?D.push(C):D.unshift(C),this.update(D),D.length},g.prototype.encodeString=function(f){var T,x=typeof f;if(x!=="string"){if(x==="object"){if(f===null)throw new Error(t);if(w&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!w||!ArrayBuffer.isView(f)))throw new Error(t)}else throw new Error(t);T=!0}var C=0,D=f.length;if(T)C=D;else for(var E=0;E<f.length;++E){var P=f.charCodeAt(E);P<128?C+=1:P<2048?C+=2:P<55296||P>=57344?C+=3:(P=65536+((P&1023)<<10|f.charCodeAt(++E)&1023),C+=4)}return C+=this.encode(C*8),this.update(f),C},g.prototype.bytepad=function(f,T){for(var x=this.encode(T),C=0;C<f.length;++C)x+=this.encodeString(f[C]);var D=T-x%T,E=[];return E.length=D,this.update(E),this},g.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var f=this.blocks,T=this.lastByteIndex,x=this.blockCount,C=this.s;if(f[T>>2]|=this.padding[T&3],this.lastByteIndex===this.byteCount)for(f[0]=f[x],T=1;T<x+1;++T)f[T]=0;for(f[x-1]|=2147483648,T=0;T<x;++T)C[T]^=f[T];j(C)}},g.prototype.toString=g.prototype.hex=function(){this.finalize();for(var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P="",$;E<x;){for(D=0;D<f&&E<x;++D,++E)$=T[D],P+=p[$>>4&15]+p[$&15]+p[$>>12&15]+p[$>>8&15]+p[$>>20&15]+p[$>>16&15]+p[$>>28&15]+p[$>>24&15];E%f===0&&(j(T),D=0)}return C&&($=T[D],P+=p[$>>4&15]+p[$&15],C>1&&(P+=p[$>>12&15]+p[$>>8&15]),C>2&&(P+=p[$>>20&15]+p[$>>16&15])),P},g.prototype.arrayBuffer=function(){this.finalize();var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P=this.outputBits>>3,$;C?$=new ArrayBuffer(x+1<<2):$=new ArrayBuffer(P);for(var G=new Uint32Array($);E<x;){for(D=0;D<f&&E<x;++D,++E)G[E]=T[D];E%f===0&&j(T)}return C&&(G[D]=T[D],$=$.slice(0,P)),$},g.prototype.buffer=g.prototype.arrayBuffer,g.prototype.digest=g.prototype.array=function(){this.finalize();for(var f=this.blockCount,T=this.s,x=this.outputBlocks,C=this.extraBytes,D=0,E=0,P=[],$,G;E<x;){for(D=0;D<f&&E<x;++D,++E)$=E<<2,G=T[D],P[$]=G&255,P[$+1]=G>>8&255,P[$+2]=G>>16&255,P[$+3]=G>>24&255;E%f===0&&j(T)}return C&&($=E<<2,G=T[D],P[$]=G&255,C>1&&(P[$+1]=G>>8&255),C>2&&(P[$+2]=G>>16&255)),P};function Q(f,T,x){g.call(this,f,T,x)}Q.prototype=new g,Q.prototype.finalize=function(){return this.encode(this.outputBits,!0),g.prototype.finalize.call(this)};var j=function(f){var T,x,C,D,E,P,$,G,L,at,ut,ot,he,St,vt,te,dt,pt,ne,ft,gt,Zt,ct,wt,ee,It,Rt,pe,Ot,Tt,ge,Dt,kt,me,Lt,zt,xe,At,mt,se,bt,yt,ie,xt,Nt,oe,Ct,Mt,ae,Et,lt,ue,Bt,Ht,Ke,Kt,Ft,Ne,Ce,Be,Re,Pe,ve;for(C=0;C<48;C+=2)D=f[0]^f[10]^f[20]^f[30]^f[40],E=f[1]^f[11]^f[21]^f[31]^f[41],P=f[2]^f[12]^f[22]^f[32]^f[42],$=f[3]^f[13]^f[23]^f[33]^f[43],G=f[4]^f[14]^f[24]^f[34]^f[44],L=f[5]^f[15]^f[25]^f[35]^f[45],at=f[6]^f[16]^f[26]^f[36]^f[46],ut=f[7]^f[17]^f[27]^f[37]^f[47],ot=f[8]^f[18]^f[28]^f[38]^f[48],he=f[9]^f[19]^f[29]^f[39]^f[49],T=ot^(P<<1|$>>>31),x=he^($<<1|P>>>31),f[0]^=T,f[1]^=x,f[10]^=T,f[11]^=x,f[20]^=T,f[21]^=x,f[30]^=T,f[31]^=x,f[40]^=T,f[41]^=x,T=D^(G<<1|L>>>31),x=E^(L<<1|G>>>31),f[2]^=T,f[3]^=x,f[12]^=T,f[13]^=x,f[22]^=T,f[23]^=x,f[32]^=T,f[33]^=x,f[42]^=T,f[43]^=x,T=P^(at<<1|ut>>>31),x=$^(ut<<1|at>>>31),f[4]^=T,f[5]^=x,f[14]^=T,f[15]^=x,f[24]^=T,f[25]^=x,f[34]^=T,f[35]^=x,f[44]^=T,f[45]^=x,T=G^(ot<<1|he>>>31),x=L^(he<<1|ot>>>31),f[6]^=T,f[7]^=x,f[16]^=T,f[17]^=x,f[26]^=T,f[27]^=x,f[36]^=T,f[37]^=x,f[46]^=T,f[47]^=x,T=at^(D<<1|E>>>31),x=ut^(E<<1|D>>>31),f[8]^=T,f[9]^=x,f[18]^=T,f[19]^=x,f[28]^=T,f[29]^=x,f[38]^=T,f[39]^=x,f[48]^=T,f[49]^=x,St=f[0],vt=f[1],oe=f[11]<<4|f[10]>>>28,Ct=f[10]<<4|f[11]>>>28,pe=f[20]<<3|f[21]>>>29,Ot=f[21]<<3|f[20]>>>29,Be=f[31]<<9|f[30]>>>23,Re=f[30]<<9|f[31]>>>23,yt=f[40]<<18|f[41]>>>14,ie=f[41]<<18|f[40]>>>14,me=f[2]<<1|f[3]>>>31,Lt=f[3]<<1|f[2]>>>31,te=f[13]<<12|f[12]>>>20,dt=f[12]<<12|f[13]>>>20,Mt=f[22]<<10|f[23]>>>22,ae=f[23]<<10|f[22]>>>22,Tt=f[33]<<13|f[32]>>>19,ge=f[32]<<13|f[33]>>>19,Pe=f[42]<<2|f[43]>>>30,ve=f[43]<<2|f[42]>>>30,Ht=f[5]<<30|f[4]>>>2,Ke=f[4]<<30|f[5]>>>2,zt=f[14]<<6|f[15]>>>26,xe=f[15]<<6|f[14]>>>26,pt=f[25]<<11|f[24]>>>21,ne=f[24]<<11|f[25]>>>21,Et=f[34]<<15|f[35]>>>17,lt=f[35]<<15|f[34]>>>17,Dt=f[45]<<29|f[44]>>>3,kt=f[44]<<29|f[45]>>>3,wt=f[6]<<28|f[7]>>>4,ee=f[7]<<28|f[6]>>>4,Kt=f[17]<<23|f[16]>>>9,Ft=f[16]<<23|f[17]>>>9,At=f[26]<<25|f[27]>>>7,mt=f[27]<<25|f[26]>>>7,ft=f[36]<<21|f[37]>>>11,gt=f[37]<<21|f[36]>>>11,ue=f[47]<<24|f[46]>>>8,Bt=f[46]<<24|f[47]>>>8,xt=f[8]<<27|f[9]>>>5,Nt=f[9]<<27|f[8]>>>5,It=f[18]<<20|f[19]>>>12,Rt=f[19]<<20|f[18]>>>12,Ne=f[29]<<7|f[28]>>>25,Ce=f[28]<<7|f[29]>>>25,se=f[38]<<8|f[39]>>>24,bt=f[39]<<8|f[38]>>>24,Zt=f[48]<<14|f[49]>>>18,ct=f[49]<<14|f[48]>>>18,f[0]=St^~te&pt,f[1]=vt^~dt&ne,f[10]=wt^~It&pe,f[11]=ee^~Rt&Ot,f[20]=me^~zt&At,f[21]=Lt^~xe&mt,f[30]=xt^~oe&Mt,f[31]=Nt^~Ct&ae,f[40]=Ht^~Kt&Ne,f[41]=Ke^~Ft&Ce,f[2]=te^~pt&ft,f[3]=dt^~ne&gt,f[12]=It^~pe&Tt,f[13]=Rt^~Ot&ge,f[22]=zt^~At&se,f[23]=xe^~mt&bt,f[32]=oe^~Mt&Et,f[33]=Ct^~ae&lt,f[42]=Kt^~Ne&Be,f[43]=Ft^~Ce&Re,f[4]=pt^~ft&Zt,f[5]=ne^~gt&ct,f[14]=pe^~Tt&Dt,f[15]=Ot^~ge&kt,f[24]=At^~se&yt,f[25]=mt^~bt&ie,f[34]=Mt^~Et&ue,f[35]=ae^~lt&Bt,f[44]=Ne^~Be&Pe,f[45]=Ce^~Re&ve,f[6]=ft^~Zt&St,f[7]=gt^~ct&vt,f[16]=Tt^~Dt&wt,f[17]=ge^~kt&ee,f[26]=se^~yt&me,f[27]=bt^~ie&Lt,f[36]=Et^~ue&xt,f[37]=lt^~Bt&Nt,f[46]=Be^~Pe&Ht,f[47]=Re^~ve&Ke,f[8]=Zt^~St&te,f[9]=ct^~vt&dt,f[18]=Dt^~wt&It,f[19]=kt^~ee&Rt,f[28]=yt^~me&zt,f[29]=ie^~Lt&xe,f[38]=ue^~xt&oe,f[39]=Bt^~Nt&Ct,f[48]=Pe^~Ht&Kt,f[49]=ve^~Ke&Ft,f[0]^=z[C],f[1]^=z[C+1]};if(v)e.exports=u;else for(y=0;y<d.length;++y)n[d[y]]=u[d[y]]})()})(kF);const qF="logger/5.7.0";let l3=!1,d3=!1;const nc={debug:1,default:2,info:2,warning:3,error:4,off:5};let p3=nc.default,h1=null;function LF(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if("Г©".normalize("NFD")!=="eМЃ")throw new Error("broken implementation")}catch(e){return e.message}return null}const g3=LF();var tp;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(tp||(tp={}));var Xn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Xn||(Xn={}));const m3="0123456789abcdef";class Je{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();nc[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(p3>nc[i])&&console.log.apply(console,r)}debug(...t){this._log(Je.levels.DEBUG,t)}info(...t){this._log(Je.levels.INFO,t)}warn(...t){this._log(Je.levels.WARNING,t)}makeError(t,r,i){if(d3)return this.makeError("censored error",r,{});r||(r=Je.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(w=>{const p=i[w];try{if(p instanceof Uint8Array){let _="";for(let I=0;I<p.length;I++)_+=m3[p[I]>>4],_+=m3[p[I]&15];n.push(w+"=Uint8Array(0x"+_+")")}else n.push(w+"="+JSON.stringify(p))}catch{n.push(w+"="+JSON.stringify(i[w].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const o=t;let c="";switch(r){case Xn.NUMERIC_FAULT:{c="NUMERIC_FAULT";const w=t;switch(w){case"overflow":case"underflow":case"division-by-zero":c+="-"+w;break;case"negative-power":case"negative-width":c+="-unsupported";break;case"unbound-bitwise-result":c+="-unbound-result";break}break}case Xn.CALL_EXCEPTION:case Xn.INSUFFICIENT_FUNDS:case Xn.MISSING_NEW:case Xn.NONCE_EXPIRED:case Xn.REPLACEMENT_UNDERPRICED:case Xn.TRANSACTION_REPLACED:case Xn.UNPREDICTABLE_GAS_LIMIT:c=r;break}c&&(t+=" [ See: https://links.ethers.org/v5-errors-"+c+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const v=new Error(t);return v.reason=o,v.code=r,Object.keys(i).forEach(function(w){v[w]=i[w]}),v}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,Je.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){g3&&this.throwError("platform missing String.prototype.normalize",Je.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:g3})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,Je.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,Je.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Je.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Je.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Je.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return h1||(h1=new Je(qF)),h1}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),l3){if(!t)return;this.globalLogger().throwError("error censorship permanent",Je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}d3=!!t,l3=!!r}static setLogLevel(t){const r=nc[t.toLowerCase()];if(r==null){Je.globalLogger().warn("invalid log level - "+t);return}p3=r}static from(t){return new Je(t)}}Je.errors=Xn,Je.levels=tp;const zF="bytes/5.7.0",ia=new Je(zF);function Yw(e){return!!e.toHexString}function sc(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return sc(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function v3(e){return typeof e=="number"&&e==e&&e%1===0}function cf(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!v3(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!v3(r)||r<0||r>=256)return!1}return!0}function Vw(e,t){if(t||(t={}),typeof e=="number"){ia.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),sc(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Yw(e)&&(e=e.toHexString()),Nh(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":ia.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return sc(new Uint8Array(i))}return cf(e)?sc(new Uint8Array(e)):ia.throwArgumentError("invalid arrayify value","value",e)}function Nh(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t)}const u1="0123456789abcdef";function Ww(e,t){if(t||(t={}),typeof e=="number"){ia.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=u1[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Yw(e))return e.toHexString();if(Nh(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":ia.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(cf(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=u1[(n&240)>>4]+u1[n&15]}return r}return ia.throwArgumentError("invalid hexlify value","value",e)}function Nc(e,t){for(typeof e!="string"?e=Ww(e):Nh(e)||ia.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&ia.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var Xw={exports:{}},$F={},HF=Object.freeze({__proto__:null,default:$F}),KF=UF(HF);(function(e){(function(t,r){function i(s,u){if(!s)throw new Error(u||"Assertion failed")}function n(s,u){s.super_=u;var d=function(){};d.prototype=u.prototype,s.prototype=new d,s.prototype.constructor=s}function o(s,u,d){if(o.isBN(s))return s;this.negative=0,this.words=null,this.length=0,this.red=null,s!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(s||0,u||10,d||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=KF.Buffer}catch{}o.isBN=function(s){return s instanceof o?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===o.wordSize&&Array.isArray(s.words)},o.max=function(s,u){return s.cmp(u)>0?s:u},o.min=function(s,u){return s.cmp(u)<0?s:u},o.prototype._init=function(s,u,d){if(typeof s=="number")return this._initNumber(s,u,d);if(typeof s=="object")return this._initArray(s,u,d);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),s=s.toString().replace(/\s+/g,"");var y=0;s[0]==="-"&&(y++,this.negative=1),y<s.length&&(u===16?this._parseHex(s,y,d):(this._parseBase(s,u,y),d==="le"&&this._initArray(this.toArray(),u,d)))},o.prototype._initNumber=function(s,u,d){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(i(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},o.prototype._initArray=function(s,u,d){if(i(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A,M,S=0;if(d==="be")for(y=s.length-1,A=0;y>=0;y-=3)M=s[y]|s[y-1]<<8|s[y-2]<<16,this.words[A]|=M<<S&67108863,this.words[A+1]=M>>>26-S&67108863,S+=24,S>=26&&(S-=26,A++);else if(d==="le")for(y=0,A=0;y<s.length;y+=3)M=s[y]|s[y+1]<<8|s[y+2]<<16,this.words[A]|=M<<S&67108863,this.words[A+1]=M>>>26-S&67108863,S+=24,S>=26&&(S-=26,A++);return this._strip()};function v(s,u){var d=s.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;i(!1,"Invalid character in "+s)}function w(s,u,d){var y=v(s,d);return d-1>=u&&(y|=v(s,d-1)<<4),y}o.prototype._parseHex=function(s,u,d){this.length=Math.ceil((s.length-u)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var A=0,M=0,S;if(d==="be")for(y=s.length-1;y>=u;y-=2)S=w(s,u,y)<<A,this.words[M]|=S&67108863,A>=18?(A-=18,M+=1,this.words[M]|=S>>>26):A+=8;else{var m=s.length-u;for(y=m%2===0?u+1:u;y<s.length;y+=2)S=w(s,u,y)<<A,this.words[M]|=S&67108863,A>=18?(A-=18,M+=1,this.words[M]|=S>>>26):A+=8}this._strip()};function p(s,u,d,y){for(var A=0,M=0,S=Math.min(s.length,d),m=u;m<S;m++){var a=s.charCodeAt(m)-48;A*=y,a>=49?M=a-49+10:a>=17?M=a-17+10:M=a,i(a>=0&&M<y,"Invalid character"),A+=M}return A}o.prototype._parseBase=function(s,u,d){this.words=[0],this.length=1;for(var y=0,A=1;A<=67108863;A*=u)y++;y--,A=A/u|0;for(var M=s.length-d,S=M%y,m=Math.min(M,M-S)+d,a=0,g=d;g<m;g+=y)a=p(s,g,g+y,u),this.imuln(A),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(S!==0){var Q=1;for(a=p(s,g,s.length,u),g=0;g<S;g++)Q*=u;this.imuln(Q),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},o.prototype.copy=function(s){s.words=new Array(this.length);for(var u=0;u<this.length;u++)s.words[u]=this.words[u];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(s,u){s.words=u.words,s.length=u.length,s.negative=u.negative,s.red=u.red}if(o.prototype._move=function(s){_(s,this)},o.prototype.clone=function(){var s=new o(null);return this.copy(s),s},o.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{o.prototype.inspect=I}else o.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],R=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(s,u){s=s||10,u=u|0||1;var d;if(s===16||s==="hex"){d="";for(var y=0,A=0,M=0;M<this.length;M++){var S=this.words[M],m=((S<<y|A)&16777215).toString(16);A=S>>>24-y&16777215,y+=2,y>=26&&(y-=26,M--),A!==0||M!==this.length-1?d=B[6-m.length]+m+d:d=m+d}for(A!==0&&(d=A.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(s===(s|0)&&s>=2&&s<=36){var a=R[s],g=O[s];d="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var j=Q.modrn(g).toString(s);Q=Q.idivn(g),Q.isZero()?d=j+d:d=B[a-j.length]+j+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},o.prototype.toJSON=function(){return this.toString(16,2)},c&&(o.prototype.toBuffer=function(s,u){return this.toArrayLike(c,s,u)}),o.prototype.toArray=function(s,u){return this.toArrayLike(Array,s,u)};var z=function(s,u){return s.allocUnsafe?s.allocUnsafe(u):new s(u)};o.prototype.toArrayLike=function(s,u,d){this._strip();var y=this.byteLength(),A=d||Math.max(1,y);i(y<=A,"byte array longer than desired length"),i(A>0,"Requested array length <= 0");var M=z(s,A),S=u==="le"?"LE":"BE";return this["_toArrayLike"+S](M,y),M},o.prototype._toArrayLikeLE=function(s,u){for(var d=0,y=0,A=0,M=0;A<this.length;A++){var S=this.words[A]<<M|y;s[d++]=S&255,d<s.length&&(s[d++]=S>>8&255),d<s.length&&(s[d++]=S>>16&255),M===6?(d<s.length&&(s[d++]=S>>24&255),y=0,M=0):(y=S>>>24,M+=2)}if(d<s.length)for(s[d++]=y;d<s.length;)s[d++]=0},o.prototype._toArrayLikeBE=function(s,u){for(var d=s.length-1,y=0,A=0,M=0;A<this.length;A++){var S=this.words[A]<<M|y;s[d--]=S&255,d>=0&&(s[d--]=S>>8&255),d>=0&&(s[d--]=S>>16&255),M===6?(d>=0&&(s[d--]=S>>24&255),y=0,M=0):(y=S>>>24,M+=2)}if(d>=0)for(s[d--]=y;d>=0;)s[d--]=0},Math.clz32?o.prototype._countBits=function(s){return 32-Math.clz32(s)}:o.prototype._countBits=function(s){var u=s,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},o.prototype._zeroBits=function(s){if(s===0)return 26;var u=s,d=0;return u&8191||(d+=13,u>>>=13),u&127||(d+=7,u>>>=7),u&15||(d+=4,u>>>=4),u&3||(d+=2,u>>>=2),u&1||d++,d},o.prototype.bitLength=function(){var s=this.words[this.length-1],u=this._countBits(s);return(this.length-1)*26+u};function k(s){for(var u=new Array(s.bitLength()),d=0;d<u.length;d++){var y=d/26|0,A=d%26;u[d]=s.words[y]>>>A&1}return u}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(s+=d,d!==26)break}return s},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},o.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var u=0;u<s.length;u++)this.words[u]=this.words[u]|s.words[u];return this._strip()},o.prototype.ior=function(s){return i((this.negative|s.negative)===0),this.iuor(s)},o.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},o.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},o.prototype.iuand=function(s){var u;this.length>s.length?u=s:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&s.words[d];return this.length=u.length,this._strip()},o.prototype.iand=function(s){return i((this.negative|s.negative)===0),this.iuand(s)},o.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},o.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},o.prototype.iuxor=function(s){var u,d;this.length>s.length?(u=this,d=s):(u=s,d=this);for(var y=0;y<d.length;y++)this.words[y]=u.words[y]^d.words[y];if(this!==u)for(;y<u.length;y++)this.words[y]=u.words[y];return this.length=u.length,this._strip()},o.prototype.ixor=function(s){return i((this.negative|s.negative)===0),this.iuxor(s)},o.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},o.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},o.prototype.inotn=function(s){i(typeof s=="number"&&s>=0);var u=Math.ceil(s/26)|0,d=s%26;this._expand(u),d>0&&u--;for(var y=0;y<u;y++)this.words[y]=~this.words[y]&67108863;return d>0&&(this.words[y]=~this.words[y]&67108863>>26-d),this._strip()},o.prototype.notn=function(s){return this.clone().inotn(s)},o.prototype.setn=function(s,u){i(typeof s=="number"&&s>=0);var d=s/26|0,y=s%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<y:this.words[d]=this.words[d]&~(1<<y),this._strip()},o.prototype.iadd=function(s){var u;if(this.negative!==0&&s.negative===0)return this.negative=0,u=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,u=this.isub(s),s.negative=1,u._normSign();var d,y;this.length>s.length?(d=this,y=s):(d=s,y=this);for(var A=0,M=0;M<y.length;M++)u=(d.words[M]|0)+(y.words[M]|0)+A,this.words[M]=u&67108863,A=u>>>26;for(;A!==0&&M<d.length;M++)u=(d.words[M]|0)+A,this.words[M]=u&67108863,A=u>>>26;if(this.length=d.length,A!==0)this.words[this.length]=A,this.length++;else if(d!==this)for(;M<d.length;M++)this.words[M]=d.words[M];return this},o.prototype.add=function(s){var u;return s.negative!==0&&this.negative===0?(s.negative=0,u=this.sub(s),s.negative^=1,u):s.negative===0&&this.negative!==0?(this.negative=0,u=s.sub(this),this.negative=1,u):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},o.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var u=this.iadd(s);return s.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var d=this.cmp(s);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,A;d>0?(y=this,A=s):(y=s,A=this);for(var M=0,S=0;S<A.length;S++)u=(y.words[S]|0)-(A.words[S]|0)+M,M=u>>26,this.words[S]=u&67108863;for(;M!==0&&S<y.length;S++)u=(y.words[S]|0)+M,M=u>>26,this.words[S]=u&67108863;if(M===0&&S<y.length&&y!==this)for(;S<y.length;S++)this.words[S]=y.words[S];return this.length=Math.max(this.length,S),y!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(s){return this.clone().isub(s)};function J(s,u,d){d.negative=u.negative^s.negative;var y=s.length+u.length|0;d.length=y,y=y-1|0;var A=s.words[0]|0,M=u.words[0]|0,S=A*M,m=S&67108863,a=S/67108864|0;d.words[0]=m;for(var g=1;g<y;g++){for(var Q=a>>>26,j=a&67108863,f=Math.min(g,u.length-1),T=Math.max(0,g-s.length+1);T<=f;T++){var x=g-T|0;A=s.words[x]|0,M=u.words[T]|0,S=A*M+j,Q+=S/67108864|0,j=S&67108863}d.words[g]=j|0,a=Q|0}return a!==0?d.words[g]=a|0:d.length--,d._strip()}var rt=function(s,u,d){var y=s.words,A=u.words,M=d.words,S=0,m,a,g,Q=y[0]|0,j=Q&8191,f=Q>>>13,T=y[1]|0,x=T&8191,C=T>>>13,D=y[2]|0,E=D&8191,P=D>>>13,$=y[3]|0,G=$&8191,L=$>>>13,at=y[4]|0,ut=at&8191,ot=at>>>13,he=y[5]|0,St=he&8191,vt=he>>>13,te=y[6]|0,dt=te&8191,pt=te>>>13,ne=y[7]|0,ft=ne&8191,gt=ne>>>13,Zt=y[8]|0,ct=Zt&8191,wt=Zt>>>13,ee=y[9]|0,It=ee&8191,Rt=ee>>>13,pe=A[0]|0,Ot=pe&8191,Tt=pe>>>13,ge=A[1]|0,Dt=ge&8191,kt=ge>>>13,me=A[2]|0,Lt=me&8191,zt=me>>>13,xe=A[3]|0,At=xe&8191,mt=xe>>>13,se=A[4]|0,bt=se&8191,yt=se>>>13,ie=A[5]|0,xt=ie&8191,Nt=ie>>>13,oe=A[6]|0,Ct=oe&8191,Mt=oe>>>13,ae=A[7]|0,Et=ae&8191,lt=ae>>>13,ue=A[8]|0,Bt=ue&8191,Ht=ue>>>13,Ke=A[9]|0,Kt=Ke&8191,Ft=Ke>>>13;d.negative=s.negative^u.negative,d.length=19,m=Math.imul(j,Ot),a=Math.imul(j,Tt),a=a+Math.imul(f,Ot)|0,g=Math.imul(f,Tt);var Ne=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,m=Math.imul(x,Ot),a=Math.imul(x,Tt),a=a+Math.imul(C,Ot)|0,g=Math.imul(C,Tt),m=m+Math.imul(j,Dt)|0,a=a+Math.imul(j,kt)|0,a=a+Math.imul(f,Dt)|0,g=g+Math.imul(f,kt)|0;var Ce=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,m=Math.imul(E,Ot),a=Math.imul(E,Tt),a=a+Math.imul(P,Ot)|0,g=Math.imul(P,Tt),m=m+Math.imul(x,Dt)|0,a=a+Math.imul(x,kt)|0,a=a+Math.imul(C,Dt)|0,g=g+Math.imul(C,kt)|0,m=m+Math.imul(j,Lt)|0,a=a+Math.imul(j,zt)|0,a=a+Math.imul(f,Lt)|0,g=g+Math.imul(f,zt)|0;var Be=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Be>>>26)|0,Be&=67108863,m=Math.imul(G,Ot),a=Math.imul(G,Tt),a=a+Math.imul(L,Ot)|0,g=Math.imul(L,Tt),m=m+Math.imul(E,Dt)|0,a=a+Math.imul(E,kt)|0,a=a+Math.imul(P,Dt)|0,g=g+Math.imul(P,kt)|0,m=m+Math.imul(x,Lt)|0,a=a+Math.imul(x,zt)|0,a=a+Math.imul(C,Lt)|0,g=g+Math.imul(C,zt)|0,m=m+Math.imul(j,At)|0,a=a+Math.imul(j,mt)|0,a=a+Math.imul(f,At)|0,g=g+Math.imul(f,mt)|0;var Re=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Re>>>26)|0,Re&=67108863,m=Math.imul(ut,Ot),a=Math.imul(ut,Tt),a=a+Math.imul(ot,Ot)|0,g=Math.imul(ot,Tt),m=m+Math.imul(G,Dt)|0,a=a+Math.imul(G,kt)|0,a=a+Math.imul(L,Dt)|0,g=g+Math.imul(L,kt)|0,m=m+Math.imul(E,Lt)|0,a=a+Math.imul(E,zt)|0,a=a+Math.imul(P,Lt)|0,g=g+Math.imul(P,zt)|0,m=m+Math.imul(x,At)|0,a=a+Math.imul(x,mt)|0,a=a+Math.imul(C,At)|0,g=g+Math.imul(C,mt)|0,m=m+Math.imul(j,bt)|0,a=a+Math.imul(j,yt)|0,a=a+Math.imul(f,bt)|0,g=g+Math.imul(f,yt)|0;var Pe=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,m=Math.imul(St,Ot),a=Math.imul(St,Tt),a=a+Math.imul(vt,Ot)|0,g=Math.imul(vt,Tt),m=m+Math.imul(ut,Dt)|0,a=a+Math.imul(ut,kt)|0,a=a+Math.imul(ot,Dt)|0,g=g+Math.imul(ot,kt)|0,m=m+Math.imul(G,Lt)|0,a=a+Math.imul(G,zt)|0,a=a+Math.imul(L,Lt)|0,g=g+Math.imul(L,zt)|0,m=m+Math.imul(E,At)|0,a=a+Math.imul(E,mt)|0,a=a+Math.imul(P,At)|0,g=g+Math.imul(P,mt)|0,m=m+Math.imul(x,bt)|0,a=a+Math.imul(x,yt)|0,a=a+Math.imul(C,bt)|0,g=g+Math.imul(C,yt)|0,m=m+Math.imul(j,xt)|0,a=a+Math.imul(j,Nt)|0,a=a+Math.imul(f,xt)|0,g=g+Math.imul(f,Nt)|0;var ve=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,m=Math.imul(dt,Ot),a=Math.imul(dt,Tt),a=a+Math.imul(pt,Ot)|0,g=Math.imul(pt,Tt),m=m+Math.imul(St,Dt)|0,a=a+Math.imul(St,kt)|0,a=a+Math.imul(vt,Dt)|0,g=g+Math.imul(vt,kt)|0,m=m+Math.imul(ut,Lt)|0,a=a+Math.imul(ut,zt)|0,a=a+Math.imul(ot,Lt)|0,g=g+Math.imul(ot,zt)|0,m=m+Math.imul(G,At)|0,a=a+Math.imul(G,mt)|0,a=a+Math.imul(L,At)|0,g=g+Math.imul(L,mt)|0,m=m+Math.imul(E,bt)|0,a=a+Math.imul(E,yt)|0,a=a+Math.imul(P,bt)|0,g=g+Math.imul(P,yt)|0,m=m+Math.imul(x,xt)|0,a=a+Math.imul(x,Nt)|0,a=a+Math.imul(C,xt)|0,g=g+Math.imul(C,Nt)|0,m=m+Math.imul(j,Ct)|0,a=a+Math.imul(j,Mt)|0,a=a+Math.imul(f,Ct)|0,g=g+Math.imul(f,Mt)|0;var dr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ft,Ot),a=Math.imul(ft,Tt),a=a+Math.imul(gt,Ot)|0,g=Math.imul(gt,Tt),m=m+Math.imul(dt,Dt)|0,a=a+Math.imul(dt,kt)|0,a=a+Math.imul(pt,Dt)|0,g=g+Math.imul(pt,kt)|0,m=m+Math.imul(St,Lt)|0,a=a+Math.imul(St,zt)|0,a=a+Math.imul(vt,Lt)|0,g=g+Math.imul(vt,zt)|0,m=m+Math.imul(ut,At)|0,a=a+Math.imul(ut,mt)|0,a=a+Math.imul(ot,At)|0,g=g+Math.imul(ot,mt)|0,m=m+Math.imul(G,bt)|0,a=a+Math.imul(G,yt)|0,a=a+Math.imul(L,bt)|0,g=g+Math.imul(L,yt)|0,m=m+Math.imul(E,xt)|0,a=a+Math.imul(E,Nt)|0,a=a+Math.imul(P,xt)|0,g=g+Math.imul(P,Nt)|0,m=m+Math.imul(x,Ct)|0,a=a+Math.imul(x,Mt)|0,a=a+Math.imul(C,Ct)|0,g=g+Math.imul(C,Mt)|0,m=m+Math.imul(j,Et)|0,a=a+Math.imul(j,lt)|0,a=a+Math.imul(f,Et)|0,g=g+Math.imul(f,lt)|0;var Nr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,m=Math.imul(ct,Ot),a=Math.imul(ct,Tt),a=a+Math.imul(wt,Ot)|0,g=Math.imul(wt,Tt),m=m+Math.imul(ft,Dt)|0,a=a+Math.imul(ft,kt)|0,a=a+Math.imul(gt,Dt)|0,g=g+Math.imul(gt,kt)|0,m=m+Math.imul(dt,Lt)|0,a=a+Math.imul(dt,zt)|0,a=a+Math.imul(pt,Lt)|0,g=g+Math.imul(pt,zt)|0,m=m+Math.imul(St,At)|0,a=a+Math.imul(St,mt)|0,a=a+Math.imul(vt,At)|0,g=g+Math.imul(vt,mt)|0,m=m+Math.imul(ut,bt)|0,a=a+Math.imul(ut,yt)|0,a=a+Math.imul(ot,bt)|0,g=g+Math.imul(ot,yt)|0,m=m+Math.imul(G,xt)|0,a=a+Math.imul(G,Nt)|0,a=a+Math.imul(L,xt)|0,g=g+Math.imul(L,Nt)|0,m=m+Math.imul(E,Ct)|0,a=a+Math.imul(E,Mt)|0,a=a+Math.imul(P,Ct)|0,g=g+Math.imul(P,Mt)|0,m=m+Math.imul(x,Et)|0,a=a+Math.imul(x,lt)|0,a=a+Math.imul(C,Et)|0,g=g+Math.imul(C,lt)|0,m=m+Math.imul(j,Bt)|0,a=a+Math.imul(j,Ht)|0,a=a+Math.imul(f,Bt)|0,g=g+Math.imul(f,Ht)|0;var pr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(It,Ot),a=Math.imul(It,Tt),a=a+Math.imul(Rt,Ot)|0,g=Math.imul(Rt,Tt),m=m+Math.imul(ct,Dt)|0,a=a+Math.imul(ct,kt)|0,a=a+Math.imul(wt,Dt)|0,g=g+Math.imul(wt,kt)|0,m=m+Math.imul(ft,Lt)|0,a=a+Math.imul(ft,zt)|0,a=a+Math.imul(gt,Lt)|0,g=g+Math.imul(gt,zt)|0,m=m+Math.imul(dt,At)|0,a=a+Math.imul(dt,mt)|0,a=a+Math.imul(pt,At)|0,g=g+Math.imul(pt,mt)|0,m=m+Math.imul(St,bt)|0,a=a+Math.imul(St,yt)|0,a=a+Math.imul(vt,bt)|0,g=g+Math.imul(vt,yt)|0,m=m+Math.imul(ut,xt)|0,a=a+Math.imul(ut,Nt)|0,a=a+Math.imul(ot,xt)|0,g=g+Math.imul(ot,Nt)|0,m=m+Math.imul(G,Ct)|0,a=a+Math.imul(G,Mt)|0,a=a+Math.imul(L,Ct)|0,g=g+Math.imul(L,Mt)|0,m=m+Math.imul(E,Et)|0,a=a+Math.imul(E,lt)|0,a=a+Math.imul(P,Et)|0,g=g+Math.imul(P,lt)|0,m=m+Math.imul(x,Bt)|0,a=a+Math.imul(x,Ht)|0,a=a+Math.imul(C,Bt)|0,g=g+Math.imul(C,Ht)|0,m=m+Math.imul(j,Kt)|0,a=a+Math.imul(j,Ft)|0,a=a+Math.imul(f,Kt)|0,g=g+Math.imul(f,Ft)|0;var Cr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,m=Math.imul(It,Dt),a=Math.imul(It,kt),a=a+Math.imul(Rt,Dt)|0,g=Math.imul(Rt,kt),m=m+Math.imul(ct,Lt)|0,a=a+Math.imul(ct,zt)|0,a=a+Math.imul(wt,Lt)|0,g=g+Math.imul(wt,zt)|0,m=m+Math.imul(ft,At)|0,a=a+Math.imul(ft,mt)|0,a=a+Math.imul(gt,At)|0,g=g+Math.imul(gt,mt)|0,m=m+Math.imul(dt,bt)|0,a=a+Math.imul(dt,yt)|0,a=a+Math.imul(pt,bt)|0,g=g+Math.imul(pt,yt)|0,m=m+Math.imul(St,xt)|0,a=a+Math.imul(St,Nt)|0,a=a+Math.imul(vt,xt)|0,g=g+Math.imul(vt,Nt)|0,m=m+Math.imul(ut,Ct)|0,a=a+Math.imul(ut,Mt)|0,a=a+Math.imul(ot,Ct)|0,g=g+Math.imul(ot,Mt)|0,m=m+Math.imul(G,Et)|0,a=a+Math.imul(G,lt)|0,a=a+Math.imul(L,Et)|0,g=g+Math.imul(L,lt)|0,m=m+Math.imul(E,Bt)|0,a=a+Math.imul(E,Ht)|0,a=a+Math.imul(P,Bt)|0,g=g+Math.imul(P,Ht)|0,m=m+Math.imul(x,Kt)|0,a=a+Math.imul(x,Ft)|0,a=a+Math.imul(C,Kt)|0,g=g+Math.imul(C,Ft)|0;var Br=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(It,Lt),a=Math.imul(It,zt),a=a+Math.imul(Rt,Lt)|0,g=Math.imul(Rt,zt),m=m+Math.imul(ct,At)|0,a=a+Math.imul(ct,mt)|0,a=a+Math.imul(wt,At)|0,g=g+Math.imul(wt,mt)|0,m=m+Math.imul(ft,bt)|0,a=a+Math.imul(ft,yt)|0,a=a+Math.imul(gt,bt)|0,g=g+Math.imul(gt,yt)|0,m=m+Math.imul(dt,xt)|0,a=a+Math.imul(dt,Nt)|0,a=a+Math.imul(pt,xt)|0,g=g+Math.imul(pt,Nt)|0,m=m+Math.imul(St,Ct)|0,a=a+Math.imul(St,Mt)|0,a=a+Math.imul(vt,Ct)|0,g=g+Math.imul(vt,Mt)|0,m=m+Math.imul(ut,Et)|0,a=a+Math.imul(ut,lt)|0,a=a+Math.imul(ot,Et)|0,g=g+Math.imul(ot,lt)|0,m=m+Math.imul(G,Bt)|0,a=a+Math.imul(G,Ht)|0,a=a+Math.imul(L,Bt)|0,g=g+Math.imul(L,Ht)|0,m=m+Math.imul(E,Kt)|0,a=a+Math.imul(E,Ft)|0,a=a+Math.imul(P,Kt)|0,g=g+Math.imul(P,Ft)|0;var gr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(It,At),a=Math.imul(It,mt),a=a+Math.imul(Rt,At)|0,g=Math.imul(Rt,mt),m=m+Math.imul(ct,bt)|0,a=a+Math.imul(ct,yt)|0,a=a+Math.imul(wt,bt)|0,g=g+Math.imul(wt,yt)|0,m=m+Math.imul(ft,xt)|0,a=a+Math.imul(ft,Nt)|0,a=a+Math.imul(gt,xt)|0,g=g+Math.imul(gt,Nt)|0,m=m+Math.imul(dt,Ct)|0,a=a+Math.imul(dt,Mt)|0,a=a+Math.imul(pt,Ct)|0,g=g+Math.imul(pt,Mt)|0,m=m+Math.imul(St,Et)|0,a=a+Math.imul(St,lt)|0,a=a+Math.imul(vt,Et)|0,g=g+Math.imul(vt,lt)|0,m=m+Math.imul(ut,Bt)|0,a=a+Math.imul(ut,Ht)|0,a=a+Math.imul(ot,Bt)|0,g=g+Math.imul(ot,Ht)|0,m=m+Math.imul(G,Kt)|0,a=a+Math.imul(G,Ft)|0,a=a+Math.imul(L,Kt)|0,g=g+Math.imul(L,Ft)|0;var _r=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(It,bt),a=Math.imul(It,yt),a=a+Math.imul(Rt,bt)|0,g=Math.imul(Rt,yt),m=m+Math.imul(ct,xt)|0,a=a+Math.imul(ct,Nt)|0,a=a+Math.imul(wt,xt)|0,g=g+Math.imul(wt,Nt)|0,m=m+Math.imul(ft,Ct)|0,a=a+Math.imul(ft,Mt)|0,a=a+Math.imul(gt,Ct)|0,g=g+Math.imul(gt,Mt)|0,m=m+Math.imul(dt,Et)|0,a=a+Math.imul(dt,lt)|0,a=a+Math.imul(pt,Et)|0,g=g+Math.imul(pt,lt)|0,m=m+Math.imul(St,Bt)|0,a=a+Math.imul(St,Ht)|0,a=a+Math.imul(vt,Bt)|0,g=g+Math.imul(vt,Ht)|0,m=m+Math.imul(ut,Kt)|0,a=a+Math.imul(ut,Ft)|0,a=a+Math.imul(ot,Kt)|0,g=g+Math.imul(ot,Ft)|0;var Sr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,m=Math.imul(It,xt),a=Math.imul(It,Nt),a=a+Math.imul(Rt,xt)|0,g=Math.imul(Rt,Nt),m=m+Math.imul(ct,Ct)|0,a=a+Math.imul(ct,Mt)|0,a=a+Math.imul(wt,Ct)|0,g=g+Math.imul(wt,Mt)|0,m=m+Math.imul(ft,Et)|0,a=a+Math.imul(ft,lt)|0,a=a+Math.imul(gt,Et)|0,g=g+Math.imul(gt,lt)|0,m=m+Math.imul(dt,Bt)|0,a=a+Math.imul(dt,Ht)|0,a=a+Math.imul(pt,Bt)|0,g=g+Math.imul(pt,Ht)|0,m=m+Math.imul(St,Kt)|0,a=a+Math.imul(St,Ft)|0,a=a+Math.imul(vt,Kt)|0,g=g+Math.imul(vt,Ft)|0;var er=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(er>>>26)|0,er&=67108863,m=Math.imul(It,Ct),a=Math.imul(It,Mt),a=a+Math.imul(Rt,Ct)|0,g=Math.imul(Rt,Mt),m=m+Math.imul(ct,Et)|0,a=a+Math.imul(ct,lt)|0,a=a+Math.imul(wt,Et)|0,g=g+Math.imul(wt,lt)|0,m=m+Math.imul(ft,Bt)|0,a=a+Math.imul(ft,Ht)|0,a=a+Math.imul(gt,Bt)|0,g=g+Math.imul(gt,Ht)|0,m=m+Math.imul(dt,Kt)|0,a=a+Math.imul(dt,Ft)|0,a=a+Math.imul(pt,Kt)|0,g=g+Math.imul(pt,Ft)|0;var Rr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,m=Math.imul(It,Et),a=Math.imul(It,lt),a=a+Math.imul(Rt,Et)|0,g=Math.imul(Rt,lt),m=m+Math.imul(ct,Bt)|0,a=a+Math.imul(ct,Ht)|0,a=a+Math.imul(wt,Bt)|0,g=g+Math.imul(wt,Ht)|0,m=m+Math.imul(ft,Kt)|0,a=a+Math.imul(ft,Ft)|0,a=a+Math.imul(gt,Kt)|0,g=g+Math.imul(gt,Ft)|0;var Pr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,m=Math.imul(It,Bt),a=Math.imul(It,Ht),a=a+Math.imul(Rt,Bt)|0,g=Math.imul(Rt,Ht),m=m+Math.imul(ct,Kt)|0,a=a+Math.imul(ct,Ft)|0,a=a+Math.imul(wt,Kt)|0,g=g+Math.imul(wt,Ft)|0;var Tr=(S+m|0)+((a&8191)<<13)|0;S=(g+(a>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,m=Math.imul(It,Kt),a=Math.imul(It,Ft),a=a+Math.imul(Rt,Kt)|0,g=Math.imul(Rt,Ft);var Or=(S+m|0)+((a&8191)<<13)|0;return S=(g+(a>>>13)|0)+(Or>>>26)|0,Or&=67108863,M[0]=Ne,M[1]=Ce,M[2]=Be,M[3]=Re,M[4]=Pe,M[5]=ve,M[6]=dr,M[7]=Nr,M[8]=pr,M[9]=Cr,M[10]=Br,M[11]=gr,M[12]=_r,M[13]=Sr,M[14]=er,M[15]=Rr,M[16]=Pr,M[17]=Tr,M[18]=Or,S!==0&&(M[19]=S,d.length++),d};Math.imul||(rt=J);function ht(s,u,d){d.negative=u.negative^s.negative,d.length=s.length+u.length;for(var y=0,A=0,M=0;M<d.length-1;M++){var S=A;A=0;for(var m=y&67108863,a=Math.min(M,u.length-1),g=Math.max(0,M-s.length+1);g<=a;g++){var Q=M-g,j=s.words[Q]|0,f=u.words[g]|0,T=j*f,x=T&67108863;S=S+(T/67108864|0)|0,x=x+m|0,m=x&67108863,S=S+(x>>>26)|0,A+=S>>>26,S&=67108863}d.words[M]=m,y=S,S=A}return y!==0?d.words[M]=y:d.length--,d._strip()}function et(s,u,d){return ht(s,u,d)}o.prototype.mulTo=function(s,u){var d,y=this.length+s.length;return this.length===10&&s.length===10?d=rt(this,s,u):y<63?d=J(this,s,u):y<1024?d=ht(this,s,u):d=et(this,s,u),d},o.prototype.mul=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),this.mulTo(s,u)},o.prototype.mulf=function(s){var u=new o(null);return u.words=new Array(this.length+s.length),et(this,s,u)},o.prototype.imul=function(s){return this.clone().mulTo(s,this)},o.prototype.imuln=function(s){var u=s<0;u&&(s=-s),i(typeof s=="number"),i(s<67108864);for(var d=0,y=0;y<this.length;y++){var A=(this.words[y]|0)*s,M=(A&67108863)+(d&67108863);d>>=26,d+=A/67108864|0,d+=M>>>26,this.words[y]=M&67108863}return d!==0&&(this.words[y]=d,this.length++),u?this.ineg():this},o.prototype.muln=function(s){return this.clone().imuln(s)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(s){var u=k(s);if(u.length===0)return new o(1);for(var d=this,y=0;y<u.length&&u[y]===0;y++,d=d.sqr());if(++y<u.length)for(var A=d.sqr();y<u.length;y++,A=A.sqr())u[y]!==0&&(d=d.mul(A));return d},o.prototype.iushln=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,y=67108863>>>26-u<<26-u,A;if(u!==0){var M=0;for(A=0;A<this.length;A++){var S=this.words[A]&y,m=(this.words[A]|0)-S<<u;this.words[A]=m|M,M=S>>>26-u}M&&(this.words[A]=M,this.length++)}if(d!==0){for(A=this.length-1;A>=0;A--)this.words[A+d]=this.words[A];for(A=0;A<d;A++)this.words[A]=0;this.length+=d}return this._strip()},o.prototype.ishln=function(s){return i(this.negative===0),this.iushln(s)},o.prototype.iushrn=function(s,u,d){i(typeof s=="number"&&s>=0);var y;u?y=(u-u%26)/26:y=0;var A=s%26,M=Math.min((s-A)/26,this.length),S=67108863^67108863>>>A<<A,m=d;if(y-=M,y=Math.max(0,y),m){for(var a=0;a<M;a++)m.words[a]=this.words[a];m.length=M}if(M!==0)if(this.length>M)for(this.length-=M,a=0;a<this.length;a++)this.words[a]=this.words[a+M];else this.words[0]=0,this.length=1;var g=0;for(a=this.length-1;a>=0&&(g!==0||a>=y);a--){var Q=this.words[a]|0;this.words[a]=g<<26-A|Q>>>A,g=Q&S}return m&&g!==0&&(m.words[m.length++]=g),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(s,u,d){return i(this.negative===0),this.iushrn(s,u,d)},o.prototype.shln=function(s){return this.clone().ishln(s)},o.prototype.ushln=function(s){return this.clone().iushln(s)},o.prototype.shrn=function(s){return this.clone().ishrn(s)},o.prototype.ushrn=function(s){return this.clone().iushrn(s)},o.prototype.testn=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26,y=1<<u;if(this.length<=d)return!1;var A=this.words[d];return!!(A&y)},o.prototype.imaskn=function(s){i(typeof s=="number"&&s>=0);var u=s%26,d=(s-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var y=67108863^67108863>>>u<<u;this.words[this.length-1]&=y}return this._strip()},o.prototype.maskn=function(s){return this.clone().imaskn(s)},o.prototype.iaddn=function(s){return i(typeof s=="number"),i(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},o.prototype._iaddn=function(s){this.words[0]+=s;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},o.prototype.isubn=function(s){if(i(typeof s=="number"),i(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},o.prototype.addn=function(s){return this.clone().iaddn(s)},o.prototype.subn=function(s){return this.clone().isubn(s)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(s,u,d){var y=s.length+d,A;this._expand(y);var M,S=0;for(A=0;A<s.length;A++){M=(this.words[A+d]|0)+S;var m=(s.words[A]|0)*u;M-=m&67108863,S=(M>>26)-(m/67108864|0),this.words[A+d]=M&67108863}for(;A<this.length-d;A++)M=(this.words[A+d]|0)+S,S=M>>26,this.words[A+d]=M&67108863;if(S===0)return this._strip();for(i(S===-1),S=0,A=0;A<this.length;A++)M=-(this.words[A]|0)+S,S=M>>26,this.words[A]=M&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(s,u){var d=this.length-s.length,y=this.clone(),A=s,M=A.words[A.length-1]|0,S=this._countBits(M);d=26-S,d!==0&&(A=A.ushln(d),y.iushln(d),M=A.words[A.length-1]|0);var m=y.length-A.length,a;if(u!=="mod"){a=new o(null),a.length=m+1,a.words=new Array(a.length);for(var g=0;g<a.length;g++)a.words[g]=0}var Q=y.clone()._ishlnsubmul(A,1,m);Q.negative===0&&(y=Q,a&&(a.words[m]=1));for(var j=m-1;j>=0;j--){var f=(y.words[A.length+j]|0)*67108864+(y.words[A.length+j-1]|0);for(f=Math.min(f/M|0,67108863),y._ishlnsubmul(A,f,j);y.negative!==0;)f--,y.negative=0,y._ishlnsubmul(A,1,j),y.isZero()||(y.negative^=1);a&&(a.words[j]=f)}return a&&a._strip(),y._strip(),u!=="div"&&d!==0&&y.iushrn(d),{div:a||null,mod:y}},o.prototype.divmod=function(s,u,d){if(i(!s.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var y,A,M;return this.negative!==0&&s.negative===0?(M=this.neg().divmod(s,u),u!=="mod"&&(y=M.div.neg()),u!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.iadd(s)),{div:y,mod:A}):this.negative===0&&s.negative!==0?(M=this.divmod(s.neg(),u),u!=="mod"&&(y=M.div.neg()),{div:y,mod:M.mod}):this.negative&s.negative?(M=this.neg().divmod(s.neg(),u),u!=="div"&&(A=M.mod.neg(),d&&A.negative!==0&&A.isub(s)),{div:M.div,mod:A}):s.length>this.length||this.cmp(s)<0?{div:new o(0),mod:this}:s.length===1?u==="div"?{div:this.divn(s.words[0]),mod:null}:u==="mod"?{div:null,mod:new o(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new o(this.modrn(s.words[0]))}:this._wordDiv(s,u)},o.prototype.div=function(s){return this.divmod(s,"div",!1).div},o.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},o.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},o.prototype.divRound=function(s){var u=this.divmod(s);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(s):u.mod,y=s.ushrn(1),A=s.andln(1),M=d.cmp(y);return M<0||A===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},o.prototype.modrn=function(s){var u=s<0;u&&(s=-s),i(s<=67108863);for(var d=(1<<26)%s,y=0,A=this.length-1;A>=0;A--)y=(d*y+(this.words[A]|0))%s;return u?-y:y},o.prototype.modn=function(s){return this.modrn(s)},o.prototype.idivn=function(s){var u=s<0;u&&(s=-s),i(s<=67108863);for(var d=0,y=this.length-1;y>=0;y--){var A=(this.words[y]|0)+d*67108864;this.words[y]=A/s|0,d=A%s}return this._strip(),u?this.ineg():this},o.prototype.divn=function(s){return this.clone().idivn(s)},o.prototype.egcd=function(s){i(s.negative===0),i(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var y=new o(1),A=new o(0),M=new o(0),S=new o(1),m=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++m;for(var a=d.clone(),g=u.clone();!u.isZero();){for(var Q=0,j=1;!(u.words[0]&j)&&Q<26;++Q,j<<=1);if(Q>0)for(u.iushrn(Q);Q-- >0;)(y.isOdd()||A.isOdd())&&(y.iadd(a),A.isub(g)),y.iushrn(1),A.iushrn(1);for(var f=0,T=1;!(d.words[0]&T)&&f<26;++f,T<<=1);if(f>0)for(d.iushrn(f);f-- >0;)(M.isOdd()||S.isOdd())&&(M.iadd(a),S.isub(g)),M.iushrn(1),S.iushrn(1);u.cmp(d)>=0?(u.isub(d),y.isub(M),A.isub(S)):(d.isub(u),M.isub(y),S.isub(A))}return{a:M,b:S,gcd:d.iushln(m)}},o.prototype._invmp=function(s){i(s.negative===0),i(!s.isZero());var u=this,d=s.clone();u.negative!==0?u=u.umod(s):u=u.clone();for(var y=new o(1),A=new o(0),M=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var S=0,m=1;!(u.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(u.iushrn(S);S-- >0;)y.isOdd()&&y.iadd(M),y.iushrn(1);for(var a=0,g=1;!(d.words[0]&g)&&a<26;++a,g<<=1);if(a>0)for(d.iushrn(a);a-- >0;)A.isOdd()&&A.iadd(M),A.iushrn(1);u.cmp(d)>=0?(u.isub(d),y.isub(A)):(d.isub(u),A.isub(y))}var Q;return u.cmpn(1)===0?Q=y:Q=A,Q.cmpn(0)<0&&Q.iadd(s),Q},o.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var u=this.clone(),d=s.clone();u.negative=0,d.negative=0;for(var y=0;u.isEven()&&d.isEven();y++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var A=u.cmp(d);if(A<0){var M=u;u=d,d=M}else if(A===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(y)},o.prototype.invm=function(s){return this.egcd(s).a.umod(s)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(s){return this.words[0]&s},o.prototype.bincn=function(s){i(typeof s=="number");var u=s%26,d=(s-u)/26,y=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=y,this;for(var A=y,M=d;A!==0&&M<this.length;M++){var S=this.words[M]|0;S+=A,A=S>>>26,S&=67108863,this.words[M]=S}return A!==0&&(this.words[M]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(s){var u=s<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(s=-s),i(s<=67108863,"Number is too big");var y=this.words[0]|0;d=y===s?0:y<s?-1:1}return this.negative!==0?-d|0:d},o.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var u=this.ucmp(s);return this.negative!==0?-u|0:u},o.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var y=this.words[d]|0,A=s.words[d]|0;if(y!==A){y<A?u=-1:y>A&&(u=1);break}}return u},o.prototype.gtn=function(s){return this.cmpn(s)===1},o.prototype.gt=function(s){return this.cmp(s)===1},o.prototype.gten=function(s){return this.cmpn(s)>=0},o.prototype.gte=function(s){return this.cmp(s)>=0},o.prototype.ltn=function(s){return this.cmpn(s)===-1},o.prototype.lt=function(s){return this.cmp(s)===-1},o.prototype.lten=function(s){return this.cmpn(s)<=0},o.prototype.lte=function(s){return this.cmp(s)<=0},o.prototype.eqn=function(s){return this.cmpn(s)===0},o.prototype.eq=function(s){return this.cmp(s)===0},o.red=function(s){return new _t(s)},o.prototype.toRed=function(s){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(s){return this.red=s,this},o.prototype.forceRed=function(s){return i(!this.red,"Already a number in reduction context"),this._forceRed(s)},o.prototype.redAdd=function(s){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},o.prototype.redIAdd=function(s){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},o.prototype.redSub=function(s){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},o.prototype.redISub=function(s){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},o.prototype.redShl=function(s){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},o.prototype.redMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},o.prototype.redIMul=function(s){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(s){return i(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var W={k256:null,p224:null,p192:null,p25519:null};function V(s,u){this.name=s,this.p=new o(u,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var s=new o(null);return s.words=new Array(Math.ceil(this.n/13)),s},V.prototype.ireduce=function(s){var u=s,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var y=d<this.n?-1:u.ucmp(this.p);return y===0?(u.words[0]=0,u.length=1):y>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},V.prototype.split=function(s,u){s.iushrn(this.n,0,u)},V.prototype.imulK=function(s){return s.imul(this.k)};function nt(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(nt,V),nt.prototype.split=function(s,u){for(var d=4194303,y=Math.min(s.length,9),A=0;A<y;A++)u.words[A]=s.words[A];if(u.length=y,s.length<=9){s.words[0]=0,s.length=1;return}var M=s.words[9];for(u.words[u.length++]=M&d,A=10;A<s.length;A++){var S=s.words[A]|0;s.words[A-10]=(S&d)<<4|M>>>22,M=S}M>>>=22,s.words[A-10]=M,M===0&&s.length>10?s.length-=10:s.length-=9},nt.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var u=0,d=0;d<s.length;d++){var y=s.words[d]|0;u+=y*977,s.words[d]=u&67108863,u=y*64+(u/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function it(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(it,V);function Qt(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Qt,V);function Yt(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(Yt,V),Yt.prototype.imulK=function(s){for(var u=0,d=0;d<s.length;d++){var y=(s.words[d]|0)*19+u,A=y&67108863;y>>>=26,s.words[d]=A,u=y}return u!==0&&(s.words[s.length++]=u),s},o._prime=function(s){if(W[s])return W[s];var u;if(s==="k256")u=new nt;else if(s==="p224")u=new it;else if(s==="p192")u=new Qt;else if(s==="p25519")u=new Yt;else throw new Error("Unknown prime "+s);return W[s]=u,u};function _t(s){if(typeof s=="string"){var u=o._prime(s);this.m=u.p,this.prime=u}else i(s.gtn(1),"modulus must be greater than 1"),this.m=s,this.prime=null}_t.prototype._verify1=function(s){i(s.negative===0,"red works only with positives"),i(s.red,"red works only with red numbers")},_t.prototype._verify2=function(s,u){i((s.negative|u.negative)===0,"red works only with positives"),i(s.red&&s.red===u.red,"red works only with red numbers")},_t.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},_t.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},_t.prototype.add=function(s,u){this._verify2(s,u);var d=s.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},_t.prototype.iadd=function(s,u){this._verify2(s,u);var d=s.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},_t.prototype.sub=function(s,u){this._verify2(s,u);var d=s.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},_t.prototype.isub=function(s,u){this._verify2(s,u);var d=s.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},_t.prototype.shl=function(s,u){return this._verify1(s),this.imod(s.ushln(u))},_t.prototype.imul=function(s,u){return this._verify2(s,u),this.imod(s.imul(u))},_t.prototype.mul=function(s,u){return this._verify2(s,u),this.imod(s.mul(u))},_t.prototype.isqr=function(s){return this.imul(s,s.clone())},_t.prototype.sqr=function(s){return this.mul(s,s)},_t.prototype.sqrt=function(s){if(s.isZero())return s.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var d=this.m.add(new o(1)).iushrn(2);return this.pow(s,d)}for(var y=this.m.subn(1),A=0;!y.isZero()&&y.andln(1)===0;)A++,y.iushrn(1);i(!y.isZero());var M=new o(1).toRed(this),S=M.redNeg(),m=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new o(2*a*a).toRed(this);this.pow(a,m).cmp(S)!==0;)a.redIAdd(S);for(var g=this.pow(a,y),Q=this.pow(s,y.addn(1).iushrn(1)),j=this.pow(s,y),f=A;j.cmp(M)!==0;){for(var T=j,x=0;T.cmp(M)!==0;x++)T=T.redSqr();i(x<f);var C=this.pow(g,new o(1).iushln(f-x-1));Q=Q.redMul(C),g=C.redSqr(),j=j.redMul(g),f=x}return Q},_t.prototype.invm=function(s){var u=s._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},_t.prototype.pow=function(s,u){if(u.isZero())return new o(1).toRed(this);if(u.cmpn(1)===0)return s.clone();var d=4,y=new Array(1<<d);y[0]=new o(1).toRed(this),y[1]=s;for(var A=2;A<y.length;A++)y[A]=this.mul(y[A-1],s);var M=y[0],S=0,m=0,a=u.bitLength()%26;for(a===0&&(a=26),A=u.length-1;A>=0;A--){for(var g=u.words[A],Q=a-1;Q>=0;Q--){var j=g>>Q&1;if(M!==y[0]&&(M=this.sqr(M)),j===0&&S===0){m=0;continue}S<<=1,S|=j,m++,!(m!==d&&(A!==0||Q!==0))&&(M=this.mul(M,y[S]),m=0,S=0)}a=26}return M},_t.prototype.convertTo=function(s){var u=s.umod(this.m);return u===s?u.clone():u},_t.prototype.convertFrom=function(s){var u=s.clone();return u.red=null,u},o.mont=function(s){return new Vt(s)};function Vt(s){_t.call(this,s),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(Vt,_t),Vt.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Vt.prototype.convertFrom=function(s){var u=this.imod(s.mul(this.rinv));return u.red=null,u},Vt.prototype.imul=function(s,u){if(s.isZero()||u.isZero())return s.words[0]=0,s.length=1,s;var d=s.imul(u),y=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(y).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},Vt.prototype.mul=function(s,u){if(s.isZero()||u.isZero())return new o(0)._forceRed(this);var d=s.mul(u),y=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=d.isub(y).iushrn(this.shift),M=A;return A.cmp(this.m)>=0?M=A.isub(this.m):A.cmpn(0)<0&&(M=A.iadd(this.m)),M._forceRed(this)},Vt.prototype.invm=function(s){var u=this.imod(s._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,Jw)})(Xw);var _e=Xw.exports;const Zw="bignumber/5.7.0";var ep=_e.BN;const bo=new Je(Zw),f1={},y3=9007199254740991;function jF(e){return e!=null&&(ar.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Nh(e)||typeof e=="bigint"||cf(e))}let w3=!1;class ar{constructor(t,r){t!==f1&&bo.throwError("cannot call constructor directly; use BigNumber.from",Je.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Fi(qe(this).fromTwos(t))}toTwos(t){return Fi(qe(this).toTwos(t))}abs(){return this._hex[0]==="-"?ar.from(this._hex.substring(1)):this}add(t){return Fi(qe(this).add(qe(t)))}sub(t){return Fi(qe(this).sub(qe(t)))}div(t){return ar.from(t).isZero()&&An("division-by-zero","div"),Fi(qe(this).div(qe(t)))}mul(t){return Fi(qe(this).mul(qe(t)))}mod(t){const r=qe(t);return r.isNeg()&&An("division-by-zero","mod"),Fi(qe(this).umod(r))}pow(t){const r=qe(t);return r.isNeg()&&An("negative-power","pow"),Fi(qe(this).pow(r))}and(t){const r=qe(t);return(this.isNegative()||r.isNeg())&&An("unbound-bitwise-result","and"),Fi(qe(this).and(r))}or(t){const r=qe(t);return(this.isNegative()||r.isNeg())&&An("unbound-bitwise-result","or"),Fi(qe(this).or(r))}xor(t){const r=qe(t);return(this.isNegative()||r.isNeg())&&An("unbound-bitwise-result","xor"),Fi(qe(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&An("negative-width","mask"),Fi(qe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&An("negative-width","shl"),Fi(qe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&An("negative-width","shr"),Fi(qe(this).shrn(t))}eq(t){return qe(this).eq(qe(t))}lt(t){return qe(this).lt(qe(t))}lte(t){return qe(this).lte(qe(t))}gt(t){return qe(this).gt(qe(t))}gte(t){return qe(this).gte(qe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return qe(this).isZero()}toNumber(){try{return qe(this).toNumber()}catch{An("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return bo.throwError("this platform does not support BigInt",Je.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?w3||(w3=!0,bo.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?bo.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Je.errors.UNEXPECTED_ARGUMENT,{}):bo.throwError("BigNumber.toString does not accept parameters",Je.errors.UNEXPECTED_ARGUMENT,{})),qe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof ar)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new ar(f1,Zu(t)):t.match(/^-?[0-9]+$/)?new ar(f1,Zu(new ep(t))):bo.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&An("underflow","BigNumber.from",t),(t>=y3||t<=-y3)&&An("overflow","BigNumber.from",t),ar.from(String(t));const r=t;if(typeof r=="bigint")return ar.from(r.toString());if(cf(r))return ar.from(Ww(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return ar.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Nh(i)||i[0]==="-"&&Nh(i.substring(1))))return ar.from(i)}return bo.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Zu(e){if(typeof e!="string")return Zu(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&bo.throwArgumentError("invalid hex","value",e),e=Zu(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Fi(e){return ar.from(Zu(e))}function qe(e){const t=ar.from(e).toHexString();return t[0]==="-"?new ep("-"+t.substring(3),16):new ep(t.substring(2),16)}function An(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),bo.throwError(e,Je.errors.NUMERIC_FAULT,i)}const bi=new Je(Zw),Qu={},tA=ar.from(0),eA=ar.from(-1);function rA(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),bi.throwError(e,Je.errors.NUMERIC_FAULT,n)}let Gu="0";for(;Gu.length<256;)Gu+=Gu;function Pp(e){if(typeof e!="number")try{e=ar.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Gu.substring(0,e):bi.throwArgumentError("invalid decimal size","decimals",e)}function c1(e,t){t==null&&(t=0);const r=Pp(t);e=ar.from(e);const i=e.lt(tA);i&&(e=e.mul(eA));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return r.length===1?e=o:e=o+"."+n,i&&(e="-"+e),e}function mo(e,t){t==null&&(t=0);const r=Pp(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&bi.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&bi.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&bi.throwArgumentError("too many decimal points","value",e);let o=n[0],c=n[1];for(o||(o="0"),c||(c="0");c[c.length-1]==="0";)c=c.substring(0,c.length-1);for(c.length>r.length-1&&rA("fractional component exceeds decimals","underflow","parseFixed"),c===""&&(c="0");c.length<r.length-1;)c+="0";const v=ar.from(o),w=ar.from(c);let p=v.mul(r).add(w);return i&&(p=p.mul(eA)),p}class yh{constructor(t,r,i,n){t!==Qu&&bi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Je.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=Pp(n),Object.freeze(this)}static from(t){if(t instanceof yh)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||bi.throwArgumentError("invalid fixed format","format",t),r=o[1]!=="u",i=parseInt(o[2]),n=parseInt(o[3])}}else if(t){const o=(c,v,w)=>t[c]==null?w:(typeof t[c]!==v&&bi.throwArgumentError("invalid fixed format ("+c+" not "+v+")","format."+c,t[c]),t[c]);r=o("signed","boolean",r),i=o("width","number",i),n=o("decimals","number",n)}return i%8&&bi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&bi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new yh(Qu,r,i,n)}}class ti{constructor(t,r,i,n){t!==Qu&&bi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Je.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&bi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=mo(this._value,this.format.decimals),i=mo(t._value,t.format.decimals);return ti.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=mo(this._value,this.format.decimals),i=mo(t._value,t.format.decimals);return ti.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=mo(this._value,this.format.decimals),i=mo(t._value,t.format.decimals);return ti.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=mo(this._value,this.format.decimals),i=mo(t._value,t.format.decimals);return ti.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=ti.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(A3.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=ti.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(A3.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&bi.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=ti.from("1"+Gu.substring(0,t),this.format),n=QF.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&bi.throwArgumentError("invalid byte width","width",t);const r=ar.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Nc(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return ti.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!jF(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),ti.fromString(c1(t,r),yh.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=yh.from(r),n=mo(t,i.decimals);!i.signed&&n.lt(tA)&&rA("unsigned value cannot be negative","overflow","value",t);let o=null;i.signed?o=n.toTwos(i.width).toHexString():(o=n.toHexString(),o=Nc(o,i.width/8));const c=c1(n,i.decimals);return new ti(Qu,o,c,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=yh.from(r);if(Vw(t).length>i.width/8)throw new Error("overflow");let n=ar.from(t);i.signed&&(n=n.fromTwos(i.width));const o=n.toTwos((i.signed?0:1)+i.width).toHexString(),c=c1(n,i.decimals);return new ti(Qu,o,c,i)}static from(t,r){if(typeof t=="string")return ti.fromString(t,r);if(cf(t))return ti.fromBytes(t,r);try{return ti.fromValue(t,0,r)}catch(i){if(i.code!==Je.errors.INVALID_ARGUMENT)throw i}return bi.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const A3=ti.from(1),QF=ti.from("0.5");var b3;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(b3||(b3={}));var M3;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(M3||(M3={}));function GF(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function l1(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let o=n.split(":");r+=parseInt(o[0],16),i[r]=t(o[1])}),i}function E3(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}E3("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),l1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),l1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),l1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",GF),E3("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function JF(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return Vw(t)}function iA(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(o,c){i.call(o,function(v){c>0&&Array.isArray(v)?n(v,c-1):r.push(v)})};return n(e,t),r}function YF(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function VF(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,o=[0,1];for(let W=1;W<i;W++)o.push(n+=r());let c=r(),v=t;t+=c;let w=0,p=0;function _(){return w==0&&(p=p<<8|e[t++],w=8),p>>--w&1}const I=31,B=Math.pow(2,I),R=B>>>1,O=R>>1,z=B-1;let k=0;for(let W=0;W<I;W++)k=k<<1|_();let J=[],rt=0,ht=B;for(;;){let W=Math.floor(((k-rt+1)*n-1)/ht),V=0,nt=i;for(;nt-V>1;){let Yt=V+nt>>>1;W<o[Yt]?nt=Yt:V=Yt}if(V==0)break;J.push(V);let it=rt+Math.floor(ht*o[V]/n),Qt=rt+Math.floor(ht*o[V+1]/n)-1;for(;!((it^Qt)&R);)k=k<<1&z|_(),it=it<<1&z,Qt=Qt<<1&z|1;for(;it&~Qt&O;)k=k&R|k<<1&z>>>1|_(),it=it<<1^R,Qt=(Qt^R)<<1|R|1;rt=it,ht=1+Qt-it}let et=i-4;return J.map(W=>{switch(W-et){case 3:return et+65792+(e[v++]<<16|e[v++]<<8|e[v++]);case 2:return et+256+(e[v++]<<8|e[v++]);case 1:return et+e[v++];default:return W-1}})}function WF(e){let t=0;return()=>e[t++]}function XF(e){return WF(VF(e))}function ZF(e){return e&1?~e>>1:e>>1}function tU(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function _3(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function eU(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=ZF(t());return r}function Cc(e,t){let r=_3(e(),e),i=e(),n=_3(i,e),o=tU(i,e);for(let c=0;c<i;c++)for(let v=0;v<o[c];v++)r.push(n[c]+v);return t?r.map(c=>t[c]):r}function rU(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(nU(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(sU(r,e))}return YF(iA(t))}function iU(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function nA(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)eU(e,r).forEach((o,c)=>i[c].push(o));return i}function nU(e,t){let r=1+t(),i=t(),n=iU(t),o=nA(n.length,1+e,t);return iA(o.map((c,v)=>{const w=c[0],p=c.slice(1);return Array(n[v]).fill(void 0).map((_,I)=>{let B=I*i;return[w+I*r,p.map(R=>R+B)]})}))}function sU(e,t){let r=1+t();return nA(r,1+e,t).map(i=>[i[0],i.slice(1)])}function oU(e){let t=Cc(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let p=Cc(e,t);if(p.length==0)break;i.push({set:new Set(p),node:r()})}i.sort((p,_)=>_.set.size-p.set.size);let n=e(),o=n%3;n=n/3|0;let c=!!(n&1);n>>=1;let v=n==1,w=n==2;return{branches:i,valid:o,fe0f:c,save:v,check:w}}}function aU(){return XF(JF("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"))}const D0=aU();new Set(Cc(D0)),new Set(Cc(D0)),rU(D0),oU(D0);const hU=new Uint8Array(32);hU.fill(0);const uU=new Uint8Array(32);uU.fill(0),ar.from(-1);const fU=ar.from(0),cU=ar.from(1);ar.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Nc(cU.toHexString(),32),Nc(fU.toHexString(),32);var xs={},He={},lf=sA;function sA(e,t){if(!e)throw new Error(t||"Assertion failed")}sA.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var rp={exports:{}};typeof Object.create=="function"?rp.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:rp.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var lU=lf,dU=rp.exports;He.inherits=dU;function pU(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function gU(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?r[i++]=o:o<2048?(r[i++]=o>>6|192,r[i++]=o&63|128):pU(e,n)?(o=65536+((o&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=o>>18|240,r[i++]=o>>12&63|128,r[i++]=o>>6&63|128,r[i++]=o&63|128):(r[i++]=o>>12|224,r[i++]=o>>6&63|128,r[i++]=o&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}He.toArray=gU;function mU(e){for(var t="",r=0;r<e.length;r++)t+=aA(e[r].toString(16));return t}He.toHex=mU;function oA(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}He.htonl=oA;function vU(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=oA(n)),r+=hA(n.toString(16))}return r}He.toHex32=vU;function aA(e){return e.length===1?"0"+e:e}He.zero2=aA;function hA(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}He.zero8=hA;function yU(e,t,r,i){var n=r-t;lU(n%4===0);for(var o=new Array(n/4),c=0,v=t;c<o.length;c++,v+=4){var w;i==="big"?w=e[v]<<24|e[v+1]<<16|e[v+2]<<8|e[v+3]:w=e[v+3]<<24|e[v+2]<<16|e[v+1]<<8|e[v],o[c]=w>>>0}return o}He.join32=yU;function wU(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var o=e[i];t==="big"?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o&255):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=o&255)}return r}He.split32=wU;function AU(e,t){return e>>>t|e<<32-t}He.rotr32=AU;function bU(e,t){return e<<t|e>>>32-t}He.rotl32=bU;function MU(e,t){return e+t>>>0}He.sum32=MU;function EU(e,t,r){return e+t+r>>>0}He.sum32_3=EU;function _U(e,t,r,i){return e+t+r+i>>>0}He.sum32_4=_U;function SU(e,t,r,i,n){return e+t+r+i+n>>>0}He.sum32_5=SU;function IU(e,t,r,i){var n=e[t],o=e[t+1],c=i+o>>>0,v=(c<i?1:0)+r+n;e[t]=v>>>0,e[t+1]=c}He.sum64=IU;function xU(e,t,r,i){var n=t+i>>>0,o=(n<t?1:0)+e+r;return o>>>0}He.sum64_hi=xU;function NU(e,t,r,i){var n=t+i;return n>>>0}He.sum64_lo=NU;function CU(e,t,r,i,n,o,c,v){var w=0,p=t;p=p+i>>>0,w+=p<t?1:0,p=p+o>>>0,w+=p<o?1:0,p=p+v>>>0,w+=p<v?1:0;var _=e+r+n+c+w;return _>>>0}He.sum64_4_hi=CU;function BU(e,t,r,i,n,o,c,v){var w=t+i+o+v;return w>>>0}He.sum64_4_lo=BU;function RU(e,t,r,i,n,o,c,v,w,p){var _=0,I=t;I=I+i>>>0,_+=I<t?1:0,I=I+o>>>0,_+=I<o?1:0,I=I+v>>>0,_+=I<v?1:0,I=I+p>>>0,_+=I<p?1:0;var B=e+r+n+c+w+_;return B>>>0}He.sum64_5_hi=RU;function PU(e,t,r,i,n,o,c,v,w,p){var _=t+i+o+v+p;return _>>>0}He.sum64_5_lo=PU;function TU(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}He.rotr64_hi=TU;function OU(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}He.rotr64_lo=OU;function DU(e,t,r){return e>>>r}He.shr64_hi=DU;function FU(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}He.shr64_lo=FU;var Jh={},S3=He,UU=lf;function F0(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Jh.BlockHash=F0,F0.prototype.update=function(e,t){if(e=S3.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=S3.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},F0.prototype.digest=function(e){return this.update(this._pad()),UU(this.pending===null),this._digest(e)},F0.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,o=8;o<this.padLength;o++)i[n++]=0;return i};var uh={},eo={},kU=He,Gs=kU.rotr32;function qU(e,t,r,i){if(e===0)return uA(t,r,i);if(e===1||e===3)return cA(t,r,i);if(e===2)return fA(t,r,i)}eo.ft_1=qU;function uA(e,t,r){return e&t^~e&r}eo.ch32=uA;function fA(e,t,r){return e&t^e&r^t&r}eo.maj32=fA;function cA(e,t,r){return e^t^r}eo.p32=cA;function LU(e){return Gs(e,2)^Gs(e,13)^Gs(e,22)}eo.s0_256=LU;function zU(e){return Gs(e,6)^Gs(e,11)^Gs(e,25)}eo.s1_256=zU;function $U(e){return Gs(e,7)^Gs(e,18)^e>>>3}eo.g0_256=$U;function HU(e){return Gs(e,17)^Gs(e,19)^e>>>10}eo.g1_256=HU;var Ch=He,KU=Jh,jU=eo,d1=Ch.rotl32,Cu=Ch.sum32,QU=Ch.sum32_5,GU=jU.ft_1,lA=KU.BlockHash,JU=[1518500249,1859775393,2400959708,3395469782];function Ds(){if(!(this instanceof Ds))return new Ds;lA.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ch.inherits(Ds,lA);var YU=Ds;Ds.blockSize=512,Ds.outSize=160,Ds.hmacStrength=80,Ds.padLength=64,Ds.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=d1(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],o=this.h[1],c=this.h[2],v=this.h[3],w=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),_=QU(d1(n,5),GU(p,o,c,v),w,r[i],JU[p]);w=v,v=c,c=d1(o,30),o=n,n=_}this.h[0]=Cu(this.h[0],n),this.h[1]=Cu(this.h[1],o),this.h[2]=Cu(this.h[2],c),this.h[3]=Cu(this.h[3],v),this.h[4]=Cu(this.h[4],w)},Ds.prototype._digest=function(e){return e==="hex"?Ch.toHex32(this.h,"big"):Ch.split32(this.h,"big")};var Bh=He,VU=Jh,Yh=eo,WU=lf,jn=Bh.sum32,XU=Bh.sum32_4,ZU=Bh.sum32_5,tk=Yh.ch32,ek=Yh.maj32,rk=Yh.s0_256,ik=Yh.s1_256,nk=Yh.g0_256,sk=Yh.g1_256,dA=VU.BlockHash,ok=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fs(){if(!(this instanceof Fs))return new Fs;dA.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ok,this.W=new Array(64)}Bh.inherits(Fs,dA);var pA=Fs;Fs.blockSize=512,Fs.outSize=256,Fs.hmacStrength=192,Fs.padLength=64,Fs.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=XU(sk(r[i-2]),r[i-7],nk(r[i-15]),r[i-16]);var n=this.h[0],o=this.h[1],c=this.h[2],v=this.h[3],w=this.h[4],p=this.h[5],_=this.h[6],I=this.h[7];for(WU(this.k.length===r.length),i=0;i<r.length;i++){var B=ZU(I,ik(w),tk(w,p,_),this.k[i],r[i]),R=jn(rk(n),ek(n,o,c));I=_,_=p,p=w,w=jn(v,B),v=c,c=o,o=n,n=jn(B,R)}this.h[0]=jn(this.h[0],n),this.h[1]=jn(this.h[1],o),this.h[2]=jn(this.h[2],c),this.h[3]=jn(this.h[3],v),this.h[4]=jn(this.h[4],w),this.h[5]=jn(this.h[5],p),this.h[6]=jn(this.h[6],_),this.h[7]=jn(this.h[7],I)},Fs.prototype._digest=function(e){return e==="hex"?Bh.toHex32(this.h,"big"):Bh.split32(this.h,"big")};var ip=He,gA=pA;function No(){if(!(this instanceof No))return new No;gA.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ip.inherits(No,gA);var ak=No;No.blockSize=512,No.outSize=224,No.hmacStrength=192,No.padLength=64,No.prototype._digest=function(e){return e==="hex"?ip.toHex32(this.h.slice(0,7),"big"):ip.split32(this.h.slice(0,7),"big")};var ji=He,hk=Jh,uk=lf,Js=ji.rotr64_hi,Ys=ji.rotr64_lo,mA=ji.shr64_hi,vA=ji.shr64_lo,Ho=ji.sum64,p1=ji.sum64_hi,g1=ji.sum64_lo,fk=ji.sum64_4_hi,ck=ji.sum64_4_lo,lk=ji.sum64_5_hi,dk=ji.sum64_5_lo,yA=hk.BlockHash,pk=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function rs(){if(!(this instanceof rs))return new rs;yA.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=pk,this.W=new Array(160)}ji.inherits(rs,yA);var wA=rs;rs.blockSize=1024,rs.outSize=512,rs.hmacStrength=192,rs.padLength=128,rs.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=Sk(r[i-4],r[i-3]),o=Ik(r[i-4],r[i-3]),c=r[i-14],v=r[i-13],w=Ek(r[i-30],r[i-29]),p=_k(r[i-30],r[i-29]),_=r[i-32],I=r[i-31];r[i]=fk(n,o,c,v,w,p,_,I),r[i+1]=ck(n,o,c,v,w,p,_,I)}},rs.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],o=this.h[2],c=this.h[3],v=this.h[4],w=this.h[5],p=this.h[6],_=this.h[7],I=this.h[8],B=this.h[9],R=this.h[10],O=this.h[11],z=this.h[12],k=this.h[13],J=this.h[14],rt=this.h[15];uk(this.k.length===r.length);for(var ht=0;ht<r.length;ht+=2){var et=J,W=rt,V=bk(I,B),nt=Mk(I,B),it=gk(I,B,R,O,z),Qt=mk(I,B,R,O,z,k),Yt=this.k[ht],_t=this.k[ht+1],Vt=r[ht],s=r[ht+1],u=lk(et,W,V,nt,it,Qt,Yt,_t,Vt,s),d=dk(et,W,V,nt,it,Qt,Yt,_t,Vt,s);et=wk(i,n),W=Ak(i,n),V=vk(i,n,o,c,v),nt=yk(i,n,o,c,v,w);var y=p1(et,W,V,nt),A=g1(et,W,V,nt);J=z,rt=k,z=R,k=O,R=I,O=B,I=p1(p,_,u,d),B=g1(_,_,u,d),p=v,_=w,v=o,w=c,o=i,c=n,i=p1(u,d,y,A),n=g1(u,d,y,A)}Ho(this.h,0,i,n),Ho(this.h,2,o,c),Ho(this.h,4,v,w),Ho(this.h,6,p,_),Ho(this.h,8,I,B),Ho(this.h,10,R,O),Ho(this.h,12,z,k),Ho(this.h,14,J,rt)},rs.prototype._digest=function(e){return e==="hex"?ji.toHex32(this.h,"big"):ji.split32(this.h,"big")};function gk(e,t,r,i,n){var o=e&r^~e&n;return o<0&&(o+=4294967296),o}function mk(e,t,r,i,n,o){var c=t&i^~t&o;return c<0&&(c+=4294967296),c}function vk(e,t,r,i,n){var o=e&r^e&n^r&n;return o<0&&(o+=4294967296),o}function yk(e,t,r,i,n,o){var c=t&i^t&o^i&o;return c<0&&(c+=4294967296),c}function wk(e,t){var r=Js(e,t,28),i=Js(t,e,2),n=Js(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function Ak(e,t){var r=Ys(e,t,28),i=Ys(t,e,2),n=Ys(t,e,7),o=r^i^n;return o<0&&(o+=4294967296),o}function bk(e,t){var r=Js(e,t,14),i=Js(e,t,18),n=Js(t,e,9),o=r^i^n;return o<0&&(o+=4294967296),o}function Mk(e,t){var r=Ys(e,t,14),i=Ys(e,t,18),n=Ys(t,e,9),o=r^i^n;return o<0&&(o+=4294967296),o}function Ek(e,t){var r=Js(e,t,1),i=Js(e,t,8),n=mA(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function _k(e,t){var r=Ys(e,t,1),i=Ys(e,t,8),n=vA(e,t,7),o=r^i^n;return o<0&&(o+=4294967296),o}function Sk(e,t){var r=Js(e,t,19),i=Js(t,e,29),n=mA(e,t,6),o=r^i^n;return o<0&&(o+=4294967296),o}function Ik(e,t){var r=Ys(e,t,19),i=Ys(t,e,29),n=vA(e,t,6),o=r^i^n;return o<0&&(o+=4294967296),o}var np=He,AA=wA;function Co(){if(!(this instanceof Co))return new Co;AA.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}np.inherits(Co,AA);var xk=Co;Co.blockSize=1024,Co.outSize=384,Co.hmacStrength=192,Co.padLength=128,Co.prototype._digest=function(e){return e==="hex"?np.toHex32(this.h.slice(0,12),"big"):np.split32(this.h.slice(0,12),"big")},uh.sha1=YU,uh.sha224=ak,uh.sha256=pA,uh.sha384=xk,uh.sha512=wA;var bA={},Sa=He,Nk=Jh,U0=Sa.rotl32,I3=Sa.sum32,Bu=Sa.sum32_3,x3=Sa.sum32_4,MA=Nk.BlockHash;function Ns(){if(!(this instanceof Ns))return new Ns;MA.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Sa.inherits(Ns,MA),bA.ripemd160=Ns,Ns.blockSize=512,Ns.outSize=160,Ns.hmacStrength=192,Ns.padLength=64,Ns.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],o=this.h[3],c=this.h[4],v=r,w=i,p=n,_=o,I=c,B=0;B<80;B++){var R=I3(U0(x3(r,N3(B,i,n,o),e[Rk[B]+t],Ck(B)),Tk[B]),c);r=c,c=o,o=U0(n,10),n=i,i=R,R=I3(U0(x3(v,N3(79-B,w,p,_),e[Pk[B]+t],Bk(B)),Ok[B]),I),v=I,I=_,_=U0(p,10),p=w,w=R}R=Bu(this.h[1],n,_),this.h[1]=Bu(this.h[2],o,I),this.h[2]=Bu(this.h[3],c,v),this.h[3]=Bu(this.h[4],r,w),this.h[4]=Bu(this.h[0],i,p),this.h[0]=R},Ns.prototype._digest=function(e){return e==="hex"?Sa.toHex32(this.h,"little"):Sa.split32(this.h,"little")};function N3(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function Ck(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Bk(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var Rk=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Pk=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Tk=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ok=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Dk=He,Fk=lf;function wh(e,t,r){if(!(this instanceof wh))return new wh(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Dk.toArray(t,r))}var Uk=wh;wh.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Fk(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},wh.prototype.update=function(e,t){return this.inner.update(e,t),this},wh.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=He,t.common=Jh,t.sha=uh,t.ripemd=bA,t.hmac=Uk,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(xs);function Vh(e,t,r){return r={path:t,exports:{},require:function(i,n){return kk(i,n??r.path)}},e(r,r.exports),r.exports}function kk(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Tp=EA;function EA(e,t){if(!e)throw new Error(t||"Assertion failed")}EA.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var hs=Vh(function(e,t){var r=t;function i(c,v){if(Array.isArray(c))return c.slice();if(!c)return[];var w=[];if(typeof c!="string"){for(var p=0;p<c.length;p++)w[p]=c[p]|0;return w}if(v==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var p=0;p<c.length;p+=2)w.push(parseInt(c[p]+c[p+1],16))}else for(var p=0;p<c.length;p++){var _=c.charCodeAt(p),I=_>>8,B=_&255;I?w.push(I,B):w.push(B)}return w}r.toArray=i;function n(c){return c.length===1?"0"+c:c}r.zero2=n;function o(c){for(var v="",w=0;w<c.length;w++)v+=n(c[w].toString(16));return v}r.toHex=o,r.encode=function(c,v){return v==="hex"?o(c):c}}),rn=Vh(function(e,t){var r=t;r.assert=Tp,r.toArray=hs.toArray,r.zero2=hs.zero2,r.toHex=hs.toHex,r.encode=hs.encode;function i(w,p,_){var I=new Array(Math.max(w.bitLength(),_)+1);I.fill(0);for(var B=1<<p+1,R=w.clone(),O=0;O<I.length;O++){var z,k=R.andln(B-1);R.isOdd()?(k>(B>>1)-1?z=(B>>1)-k:z=k,R.isubn(z)):z=0,I[O]=z,R.iushrn(1)}return I}r.getNAF=i;function n(w,p){var _=[[],[]];w=w.clone(),p=p.clone();for(var I=0,B=0,R;w.cmpn(-I)>0||p.cmpn(-B)>0;){var O=w.andln(3)+I&3,z=p.andln(3)+B&3;O===3&&(O=-1),z===3&&(z=-1);var k;O&1?(R=w.andln(7)+I&7,(R===3||R===5)&&z===2?k=-O:k=O):k=0,_[0].push(k);var J;z&1?(R=p.andln(7)+B&7,(R===3||R===5)&&O===2?J=-z:J=z):J=0,_[1].push(J),2*I===k+1&&(I=1-I),2*B===J+1&&(B=1-B),w.iushrn(1),p.iushrn(1)}return _}r.getJSF=n;function o(w,p,_){var I="_"+p;w.prototype[p]=function(){return this[I]!==void 0?this[I]:this[I]=_.call(this)}}r.cachedProperty=o;function c(w){return typeof w=="string"?r.toArray(w,"hex"):w}r.parseBytes=c;function v(w){return new _e(w,"hex","le")}r.intFromLE=v}),k0=rn.getNAF,qk=rn.getJSF,Bc=rn.assert;function Xo(e,t){this.type=e,this.p=new _e(t.p,16),this.red=t.prime?_e.red(t.prime):_e.mont(this.p),this.zero=new _e(0).toRed(this.red),this.one=new _e(1).toRed(this.red),this.two=new _e(2).toRed(this.red),this.n=t.n&&new _e(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ua=Xo;Xo.prototype.point=function(){throw new Error("Not implemented")},Xo.prototype.validate=function(){throw new Error("Not implemented")},Xo.prototype._fixedNafMul=function(e,t){Bc(e.precomputed);var r=e._getDoubles(),i=k0(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var o=[],c,v;for(c=0;c<i.length;c+=r.step){v=0;for(var w=c+r.step-1;w>=c;w--)v=(v<<1)+i[w];o.push(v)}for(var p=this.jpoint(null,null,null),_=this.jpoint(null,null,null),I=n;I>0;I--){for(c=0;c<o.length;c++)v=o[c],v===I?_=_.mixedAdd(r.points[c]):v===-I&&(_=_.mixedAdd(r.points[c].neg()));p=p.add(_)}return p.toP()},Xo.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,o=k0(t,r,this._bitLength),c=this.jpoint(null,null,null),v=o.length-1;v>=0;v--){for(var w=0;v>=0&&o[v]===0;v--)w++;if(v>=0&&w++,c=c.dblp(w),v<0)break;var p=o[v];Bc(p!==0),e.type==="affine"?p>0?c=c.mixedAdd(n[p-1>>1]):c=c.mixedAdd(n[-p-1>>1].neg()):p>0?c=c.add(n[p-1>>1]):c=c.add(n[-p-1>>1].neg())}return e.type==="affine"?c.toP():c},Xo.prototype._wnafMulAdd=function(e,t,r,i,n){var o=this._wnafT1,c=this._wnafT2,v=this._wnafT3,w=0,p,_,I;for(p=0;p<i;p++){I=t[p];var B=I._getNAFPoints(e);o[p]=B.wnd,c[p]=B.points}for(p=i-1;p>=1;p-=2){var R=p-1,O=p;if(o[R]!==1||o[O]!==1){v[R]=k0(r[R],o[R],this._bitLength),v[O]=k0(r[O],o[O],this._bitLength),w=Math.max(v[R].length,w),w=Math.max(v[O].length,w);continue}var z=[t[R],null,null,t[O]];t[R].y.cmp(t[O].y)===0?(z[1]=t[R].add(t[O]),z[2]=t[R].toJ().mixedAdd(t[O].neg())):t[R].y.cmp(t[O].y.redNeg())===0?(z[1]=t[R].toJ().mixedAdd(t[O]),z[2]=t[R].add(t[O].neg())):(z[1]=t[R].toJ().mixedAdd(t[O]),z[2]=t[R].toJ().mixedAdd(t[O].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],J=qk(r[R],r[O]);for(w=Math.max(J[0].length,w),v[R]=new Array(w),v[O]=new Array(w),_=0;_<w;_++){var rt=J[0][_]|0,ht=J[1][_]|0;v[R][_]=k[(rt+1)*3+(ht+1)],v[O][_]=0,c[R]=z}}var et=this.jpoint(null,null,null),W=this._wnafT4;for(p=w;p>=0;p--){for(var V=0;p>=0;){var nt=!0;for(_=0;_<i;_++)W[_]=v[_][p]|0,W[_]!==0&&(nt=!1);if(!nt)break;V++,p--}if(p>=0&&V++,et=et.dblp(V),p<0)break;for(_=0;_<i;_++){var it=W[_];it!==0&&(it>0?I=c[_][it-1>>1]:it<0&&(I=c[_][-it-1>>1].neg()),I.type==="affine"?et=et.mixedAdd(I):et=et.add(I))}}for(p=0;p<i;p++)c[p]=null;return n?et:et.toP()};function bn(e,t){this.curve=e,this.type=t,this.precomputed=null}Xo.BasePoint=bn,bn.prototype.eq=function(){throw new Error("Not implemented")},bn.prototype.validate=function(){return this.curve.validate(this)},Xo.prototype.decodePoint=function(e,t){e=rn.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Bc(e[e.length-1]%2===0):e[0]===7&&Bc(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},bn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},bn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},bn.prototype.encode=function(e,t){return rn.encode(this._encode(t),e)},bn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},bn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},bn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}},bn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},bn.prototype._getBeta=function(){return null},bn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Op=Vh(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),Lk=rn.assert;function Rn(e){Ua.call(this,"short",e),this.a=new _e(e.a,16).toRed(this.red),this.b=new _e(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Op(Rn,Ua);var zk=Rn;Rn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new _e(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new _e(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],Lk(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(c){return{a:new _e(c.a,16),b:new _e(c.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}},Rn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:_e.mont(e),r=new _e(2).toRed(t).redInvm(),i=r.redNeg(),n=new _e(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(n).fromRed(),c=i.redSub(n).fromRed();return[o,c]},Rn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new _e(1),o=new _e(0),c=new _e(0),v=new _e(1),w,p,_,I,B,R,O,z=0,k,J;r.cmpn(0)!==0;){var rt=i.div(r);k=i.sub(rt.mul(r)),J=c.sub(rt.mul(n));var ht=v.sub(rt.mul(o));if(!_&&k.cmp(t)<0)w=O.neg(),p=n,_=k.neg(),I=J;else if(_&&++z===2)break;O=k,i=r,r=k,c=n,n=J,v=o,o=ht}B=k.neg(),R=J;var et=_.sqr().add(I.sqr()),W=B.sqr().add(R.sqr());return W.cmp(et)>=0&&(B=w,R=p),_.negative&&(_=_.neg(),I=I.neg()),B.negative&&(B=B.neg(),R=R.neg()),[{a:_,b:I},{a:B,b:R}]},Rn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),c=n.mul(r.a),v=o.mul(i.a),w=n.mul(r.b),p=o.mul(i.b),_=e.sub(c).sub(v),I=w.add(p).neg();return{k1:_,k2:I}},Rn.prototype.pointFromX=function(e,t){e=new _e(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},Rn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},Rn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var c=this._endoSplit(t[o]),v=e[o],w=v._getBeta();c.k1.negative&&(c.k1.ineg(),v=v.neg(!0)),c.k2.negative&&(c.k2.ineg(),w=w.neg(!0)),i[o*2]=v,i[o*2+1]=w,n[o*2]=c.k1,n[o*2+1]=c.k2}for(var p=this._wnafMulAdd(1,i,n,o*2,r),_=0;_<o*2;_++)i[_]=null,n[_]=null;return p};function Gr(e,t,r,i){Ua.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new _e(t,16),this.y=new _e(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Op(Gr,Ua.BasePoint),Rn.prototype.point=function(e,t,r){return new Gr(this,e,t,r)},Rn.prototype.pointFromJSON=function(e,t){return Gr.fromJSON(this,e,t)},Gr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Gr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Gr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(c){return e.point(c[0],c[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},Gr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Gr.prototype.isInfinity=function(){return this.inf},Gr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Gr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),c=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,c)},Gr.prototype.getX=function(){return this.x.fromRed()},Gr.prototype.getY=function(){return this.y.fromRed()},Gr.prototype.mul=function(e){return e=new _e(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Gr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Gr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Gr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Gr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Gr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Zr(e,t,r,i){Ua.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new _e(0)):(this.x=new _e(t,16),this.y=new _e(r,16),this.z=new _e(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Op(Zr,Ua.BasePoint),Rn.prototype.jpoint=function(e,t,r){return new Zr(this,e,t,r)},Zr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Zr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Zr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(r.redMul(this.z)),v=i.redSub(n),w=o.redSub(c);if(v.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=v.redSqr(),_=p.redMul(v),I=i.redMul(p),B=w.redSqr().redIAdd(_).redISub(I).redISub(I),R=w.redMul(I.redISub(B)).redISub(o.redMul(_)),O=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(B,R,O)},Zr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),c=r.redSub(i),v=n.redSub(o);if(c.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=c.redSqr(),p=w.redMul(c),_=r.redMul(w),I=v.redSqr().redIAdd(p).redISub(_).redISub(_),B=v.redMul(_.redISub(I)).redISub(n.redMul(p)),R=this.z.redMul(c);return this.curve.jpoint(I,B,R)},Zr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,o=this.x,c=this.y,v=this.z,w=v.redSqr().redSqr(),p=c.redAdd(c);for(t=0;t<e;t++){var _=o.redSqr(),I=p.redSqr(),B=I.redSqr(),R=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(w)),O=o.redMul(I),z=R.redSqr().redISub(O.redAdd(O)),k=O.redISub(z),J=R.redMul(k);J=J.redIAdd(J).redISub(B);var rt=p.redMul(v);t+1<e&&(w=w.redMul(B)),o=z,v=rt,p=J}return this.curve.jpoint(o,p.redMul(n),v)},Zr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Zr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var v=i.redAdd(i).redIAdd(i),w=v.redSqr().redISub(c).redISub(c),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),e=w,t=v.redMul(c.redISub(w)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),I=this.y.redSqr(),B=I.redSqr(),R=this.x.redAdd(I).redSqr().redISub(_).redISub(B);R=R.redIAdd(R);var O=_.redAdd(_).redIAdd(_),z=O.redSqr(),k=B.redIAdd(B);k=k.redIAdd(k),k=k.redIAdd(k),e=z.redISub(R).redISub(R),t=O.redMul(R.redISub(e)).redISub(k),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Zr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),c=this.x.redAdd(n).redSqr().redISub(i).redISub(o);c=c.redIAdd(c);var v=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),w=v.redSqr().redISub(c).redISub(c);e=w;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),t=v.redMul(c.redISub(w)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),I=this.y.redSqr(),B=this.x.redMul(I),R=this.x.redSub(_).redMul(this.x.redAdd(_));R=R.redAdd(R).redIAdd(R);var O=B.redIAdd(B);O=O.redIAdd(O);var z=O.redAdd(O);e=R.redSqr().redISub(z),r=this.y.redAdd(this.z).redSqr().redISub(I).redISub(_);var k=I.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),t=R.redMul(O.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,r)},Zr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=t.redSqr(),c=r.redSqr(),v=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),w=t.redAdd(t);w=w.redIAdd(w);var p=w.redMul(c),_=v.redSqr().redISub(p.redAdd(p)),I=p.redISub(_),B=c.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=v.redMul(I).redISub(B),O=r.redAdd(r).redMul(i);return this.curve.jpoint(_,R,O)},Zr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(i);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(o);var v=c.redSqr(),w=i.redIAdd(i);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var p=n.redIAdd(c).redSqr().redISub(o).redISub(v).redISub(w),_=t.redMul(p);_=_.redIAdd(_),_=_.redIAdd(_);var I=this.x.redMul(v).redISub(_);I=I.redIAdd(I),I=I.redIAdd(I);var B=this.y.redMul(p.redMul(w.redISub(p)).redISub(c.redMul(v)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var R=this.z.redAdd(c).redSqr().redISub(r).redISub(v);return this.curve.jpoint(I,B,R)},Zr.prototype.mul=function(e,t){return e=new _e(e,t),this.curve._wnafMul(this,e)},Zr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},Zr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},Zr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Zr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var oc=Vh(function(e,t){var r=t;r.base=Ua,r.short=zk,r.mont=null,r.edwards=null}),ac=Vh(function(e,t){var r=t,i=rn.assert;function n(v){v.type==="short"?this.curve=new oc.short(v):v.type==="edwards"?this.curve=new oc.edwards(v):this.curve=new oc.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function o(v,w){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var p=new n(w);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:p}),p}})}o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:xs.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:xs.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:xs.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:xs.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:xs.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xs.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xs.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=null.crash()}catch{c=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:xs.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})});function Zo(e){if(!(this instanceof Zo))return new Zo(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=hs.toArray(e.entropy,e.entropyEnc||"hex"),r=hs.toArray(e.nonce,e.nonceEnc||"hex"),i=hs.toArray(e.pers,e.persEnc||"hex");Tp(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var C3=Zo;Zo.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Zo.prototype._hmac=function(){return new xs.hmac(this.hash,this.K)},Zo.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Zo.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=hs.toArray(e,t),r=hs.toArray(r,i),Tp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Zo.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=hs.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var o=n.slice(0,e);return this._update(r),this._reseed++,hs.encode(o,t)};var m1=rn.assert;function hi(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var v1=hi;hi.fromPublic=function(e,t,r){return t instanceof hi?t:new hi(e,{pub:t,pubEnc:r})},hi.fromPrivate=function(e,t,r){return t instanceof hi?t:new hi(e,{priv:t,privEnc:r})},hi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},hi.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},hi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},hi.prototype._importPrivate=function(e,t){this.priv=new _e(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},hi.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?m1(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&m1(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},hi.prototype.derive=function(e){return e.validate()||m1(e.validate(),"public point not validated"),e.mul(this.priv).getX()},hi.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},hi.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},hi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var $k=rn.assert;function Jc(e,t){if(e instanceof Jc)return e;this._importDER(e,t)||($k(e.r&&e.s,"Signature without r or s"),this.r=new _e(e.r,16),this.s=new _e(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var q0=Jc;function Hk(){this.place=0}function y1(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,o=0,c=t.place;o<i;o++,c++)n<<=8,n|=e[c],n>>>=0;return n<=127?!1:(t.place=c,n)}function B3(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Jc.prototype._importDER=function(e,t){e=rn.toArray(e,t);var r=new Hk;if(e[r.place++]!==48)return!1;var i=y1(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=y1(e,r);if(n===!1)return!1;var o=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var c=y1(e,r);if(c===!1||e.length!==c+r.place)return!1;var v=e.slice(r.place,c+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new _e(o),this.s=new _e(v),this.recoveryParam=null,!0};function w1(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Jc.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=B3(t),r=B3(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];w1(i,t.length),i=i.concat(t),i.push(2),w1(i,r.length);var n=i.concat(r),o=[48];return w1(o,n.length),o=o.concat(n),rn.encode(o,e)};var Kk=function(){throw new Error("unsupported")},_A=rn.assert;function In(e){if(!(this instanceof In))return new In(e);typeof e=="string"&&(_A(Object.prototype.hasOwnProperty.call(ac,e),"Unknown curve "+e),e=ac[e]),e instanceof ac.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var jk=In;In.prototype.keyPair=function(e){return new v1(this,e)},In.prototype.keyFromPrivate=function(e,t){return v1.fromPrivate(this,e,t)},In.prototype.keyFromPublic=function(e,t){return v1.fromPublic(this,e,t)},In.prototype.genKeyPair=function(e){e||(e={});for(var t=new C3({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Kk(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new _e(2));;){var n=new _e(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},In.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},In.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new _e(e,16));for(var n=this.n.byteLength(),o=t.getPrivate().toArray("be",n),c=e.toArray("be",n),v=new C3({hash:this.hash,entropy:o,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),w=this.n.sub(new _e(1)),p=0;;p++){var _=i.k?i.k(p):new _e(v.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(w)>=0)){var I=this.g.mul(_);if(!I.isInfinity()){var B=I.getX(),R=B.umod(this.n);if(R.cmpn(0)!==0){var O=_.invm(this.n).mul(R.mul(t.getPrivate()).iadd(e));if(O=O.umod(this.n),O.cmpn(0)!==0){var z=(I.getY().isOdd()?1:0)|(B.cmp(R)!==0?2:0);return i.canonical&&O.cmp(this.nh)>0&&(O=this.n.sub(O),z^=1),new q0({r:R,s:O,recoveryParam:z})}}}}}},In.prototype.verify=function(e,t,r,i){e=this._truncateToN(new _e(e,16)),r=this.keyFromPublic(r,i),t=new q0(t,"hex");var n=t.r,o=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),v=c.mul(e).umod(this.n),w=c.mul(n).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(v,r.getPublic(),w),p.isInfinity()?!1:p.eqXToP(n)):(p=this.g.mulAdd(v,r.getPublic(),w),p.isInfinity()?!1:p.getX().umod(this.n).cmp(n)===0)},In.prototype.recoverPubKey=function(e,t,r,i){_A((3&r)===r,"The recovery param is more than two bits"),t=new q0(t,i);var n=this.n,o=new _e(e),c=t.r,v=t.s,w=r&1,p=r>>1;if(c.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");p?c=this.curve.pointFromX(c.add(this.curve.n),w):c=this.curve.pointFromX(c,w);var _=t.r.invm(n),I=n.sub(o).mul(_).umod(n),B=v.mul(_).umod(n);return this.g.mulAdd(I,c,B)},In.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new q0(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch{continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Qk=Vh(function(e,t){var r=t;r.version="6.5.4",r.utils=rn,r.rand=function(){throw new Error("unsupported")},r.curve=oc,r.curves=ac,r.ec=jk,r.eddsa=null});Qk.ec;var R3;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(R3||(R3={}));function Dp(e){return e.includes(":")}function Du(e){return Dp(e)?e.split(":")[0]:e}const Gk={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function P3(e,t){const{message:r,code:i}=Gk[e];return{message:t?`${r} ${t}`:r,code:i}}function T3(e,t){return!!Array.isArray(e)}function Jk(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}const O3="error",Yk="wss://relay.walletconnect.org",Vk="wc",Wk="universal_provider",D3=`${Vk}@2:${Wk}:`,SA="https://rpc.walletconnect.org/v1/",fh="generic",Xk=`${SA}bundler`,cs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sp={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(e,t){(function(){var r,i="4.17.21",n=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",v="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",p=500,_="__lodash_placeholder__",I=1,B=2,R=4,O=1,z=2,k=1,J=2,rt=4,ht=8,et=16,W=32,V=64,nt=128,it=256,Qt=512,Yt=30,_t="...",Vt=800,s=16,u=1,d=2,y=3,A=1/0,M=9007199254740991,S=17976931348623157e292,m=NaN,a=4294967295,g=a-1,Q=a>>>1,j=[["ary",nt],["bind",k],["bindKey",J],["curry",ht],["curryRight",et],["flip",Qt],["partial",W],["partialRight",V],["rearg",it]],f="[object Arguments]",T="[object Array]",x="[object AsyncFunction]",C="[object Boolean]",D="[object Date]",E="[object DOMException]",P="[object Error]",$="[object Function]",G="[object GeneratorFunction]",L="[object Map]",at="[object Number]",ut="[object Null]",ot="[object Object]",he="[object Promise]",St="[object Proxy]",vt="[object RegExp]",te="[object Set]",dt="[object String]",pt="[object Symbol]",ne="[object Undefined]",ft="[object WeakMap]",gt="[object WeakSet]",Zt="[object ArrayBuffer]",ct="[object DataView]",wt="[object Float32Array]",ee="[object Float64Array]",It="[object Int8Array]",Rt="[object Int16Array]",pe="[object Int32Array]",Ot="[object Uint8Array]",Tt="[object Uint8ClampedArray]",ge="[object Uint16Array]",Dt="[object Uint32Array]",kt=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,Lt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zt=/&(?:amp|lt|gt|quot|#39);/g,xe=/[&<>"']/g,At=RegExp(zt.source),mt=RegExp(xe.source),se=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,yt=/<%=([\s\S]+?)%>/g,ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xt=/^\w*$/,Nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,Ct=RegExp(oe.source),Mt=/^\s+/,ae=/\s/,Et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/[()=,{}\[\]\/\s]/,Ke=/\\(\\)?/g,Kt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,Ne=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Be=/^\[object .+?Constructor\]$/,Re=/^0o[0-7]+$/i,Pe=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,dr=/($^)/,Nr=/['\n\r\u2028\u2029\\]/g,pr="\\ud800-\\udfff",Cr="\\u0300-\\u036f",Br="\\ufe20-\\ufe2f",gr="\\u20d0-\\u20ff",_r=Cr+Br+gr,Sr="\\u2700-\\u27bf",er="a-z\\xdf-\\xf6\\xf8-\\xff",Rr="\\xac\\xb1\\xd7\\xf7",Pr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tr="\\u2000-\\u206f",Or=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",df="A-Z\\xc0-\\xd6\\xd8-\\xde",pf="\\ufe0e\\ufe0f",na=Rr+Pr+Tr+Or,Wh="['вЂ™]",sa="["+pr+"]",Xh="["+na+"]",oa="["+_r+"]",gf="\\d+",Yc="["+Sr+"]",mf="["+er+"]",vf="[^"+pr+na+gf+Sr+er+df+"]",qa="\\ud83c[\\udffb-\\udfff]",Vc="(?:"+oa+"|"+qa+")",yf="[^"+pr+"]",La="(?:\\ud83c[\\udde6-\\uddff]){2}",Bo="[\\ud800-\\udbff][\\udc00-\\udfff]",Qi="["+df+"]",wf="\\u200d",Af="(?:"+mf+"|"+vf+")",ls="(?:"+Qi+"|"+vf+")",bf="(?:"+Wh+"(?:d|ll|m|re|s|t|ve))?",Mf="(?:"+Wh+"(?:D|LL|M|RE|S|T|VE))?",Ef=Vc+"?",_f="["+pf+"]?",Wc="(?:"+wf+"(?:"+[yf,La,Bo].join("|")+")"+_f+Ef+")*",ro="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Sf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",If=_f+Ef+Wc,za="(?:"+[Yc,La,Bo].join("|")+")"+If,Xc="(?:"+[yf+oa+"?",oa,La,Bo,sa].join("|")+")",Zh=RegExp(Wh,"g"),Zc=RegExp(oa,"g"),$a=RegExp(qa+"(?="+qa+")|"+Xc+If,"g"),xf=RegExp([Qi+"?"+mf+"+"+bf+"(?="+[Xh,Qi,"$"].join("|")+")",ls+"+"+Mf+"(?="+[Xh,Qi+Af,"$"].join("|")+")",Qi+"?"+Af+"+"+bf,Qi+"+"+Mf,Sf,ro,gf,za].join("|"),"g"),Nf=RegExp("["+wf+pr+_r+pf+"]"),aa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tl=-1,rr={};rr[wt]=rr[ee]=rr[It]=rr[Rt]=rr[pe]=rr[Ot]=rr[Tt]=rr[ge]=rr[Dt]=!0,rr[f]=rr[T]=rr[Zt]=rr[C]=rr[ct]=rr[D]=rr[P]=rr[$]=rr[L]=rr[at]=rr[ot]=rr[vt]=rr[te]=rr[dt]=rr[ft]=!1;var tr={};tr[f]=tr[T]=tr[Zt]=tr[ct]=tr[C]=tr[D]=tr[wt]=tr[ee]=tr[It]=tr[Rt]=tr[pe]=tr[L]=tr[at]=tr[ot]=tr[vt]=tr[te]=tr[dt]=tr[pt]=tr[Ot]=tr[Tt]=tr[ge]=tr[Dt]=!0,tr[P]=tr[$]=tr[ft]=!1;var H={ГЂ:"A",ГЃ:"A",Г‚:"A",Гѓ:"A",Г„:"A",Г…:"A",Г :"a",ГЎ:"a",Гў:"a",ГЈ:"a",Г¤:"a",ГҐ:"a",Г‡:"C",Г§:"c",Гђ:"D",Г°:"d",Г€:"E",Г‰:"E",ГЉ:"E",Г‹:"E",ГЁ:"e",Г©:"e",ГЄ:"e",Г«:"e",ГЊ:"I",ГЌ:"I",ГЋ:"I",ГЏ:"I",Г¬:"i",Г­:"i",Г®:"i",ГЇ:"i",Г‘:"N",Г±:"n",Г’:"O",Г“:"O",Г”:"O",Г•:"O",Г–:"O",Г:"O",ГІ:"o",Гі:"o",Гґ:"o",Гµ:"o",Г¶:"o",Гё:"o",Г™:"U",Гљ:"U",Г›:"U",Гњ:"U",Г№:"u",Гє:"u",Г»:"u",Гј:"u",Гќ:"Y",ГЅ:"y",Гї:"y",Г†:"Ae",Г¦:"ae",Гћ:"Th",Гѕ:"th",Гџ:"ss",ДЂ:"A",Д‚:"A",Д„:"A",ДЃ:"a",Дѓ:"a",Д…:"a",Д†:"C",Д€:"C",ДЉ:"C",ДЊ:"C",Д‡:"c",Д‰:"c",Д‹:"c",ДЌ:"c",ДЋ:"D",Дђ:"D",ДЏ:"d",Д‘:"d",Д’:"E",Д”:"E",Д–:"E",Д:"E",Дљ:"E",Д“:"e",Д•:"e",Д—:"e",Д™:"e",Д›:"e",Дњ:"G",Дћ:"G",Д :"G",Дў:"G",Дќ:"g",Дџ:"g",ДЎ:"g",ДЈ:"g",Д¤:"H",Д¦:"H",ДҐ:"h",Д§:"h",ДЁ:"I",ДЄ:"I",Д¬:"I",Д®:"I",Д°:"I",Д©:"i",Д«:"i",Д­:"i",ДЇ:"i",Д±:"i",Дґ:"J",Дµ:"j",Д¶:"K",Д·:"k",Дё:"k",Д№:"L",Д»:"L",ДЅ:"L",Дї:"L",ЕЃ:"L",Дє:"l",Дј:"l",Дѕ:"l",ЕЂ:"l",Е‚:"l",Еѓ:"N",Е…:"N",Е‡:"N",ЕЉ:"N",Е„:"n",Е†:"n",Е€:"n",Е‹:"n",ЕЊ:"O",ЕЋ:"O",Еђ:"O",ЕЌ:"o",ЕЏ:"o",Е‘:"o",Е”:"R",Е–:"R",Е:"R",Е•:"r",Е—:"r",Е™:"r",Ељ:"S",Ењ:"S",Ећ:"S",Е :"S",Е›:"s",Еќ:"s",Еџ:"s",ЕЎ:"s",Еў:"T",Е¤:"T",Е¦:"T",ЕЈ:"t",ЕҐ:"t",Е§:"t",ЕЁ:"U",ЕЄ:"U",Е¬:"U",Е®:"U",Е°:"U",ЕІ:"U",Е©:"u",Е«:"u",Е­:"u",ЕЇ:"u",Е±:"u",Еі:"u",Еґ:"W",Еµ:"w",Е¶:"Y",Е·:"y",Её:"Y",Е№:"Z",Е»:"Z",ЕЅ:"Z",Еє:"z",Еј:"z",Еѕ:"z",ДІ:"IJ",Ді:"ij",Е’:"Oe",Е“:"oe",Е‰:"'n",Еї:"s"},X={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Wt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ir=parseFloat,we=parseInt,hr=typeof Ru=="object"&&Ru&&Ru.Object===Object&&Ru,Ir=typeof self=="object"&&self&&self.Object===Object&&self,je=hr||Ir||Function("return this")(),nr=t&&!t.nodeType&&t,wr=nr&&!0&&e&&!e.nodeType&&e,xi=wr&&wr.exports===nr,xr=xi&&hr.process,ur=function(){try{var Z=wr&&wr.require&&wr.require("util").types;return Z||xr&&xr.binding&&xr.binding("util")}catch{}}(),fi=ur&&ur.isArrayBuffer,Tn=ur&&ur.isDate,sn=ur&&ur.isMap,ds=ur&&ur.isRegExp,tu=ur&&ur.isSet,ha=ur&&ur.isTypedArray;function zr(Z,Pt,st){switch(st.length){case 0:return Z.call(Pt);case 1:return Z.call(Pt,st[0]);case 2:return Z.call(Pt,st[0],st[1]);case 3:return Z.call(Pt,st[0],st[1],st[2])}return Z.apply(Pt,st)}function NA(Z,Pt,st,Xt){for(var ye=-1,Ye=Z==null?0:Z.length;++ye<Ye;){var Dr=Z[ye];Pt(Xt,Dr,st(Dr),Z)}return Xt}function on(Z,Pt){for(var st=-1,Xt=Z==null?0:Z.length;++st<Xt&&Pt(Z[st],st,Z)!==!1;);return Z}function CA(Z,Pt){for(var st=Z==null?0:Z.length;st--&&Pt(Z[st],st,Z)!==!1;);return Z}function kp(Z,Pt){for(var st=-1,Xt=Z==null?0:Z.length;++st<Xt;)if(!Pt(Z[st],st,Z))return!1;return!0}function Ro(Z,Pt){for(var st=-1,Xt=Z==null?0:Z.length,ye=0,Ye=[];++st<Xt;){var Dr=Z[st];Pt(Dr,st,Z)&&(Ye[ye++]=Dr)}return Ye}function Bf(Z,Pt){var st=Z==null?0:Z.length;return!!st&&Ha(Z,Pt,0)>-1}function el(Z,Pt,st){for(var Xt=-1,ye=Z==null?0:Z.length;++Xt<ye;)if(st(Pt,Z[Xt]))return!0;return!1}function cr(Z,Pt){for(var st=-1,Xt=Z==null?0:Z.length,ye=Array(Xt);++st<Xt;)ye[st]=Pt(Z[st],st,Z);return ye}function Po(Z,Pt){for(var st=-1,Xt=Pt.length,ye=Z.length;++st<Xt;)Z[ye+st]=Pt[st];return Z}function rl(Z,Pt,st,Xt){var ye=-1,Ye=Z==null?0:Z.length;for(Xt&&Ye&&(st=Z[++ye]);++ye<Ye;)st=Pt(st,Z[ye],ye,Z);return st}function BA(Z,Pt,st,Xt){var ye=Z==null?0:Z.length;for(Xt&&ye&&(st=Z[--ye]);ye--;)st=Pt(st,Z[ye],ye,Z);return st}function il(Z,Pt){for(var st=-1,Xt=Z==null?0:Z.length;++st<Xt;)if(Pt(Z[st],st,Z))return!0;return!1}var RA=nl("length");function PA(Z){return Z.split("")}function TA(Z){return Z.match(Bt)||[]}function qp(Z,Pt,st){var Xt;return st(Z,function(ye,Ye,Dr){if(Pt(ye,Ye,Dr))return Xt=Ye,!1}),Xt}function Rf(Z,Pt,st,Xt){for(var ye=Z.length,Ye=st+(Xt?1:-1);Xt?Ye--:++Ye<ye;)if(Pt(Z[Ye],Ye,Z))return Ye;return-1}function Ha(Z,Pt,st){return Pt===Pt?jA(Z,Pt,st):Rf(Z,Lp,st)}function OA(Z,Pt,st,Xt){for(var ye=st-1,Ye=Z.length;++ye<Ye;)if(Xt(Z[ye],Pt))return ye;return-1}function Lp(Z){return Z!==Z}function zp(Z,Pt){var st=Z==null?0:Z.length;return st?ol(Z,Pt)/st:m}function nl(Z){return function(Pt){return Pt==null?r:Pt[Z]}}function sl(Z){return function(Pt){return Z==null?r:Z[Pt]}}function $p(Z,Pt,st,Xt,ye){return ye(Z,function(Ye,Dr,sr){st=Xt?(Xt=!1,Ye):Pt(st,Ye,Dr,sr)}),st}function DA(Z,Pt){var st=Z.length;for(Z.sort(Pt);st--;)Z[st]=Z[st].value;return Z}function ol(Z,Pt){for(var st,Xt=-1,ye=Z.length;++Xt<ye;){var Ye=Pt(Z[Xt]);Ye!==r&&(st=st===r?Ye:st+Ye)}return st}function al(Z,Pt){for(var st=-1,Xt=Array(Z);++st<Z;)Xt[st]=Pt(st);return Xt}function FA(Z,Pt){return cr(Pt,function(st){return[st,Z[st]]})}function Hp(Z){return Z&&Z.slice(0,Gp(Z)+1).replace(Mt,"")}function Gi(Z){return function(Pt){return Z(Pt)}}function hl(Z,Pt){return cr(Pt,function(st){return Z[st]})}function eu(Z,Pt){return Z.has(Pt)}function Kp(Z,Pt){for(var st=-1,Xt=Z.length;++st<Xt&&Ha(Pt,Z[st],0)>-1;);return st}function jp(Z,Pt){for(var st=Z.length;st--&&Ha(Pt,Z[st],0)>-1;);return st}function UA(Z,Pt){for(var st=Z.length,Xt=0;st--;)Z[st]===Pt&&++Xt;return Xt}var kA=sl(H),qA=sl(X);function LA(Z){return"\\"+Wt[Z]}function zA(Z,Pt){return Z==null?r:Z[Pt]}function Ka(Z){return Nf.test(Z)}function $A(Z){return aa.test(Z)}function HA(Z){for(var Pt,st=[];!(Pt=Z.next()).done;)st.push(Pt.value);return st}function ul(Z){var Pt=-1,st=Array(Z.size);return Z.forEach(function(Xt,ye){st[++Pt]=[ye,Xt]}),st}function Qp(Z,Pt){return function(st){return Z(Pt(st))}}function To(Z,Pt){for(var st=-1,Xt=Z.length,ye=0,Ye=[];++st<Xt;){var Dr=Z[st];(Dr===Pt||Dr===_)&&(Z[st]=_,Ye[ye++]=st)}return Ye}function Pf(Z){var Pt=-1,st=Array(Z.size);return Z.forEach(function(Xt){st[++Pt]=Xt}),st}function KA(Z){var Pt=-1,st=Array(Z.size);return Z.forEach(function(Xt){st[++Pt]=[Xt,Xt]}),st}function jA(Z,Pt,st){for(var Xt=st-1,ye=Z.length;++Xt<ye;)if(Z[Xt]===Pt)return Xt;return-1}function QA(Z,Pt,st){for(var Xt=st+1;Xt--;)if(Z[Xt]===Pt)return Xt;return Xt}function ja(Z){return Ka(Z)?JA(Z):RA(Z)}function On(Z){return Ka(Z)?YA(Z):PA(Z)}function Gp(Z){for(var Pt=Z.length;Pt--&&ae.test(Z.charAt(Pt)););return Pt}var GA=sl($t);function JA(Z){for(var Pt=$a.lastIndex=0;$a.test(Z);)++Pt;return Pt}function YA(Z){return Z.match($a)||[]}function VA(Z){return Z.match(xf)||[]}var WA=function Z(Pt){Pt=Pt==null?je:Qa.defaults(je.Object(),Pt,Qa.pick(je,Cf));var st=Pt.Array,Xt=Pt.Date,ye=Pt.Error,Ye=Pt.Function,Dr=Pt.Math,sr=Pt.Object,fl=Pt.RegExp,XA=Pt.String,an=Pt.TypeError,Tf=st.prototype,ZA=Ye.prototype,Ga=sr.prototype,Of=Pt["__core-js_shared__"],Df=ZA.toString,Ze=Ga.hasOwnProperty,tb=0,Jp=function(){var h=/[^.]+$/.exec(Of&&Of.keys&&Of.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),Ff=Ga.toString,eb=Df.call(sr),rb=je._,ib=fl("^"+Df.call(Ze).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uf=xi?Pt.Buffer:r,Oo=Pt.Symbol,kf=Pt.Uint8Array,Yp=Uf?Uf.allocUnsafe:r,qf=Qp(sr.getPrototypeOf,sr),Vp=sr.create,Wp=Ga.propertyIsEnumerable,Lf=Tf.splice,Xp=Oo?Oo.isConcatSpreadable:r,ru=Oo?Oo.iterator:r,ua=Oo?Oo.toStringTag:r,zf=function(){try{var h=pa(sr,"defineProperty");return h({},"",{}),h}catch{}}(),nb=Pt.clearTimeout!==je.clearTimeout&&Pt.clearTimeout,sb=Xt&&Xt.now!==je.Date.now&&Xt.now,ob=Pt.setTimeout!==je.setTimeout&&Pt.setTimeout,$f=Dr.ceil,Hf=Dr.floor,cl=sr.getOwnPropertySymbols,ab=Uf?Uf.isBuffer:r,Zp=Pt.isFinite,hb=Tf.join,ub=Qp(sr.keys,sr),Fr=Dr.max,ii=Dr.min,fb=Xt.now,cb=Pt.parseInt,tg=Dr.random,lb=Tf.reverse,ll=pa(Pt,"DataView"),iu=pa(Pt,"Map"),dl=pa(Pt,"Promise"),Ja=pa(Pt,"Set"),nu=pa(Pt,"WeakMap"),su=pa(sr,"create"),Kf=nu&&new nu,Ya={},db=ga(ll),pb=ga(iu),gb=ga(dl),mb=ga(Ja),vb=ga(nu),jf=Oo?Oo.prototype:r,ou=jf?jf.valueOf:r,eg=jf?jf.toString:r;function U(h){if(mr(h)&&!Ae(h)&&!(h instanceof De)){if(h instanceof hn)return h;if(Ze.call(h,"__wrapped__"))return rm(h)}return new hn(h)}var Va=function(){function h(){}return function(l){if(!lr(l))return{};if(Vp)return Vp(l);h.prototype=l;var b=new h;return h.prototype=r,b}}();function Qf(){}function hn(h,l){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}U.templateSettings={escape:se,evaluate:bt,interpolate:yt,variable:"",imports:{_:U}},U.prototype=Qf.prototype,U.prototype.constructor=U,hn.prototype=Va(Qf.prototype),hn.prototype.constructor=hn;function De(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}function yb(){var h=new De(this.__wrapped__);return h.__actions__=Ni(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Ni(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Ni(this.__views__),h}function wb(){if(this.__filtered__){var h=new De(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function Ab(){var h=this.__wrapped__.value(),l=this.__dir__,b=Ae(h),N=l<0,F=b?h.length:0,q=P8(0,F,this.__views__),K=q.start,Y=q.end,tt=Y-K,Ut=N?Y:K-1,qt=this.__iteratees__,jt=qt.length,Jt=0,re=ii(tt,this.__takeCount__);if(!b||!N&&F==tt&&re==tt)return Sg(h,this.__actions__);var le=[];t:for(;tt--&&Jt<re;){Ut+=l;for(var Ie=-1,de=h[Ut];++Ie<jt;){var Oe=qt[Ie],Qe=Oe.iteratee,Vi=Oe.type,di=Qe(de);if(Vi==d)de=di;else if(!di){if(Vi==u)continue t;break t}}le[Jt++]=de}return le}De.prototype=Va(Qf.prototype),De.prototype.constructor=De;function fa(h){var l=-1,b=h==null?0:h.length;for(this.clear();++l<b;){var N=h[l];this.set(N[0],N[1])}}function bb(){this.__data__=su?su(null):{},this.size=0}function Mb(h){var l=this.has(h)&&delete this.__data__[h];return this.size-=l?1:0,l}function Eb(h){var l=this.__data__;if(su){var b=l[h];return b===w?r:b}return Ze.call(l,h)?l[h]:r}function _b(h){var l=this.__data__;return su?l[h]!==r:Ze.call(l,h)}function Sb(h,l){var b=this.__data__;return this.size+=this.has(h)?0:1,b[h]=su&&l===r?w:l,this}fa.prototype.clear=bb,fa.prototype.delete=Mb,fa.prototype.get=Eb,fa.prototype.has=_b,fa.prototype.set=Sb;function io(h){var l=-1,b=h==null?0:h.length;for(this.clear();++l<b;){var N=h[l];this.set(N[0],N[1])}}function Ib(){this.__data__=[],this.size=0}function xb(h){var l=this.__data__,b=Gf(l,h);if(b<0)return!1;var N=l.length-1;return b==N?l.pop():Lf.call(l,b,1),--this.size,!0}function Nb(h){var l=this.__data__,b=Gf(l,h);return b<0?r:l[b][1]}function Cb(h){return Gf(this.__data__,h)>-1}function Bb(h,l){var b=this.__data__,N=Gf(b,h);return N<0?(++this.size,b.push([h,l])):b[N][1]=l,this}io.prototype.clear=Ib,io.prototype.delete=xb,io.prototype.get=Nb,io.prototype.has=Cb,io.prototype.set=Bb;function no(h){var l=-1,b=h==null?0:h.length;for(this.clear();++l<b;){var N=h[l];this.set(N[0],N[1])}}function Rb(){this.size=0,this.__data__={hash:new fa,map:new(iu||io),string:new fa}}function Pb(h){var l=s0(this,h).delete(h);return this.size-=l?1:0,l}function Tb(h){return s0(this,h).get(h)}function Ob(h){return s0(this,h).has(h)}function Db(h,l){var b=s0(this,h),N=b.size;return b.set(h,l),this.size+=b.size==N?0:1,this}no.prototype.clear=Rb,no.prototype.delete=Pb,no.prototype.get=Tb,no.prototype.has=Ob,no.prototype.set=Db;function ca(h){var l=-1,b=h==null?0:h.length;for(this.__data__=new no;++l<b;)this.add(h[l])}function Fb(h){return this.__data__.set(h,w),this}function Ub(h){return this.__data__.has(h)}ca.prototype.add=ca.prototype.push=Fb,ca.prototype.has=Ub;function Dn(h){var l=this.__data__=new io(h);this.size=l.size}function kb(){this.__data__=new io,this.size=0}function qb(h){var l=this.__data__,b=l.delete(h);return this.size=l.size,b}function Lb(h){return this.__data__.get(h)}function zb(h){return this.__data__.has(h)}function $b(h,l){var b=this.__data__;if(b instanceof io){var N=b.__data__;if(!iu||N.length<n-1)return N.push([h,l]),this.size=++b.size,this;b=this.__data__=new no(N)}return b.set(h,l),this.size=b.size,this}Dn.prototype.clear=kb,Dn.prototype.delete=qb,Dn.prototype.get=Lb,Dn.prototype.has=zb,Dn.prototype.set=$b;function rg(h,l){var b=Ae(h),N=!b&&ma(h),F=!b&&!N&&qo(h),q=!b&&!N&&!F&&th(h),K=b||N||F||q,Y=K?al(h.length,XA):[],tt=Y.length;for(var Ut in h)(l||Ze.call(h,Ut))&&!(K&&(Ut=="length"||F&&(Ut=="offset"||Ut=="parent")||q&&(Ut=="buffer"||Ut=="byteLength"||Ut=="byteOffset")||ho(Ut,tt)))&&Y.push(Ut);return Y}function ig(h){var l=h.length;return l?h[_l(0,l-1)]:r}function Hb(h,l){return o0(Ni(h),la(l,0,h.length))}function Kb(h){return o0(Ni(h))}function pl(h,l,b){(b!==r&&!Fn(h[l],b)||b===r&&!(l in h))&&so(h,l,b)}function au(h,l,b){var N=h[l];(!(Ze.call(h,l)&&Fn(N,b))||b===r&&!(l in h))&&so(h,l,b)}function Gf(h,l){for(var b=h.length;b--;)if(Fn(h[b][0],l))return b;return-1}function jb(h,l,b,N){return Do(h,function(F,q,K){l(N,F,b(F),K)}),N}function ng(h,l){return h&&gs(l,$r(l),h)}function Qb(h,l){return h&&gs(l,Bi(l),h)}function so(h,l,b){l=="__proto__"&&zf?zf(h,l,{configurable:!0,enumerable:!0,value:b,writable:!0}):h[l]=b}function gl(h,l){for(var b=-1,N=l.length,F=st(N),q=h==null;++b<N;)F[b]=q?r:Yl(h,l[b]);return F}function la(h,l,b){return h===h&&(b!==r&&(h=h<=b?h:b),l!==r&&(h=h>=l?h:l)),h}function un(h,l,b,N,F,q){var K,Y=l&I,tt=l&B,Ut=l&R;if(b&&(K=F?b(h,N,F,q):b(h)),K!==r)return K;if(!lr(h))return h;var qt=Ae(h);if(qt){if(K=O8(h),!Y)return Ni(h,K)}else{var jt=ni(h),Jt=jt==$||jt==G;if(qo(h))return Ng(h,Y);if(jt==ot||jt==f||Jt&&!F){if(K=tt||Jt?{}:Gg(h),!Y)return tt?E8(h,Qb(K,h)):M8(h,ng(K,h))}else{if(!tr[jt])return F?h:{};K=D8(h,jt,Y)}}q||(q=new Dn);var re=q.get(h);if(re)return re;q.set(h,K),Mm(h)?h.forEach(function(de){K.add(un(de,l,b,de,h,q))}):Am(h)&&h.forEach(function(de,Oe){K.set(Oe,un(de,l,b,Oe,h,q))});var le=Ut?tt?Dl:Ol:tt?Bi:$r,Ie=qt?r:le(h);return on(Ie||h,function(de,Oe){Ie&&(Oe=de,de=h[Oe]),au(K,Oe,un(de,l,b,Oe,h,q))}),K}function Gb(h){var l=$r(h);return function(b){return sg(b,h,l)}}function sg(h,l,b){var N=b.length;if(h==null)return!N;for(h=sr(h);N--;){var F=b[N],q=l[F],K=h[F];if(K===r&&!(F in h)||!q(K))return!1}return!0}function og(h,l,b){if(typeof h!="function")throw new an(c);return pu(function(){h.apply(r,b)},l)}function hu(h,l,b,N){var F=-1,q=Bf,K=!0,Y=h.length,tt=[],Ut=l.length;if(!Y)return tt;b&&(l=cr(l,Gi(b))),N?(q=el,K=!1):l.length>=n&&(q=eu,K=!1,l=new ca(l));t:for(;++F<Y;){var qt=h[F],jt=b==null?qt:b(qt);if(qt=N||qt!==0?qt:0,K&&jt===jt){for(var Jt=Ut;Jt--;)if(l[Jt]===jt)continue t;tt.push(qt)}else q(l,jt,N)||tt.push(qt)}return tt}var Do=Tg(ps),ag=Tg(vl,!0);function Jb(h,l){var b=!0;return Do(h,function(N,F,q){return b=!!l(N,F,q),b}),b}function Jf(h,l,b){for(var N=-1,F=h.length;++N<F;){var q=h[N],K=l(q);if(K!=null&&(Y===r?K===K&&!Yi(K):b(K,Y)))var Y=K,tt=q}return tt}function Yb(h,l,b,N){var F=h.length;for(b=Se(b),b<0&&(b=-b>F?0:F+b),N=N===r||N>F?F:Se(N),N<0&&(N+=F),N=b>N?0:_m(N);b<N;)h[b++]=l;return h}function hg(h,l){var b=[];return Do(h,function(N,F,q){l(N,F,q)&&b.push(N)}),b}function Yr(h,l,b,N,F){var q=-1,K=h.length;for(b||(b=U8),F||(F=[]);++q<K;){var Y=h[q];l>0&&b(Y)?l>1?Yr(Y,l-1,b,N,F):Po(F,Y):N||(F[F.length]=Y)}return F}var ml=Og(),ug=Og(!0);function ps(h,l){return h&&ml(h,l,$r)}function vl(h,l){return h&&ug(h,l,$r)}function Yf(h,l){return Ro(l,function(b){return uo(h[b])})}function da(h,l){l=Uo(l,h);for(var b=0,N=l.length;h!=null&&b<N;)h=h[ms(l[b++])];return b&&b==N?h:r}function fg(h,l,b){var N=l(h);return Ae(h)?N:Po(N,b(h))}function ci(h){return h==null?h===r?ne:ut:ua&&ua in sr(h)?R8(h):K8(h)}function yl(h,l){return h>l}function Vb(h,l){return h!=null&&Ze.call(h,l)}function Wb(h,l){return h!=null&&l in sr(h)}function Xb(h,l,b){return h>=ii(l,b)&&h<Fr(l,b)}function wl(h,l,b){for(var N=b?el:Bf,F=h[0].length,q=h.length,K=q,Y=st(q),tt=1/0,Ut=[];K--;){var qt=h[K];K&&l&&(qt=cr(qt,Gi(l))),tt=ii(qt.length,tt),Y[K]=!b&&(l||F>=120&&qt.length>=120)?new ca(K&&qt):r}qt=h[0];var jt=-1,Jt=Y[0];t:for(;++jt<F&&Ut.length<tt;){var re=qt[jt],le=l?l(re):re;if(re=b||re!==0?re:0,!(Jt?eu(Jt,le):N(Ut,le,b))){for(K=q;--K;){var Ie=Y[K];if(!(Ie?eu(Ie,le):N(h[K],le,b)))continue t}Jt&&Jt.push(le),Ut.push(re)}}return Ut}function Zb(h,l,b,N){return ps(h,function(F,q,K){l(N,b(F),q,K)}),N}function uu(h,l,b){l=Uo(l,h),h=Wg(h,l);var N=h==null?h:h[ms(cn(l))];return N==null?r:zr(N,h,b)}function cg(h){return mr(h)&&ci(h)==f}function t8(h){return mr(h)&&ci(h)==Zt}function e8(h){return mr(h)&&ci(h)==D}function fu(h,l,b,N,F){return h===l?!0:h==null||l==null||!mr(h)&&!mr(l)?h!==h&&l!==l:r8(h,l,b,N,fu,F)}function r8(h,l,b,N,F,q){var K=Ae(h),Y=Ae(l),tt=K?T:ni(h),Ut=Y?T:ni(l);tt=tt==f?ot:tt,Ut=Ut==f?ot:Ut;var qt=tt==ot,jt=Ut==ot,Jt=tt==Ut;if(Jt&&qo(h)){if(!qo(l))return!1;K=!0,qt=!1}if(Jt&&!qt)return q||(q=new Dn),K||th(h)?Kg(h,l,b,N,F,q):C8(h,l,tt,b,N,F,q);if(!(b&O)){var re=qt&&Ze.call(h,"__wrapped__"),le=jt&&Ze.call(l,"__wrapped__");if(re||le){var Ie=re?h.value():h,de=le?l.value():l;return q||(q=new Dn),F(Ie,de,b,N,q)}}return Jt?(q||(q=new Dn),B8(h,l,b,N,F,q)):!1}function i8(h){return mr(h)&&ni(h)==L}function Al(h,l,b,N){var F=b.length,q=F,K=!N;if(h==null)return!q;for(h=sr(h);F--;){var Y=b[F];if(K&&Y[2]?Y[1]!==h[Y[0]]:!(Y[0]in h))return!1}for(;++F<q;){Y=b[F];var tt=Y[0],Ut=h[tt],qt=Y[1];if(K&&Y[2]){if(Ut===r&&!(tt in h))return!1}else{var jt=new Dn;if(N)var Jt=N(Ut,qt,tt,h,l,jt);if(!(Jt===r?fu(qt,Ut,O|z,N,jt):Jt))return!1}}return!0}function lg(h){if(!lr(h)||q8(h))return!1;var l=uo(h)?ib:Be;return l.test(ga(h))}function n8(h){return mr(h)&&ci(h)==vt}function s8(h){return mr(h)&&ni(h)==te}function o8(h){return mr(h)&&l0(h.length)&&!!rr[ci(h)]}function dg(h){return typeof h=="function"?h:h==null?Ri:typeof h=="object"?Ae(h)?mg(h[0],h[1]):gg(h):Dm(h)}function bl(h){if(!du(h))return ub(h);var l=[];for(var b in sr(h))Ze.call(h,b)&&b!="constructor"&&l.push(b);return l}function a8(h){if(!lr(h))return H8(h);var l=du(h),b=[];for(var N in h)N=="constructor"&&(l||!Ze.call(h,N))||b.push(N);return b}function Ml(h,l){return h<l}function pg(h,l){var b=-1,N=Ci(h)?st(h.length):[];return Do(h,function(F,q,K){N[++b]=l(F,q,K)}),N}function gg(h){var l=Ul(h);return l.length==1&&l[0][2]?Yg(l[0][0],l[0][1]):function(b){return b===h||Al(b,h,l)}}function mg(h,l){return ql(h)&&Jg(l)?Yg(ms(h),l):function(b){var N=Yl(b,h);return N===r&&N===l?Vl(b,h):fu(l,N,O|z)}}function Vf(h,l,b,N,F){h!==l&&ml(l,function(q,K){if(F||(F=new Dn),lr(q))h8(h,l,K,b,Vf,N,F);else{var Y=N?N(zl(h,K),q,K+"",h,l,F):r;Y===r&&(Y=q),pl(h,K,Y)}},Bi)}function h8(h,l,b,N,F,q,K){var Y=zl(h,b),tt=zl(l,b),Ut=K.get(tt);if(Ut){pl(h,b,Ut);return}var qt=q?q(Y,tt,b+"",h,l,K):r,jt=qt===r;if(jt){var Jt=Ae(tt),re=!Jt&&qo(tt),le=!Jt&&!re&&th(tt);qt=tt,Jt||re||le?Ae(Y)?qt=Y:Ar(Y)?qt=Ni(Y):re?(jt=!1,qt=Ng(tt,!0)):le?(jt=!1,qt=Cg(tt,!0)):qt=[]:gu(tt)||ma(tt)?(qt=Y,ma(Y)?qt=Sm(Y):(!lr(Y)||uo(Y))&&(qt=Gg(tt))):jt=!1}jt&&(K.set(tt,qt),F(qt,tt,N,q,K),K.delete(tt)),pl(h,b,qt)}function vg(h,l){var b=h.length;if(b)return l+=l<0?b:0,ho(l,b)?h[l]:r}function yg(h,l,b){l.length?l=cr(l,function(q){return Ae(q)?function(K){return da(K,q.length===1?q[0]:q)}:q}):l=[Ri];var N=-1;l=cr(l,Gi(ce()));var F=pg(h,function(q,K,Y){var tt=cr(l,function(Ut){return Ut(q)});return{criteria:tt,index:++N,value:q}});return DA(F,function(q,K){return b8(q,K,b)})}function u8(h,l){return wg(h,l,function(b,N){return Vl(h,N)})}function wg(h,l,b){for(var N=-1,F=l.length,q={};++N<F;){var K=l[N],Y=da(h,K);b(Y,K)&&cu(q,Uo(K,h),Y)}return q}function f8(h){return function(l){return da(l,h)}}function El(h,l,b,N){var F=N?OA:Ha,q=-1,K=l.length,Y=h;for(h===l&&(l=Ni(l)),b&&(Y=cr(h,Gi(b)));++q<K;)for(var tt=0,Ut=l[q],qt=b?b(Ut):Ut;(tt=F(Y,qt,tt,N))>-1;)Y!==h&&Lf.call(Y,tt,1),Lf.call(h,tt,1);return h}function Ag(h,l){for(var b=h?l.length:0,N=b-1;b--;){var F=l[b];if(b==N||F!==q){var q=F;ho(F)?Lf.call(h,F,1):xl(h,F)}}return h}function _l(h,l){return h+Hf(tg()*(l-h+1))}function c8(h,l,b,N){for(var F=-1,q=Fr($f((l-h)/(b||1)),0),K=st(q);q--;)K[N?q:++F]=h,h+=b;return K}function Sl(h,l){var b="";if(!h||l<1||l>M)return b;do l%2&&(b+=h),l=Hf(l/2),l&&(h+=h);while(l);return b}function Te(h,l){return $l(Vg(h,l,Ri),h+"")}function l8(h){return ig(eh(h))}function d8(h,l){var b=eh(h);return o0(b,la(l,0,b.length))}function cu(h,l,b,N){if(!lr(h))return h;l=Uo(l,h);for(var F=-1,q=l.length,K=q-1,Y=h;Y!=null&&++F<q;){var tt=ms(l[F]),Ut=b;if(tt==="__proto__"||tt==="constructor"||tt==="prototype")return h;if(F!=K){var qt=Y[tt];Ut=N?N(qt,tt,Y):r,Ut===r&&(Ut=lr(qt)?qt:ho(l[F+1])?[]:{})}au(Y,tt,Ut),Y=Y[tt]}return h}var bg=Kf?function(h,l){return Kf.set(h,l),h}:Ri,p8=zf?function(h,l){return zf(h,"toString",{configurable:!0,enumerable:!1,value:Xl(l),writable:!0})}:Ri;function g8(h){return o0(eh(h))}function fn(h,l,b){var N=-1,F=h.length;l<0&&(l=-l>F?0:F+l),b=b>F?F:b,b<0&&(b+=F),F=l>b?0:b-l>>>0,l>>>=0;for(var q=st(F);++N<F;)q[N]=h[N+l];return q}function m8(h,l){var b;return Do(h,function(N,F,q){return b=l(N,F,q),!b}),!!b}function Wf(h,l,b){var N=0,F=h==null?N:h.length;if(typeof l=="number"&&l===l&&F<=Q){for(;N<F;){var q=N+F>>>1,K=h[q];K!==null&&!Yi(K)&&(b?K<=l:K<l)?N=q+1:F=q}return F}return Il(h,l,Ri,b)}function Il(h,l,b,N){var F=0,q=h==null?0:h.length;if(q===0)return 0;l=b(l);for(var K=l!==l,Y=l===null,tt=Yi(l),Ut=l===r;F<q;){var qt=Hf((F+q)/2),jt=b(h[qt]),Jt=jt!==r,re=jt===null,le=jt===jt,Ie=Yi(jt);if(K)var de=N||le;else Ut?de=le&&(N||Jt):Y?de=le&&Jt&&(N||!re):tt?de=le&&Jt&&!re&&(N||!Ie):re||Ie?de=!1:de=N?jt<=l:jt<l;de?F=qt+1:q=qt}return ii(q,g)}function Mg(h,l){for(var b=-1,N=h.length,F=0,q=[];++b<N;){var K=h[b],Y=l?l(K):K;if(!b||!Fn(Y,tt)){var tt=Y;q[F++]=K===0?0:K}}return q}function Eg(h){return typeof h=="number"?h:Yi(h)?m:+h}function Ji(h){if(typeof h=="string")return h;if(Ae(h))return cr(h,Ji)+"";if(Yi(h))return eg?eg.call(h):"";var l=h+"";return l=="0"&&1/h==-A?"-0":l}function Fo(h,l,b){var N=-1,F=Bf,q=h.length,K=!0,Y=[],tt=Y;if(b)K=!1,F=el;else if(q>=n){var Ut=l?null:x8(h);if(Ut)return Pf(Ut);K=!1,F=eu,tt=new ca}else tt=l?[]:Y;t:for(;++N<q;){var qt=h[N],jt=l?l(qt):qt;if(qt=b||qt!==0?qt:0,K&&jt===jt){for(var Jt=tt.length;Jt--;)if(tt[Jt]===jt)continue t;l&&tt.push(jt),Y.push(qt)}else F(tt,jt,b)||(tt!==Y&&tt.push(jt),Y.push(qt))}return Y}function xl(h,l){return l=Uo(l,h),h=Wg(h,l),h==null||delete h[ms(cn(l))]}function _g(h,l,b,N){return cu(h,l,b(da(h,l)),N)}function Xf(h,l,b,N){for(var F=h.length,q=N?F:-1;(N?q--:++q<F)&&l(h[q],q,h););return b?fn(h,N?0:q,N?q+1:F):fn(h,N?q+1:0,N?F:q)}function Sg(h,l){var b=h;return b instanceof De&&(b=b.value()),rl(l,function(N,F){return F.func.apply(F.thisArg,Po([N],F.args))},b)}function Nl(h,l,b){var N=h.length;if(N<2)return N?Fo(h[0]):[];for(var F=-1,q=st(N);++F<N;)for(var K=h[F],Y=-1;++Y<N;)Y!=F&&(q[F]=hu(q[F]||K,h[Y],l,b));return Fo(Yr(q,1),l,b)}function Ig(h,l,b){for(var N=-1,F=h.length,q=l.length,K={};++N<F;){var Y=N<q?l[N]:r;b(K,h[N],Y)}return K}function Cl(h){return Ar(h)?h:[]}function Bl(h){return typeof h=="function"?h:Ri}function Uo(h,l){return Ae(h)?h:ql(h,l)?[h]:em(Ve(h))}var v8=Te;function ko(h,l,b){var N=h.length;return b=b===r?N:b,!l&&b>=N?h:fn(h,l,b)}var xg=nb||function(h){return je.clearTimeout(h)};function Ng(h,l){if(l)return h.slice();var b=h.length,N=Yp?Yp(b):new h.constructor(b);return h.copy(N),N}function Rl(h){var l=new h.constructor(h.byteLength);return new kf(l).set(new kf(h)),l}function y8(h,l){var b=l?Rl(h.buffer):h.buffer;return new h.constructor(b,h.byteOffset,h.byteLength)}function w8(h){var l=new h.constructor(h.source,Ft.exec(h));return l.lastIndex=h.lastIndex,l}function A8(h){return ou?sr(ou.call(h)):{}}function Cg(h,l){var b=l?Rl(h.buffer):h.buffer;return new h.constructor(b,h.byteOffset,h.length)}function Bg(h,l){if(h!==l){var b=h!==r,N=h===null,F=h===h,q=Yi(h),K=l!==r,Y=l===null,tt=l===l,Ut=Yi(l);if(!Y&&!Ut&&!q&&h>l||q&&K&&tt&&!Y&&!Ut||N&&K&&tt||!b&&tt||!F)return 1;if(!N&&!q&&!Ut&&h<l||Ut&&b&&F&&!N&&!q||Y&&b&&F||!K&&F||!tt)return-1}return 0}function b8(h,l,b){for(var N=-1,F=h.criteria,q=l.criteria,K=F.length,Y=b.length;++N<K;){var tt=Bg(F[N],q[N]);if(tt){if(N>=Y)return tt;var Ut=b[N];return tt*(Ut=="desc"?-1:1)}}return h.index-l.index}function Rg(h,l,b,N){for(var F=-1,q=h.length,K=b.length,Y=-1,tt=l.length,Ut=Fr(q-K,0),qt=st(tt+Ut),jt=!N;++Y<tt;)qt[Y]=l[Y];for(;++F<K;)(jt||F<q)&&(qt[b[F]]=h[F]);for(;Ut--;)qt[Y++]=h[F++];return qt}function Pg(h,l,b,N){for(var F=-1,q=h.length,K=-1,Y=b.length,tt=-1,Ut=l.length,qt=Fr(q-Y,0),jt=st(qt+Ut),Jt=!N;++F<qt;)jt[F]=h[F];for(var re=F;++tt<Ut;)jt[re+tt]=l[tt];for(;++K<Y;)(Jt||F<q)&&(jt[re+b[K]]=h[F++]);return jt}function Ni(h,l){var b=-1,N=h.length;for(l||(l=st(N));++b<N;)l[b]=h[b];return l}function gs(h,l,b,N){var F=!b;b||(b={});for(var q=-1,K=l.length;++q<K;){var Y=l[q],tt=N?N(b[Y],h[Y],Y,b,h):r;tt===r&&(tt=h[Y]),F?so(b,Y,tt):au(b,Y,tt)}return b}function M8(h,l){return gs(h,kl(h),l)}function E8(h,l){return gs(h,jg(h),l)}function Zf(h,l){return function(b,N){var F=Ae(b)?NA:jb,q=l?l():{};return F(b,h,ce(N,2),q)}}function Wa(h){return Te(function(l,b){var N=-1,F=b.length,q=F>1?b[F-1]:r,K=F>2?b[2]:r;for(q=h.length>3&&typeof q=="function"?(F--,q):r,K&&li(b[0],b[1],K)&&(q=F<3?r:q,F=1),l=sr(l);++N<F;){var Y=b[N];Y&&h(l,Y,N,q)}return l})}function Tg(h,l){return function(b,N){if(b==null)return b;if(!Ci(b))return h(b,N);for(var F=b.length,q=l?F:-1,K=sr(b);(l?q--:++q<F)&&N(K[q],q,K)!==!1;);return b}}function Og(h){return function(l,b,N){for(var F=-1,q=sr(l),K=N(l),Y=K.length;Y--;){var tt=K[h?Y:++F];if(b(q[tt],tt,q)===!1)break}return l}}function _8(h,l,b){var N=l&k,F=lu(h);function q(){var K=this&&this!==je&&this instanceof q?F:h;return K.apply(N?b:this,arguments)}return q}function Dg(h){return function(l){l=Ve(l);var b=Ka(l)?On(l):r,N=b?b[0]:l.charAt(0),F=b?ko(b,1).join(""):l.slice(1);return N[h]()+F}}function Xa(h){return function(l){return rl(Tm(Pm(l).replace(Zh,"")),h,"")}}function lu(h){return function(){var l=arguments;switch(l.length){case 0:return new h;case 1:return new h(l[0]);case 2:return new h(l[0],l[1]);case 3:return new h(l[0],l[1],l[2]);case 4:return new h(l[0],l[1],l[2],l[3]);case 5:return new h(l[0],l[1],l[2],l[3],l[4]);case 6:return new h(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new h(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var b=Va(h.prototype),N=h.apply(b,l);return lr(N)?N:b}}function S8(h,l,b){var N=lu(h);function F(){for(var q=arguments.length,K=st(q),Y=q,tt=Za(F);Y--;)K[Y]=arguments[Y];var Ut=q<3&&K[0]!==tt&&K[q-1]!==tt?[]:To(K,tt);if(q-=Ut.length,q<b)return Lg(h,l,t0,F.placeholder,r,K,Ut,r,r,b-q);var qt=this&&this!==je&&this instanceof F?N:h;return zr(qt,this,K)}return F}function Fg(h){return function(l,b,N){var F=sr(l);if(!Ci(l)){var q=ce(b,3);l=$r(l),b=function(Y){return q(F[Y],Y,F)}}var K=h(l,b,N);return K>-1?F[q?l[K]:K]:r}}function Ug(h){return ao(function(l){var b=l.length,N=b,F=hn.prototype.thru;for(h&&l.reverse();N--;){var q=l[N];if(typeof q!="function")throw new an(c);if(F&&!K&&n0(q)=="wrapper")var K=new hn([],!0)}for(N=K?N:b;++N<b;){q=l[N];var Y=n0(q),tt=Y=="wrapper"?Fl(q):r;tt&&Ll(tt[0])&&tt[1]==(nt|ht|W|it)&&!tt[4].length&&tt[9]==1?K=K[n0(tt[0])].apply(K,tt[3]):K=q.length==1&&Ll(q)?K[Y]():K.thru(q)}return function(){var Ut=arguments,qt=Ut[0];if(K&&Ut.length==1&&Ae(qt))return K.plant(qt).value();for(var jt=0,Jt=b?l[jt].apply(this,Ut):qt;++jt<b;)Jt=l[jt].call(this,Jt);return Jt}})}function t0(h,l,b,N,F,q,K,Y,tt,Ut){var qt=l&nt,jt=l&k,Jt=l&J,re=l&(ht|et),le=l&Qt,Ie=Jt?r:lu(h);function de(){for(var Oe=arguments.length,Qe=st(Oe),Vi=Oe;Vi--;)Qe[Vi]=arguments[Vi];if(re)var di=Za(de),Wi=UA(Qe,di);if(N&&(Qe=Rg(Qe,N,F,re)),q&&(Qe=Pg(Qe,q,K,re)),Oe-=Wi,re&&Oe<Ut){var br=To(Qe,di);return Lg(h,l,t0,de.placeholder,b,Qe,br,Y,tt,Ut-Oe)}var Un=jt?b:this,co=Jt?Un[h]:h;return Oe=Qe.length,Y?Qe=j8(Qe,Y):le&&Oe>1&&Qe.reverse(),qt&&tt<Oe&&(Qe.length=tt),this&&this!==je&&this instanceof de&&(co=Ie||lu(co)),co.apply(Un,Qe)}return de}function kg(h,l){return function(b,N){return Zb(b,h,l(N),{})}}function e0(h,l){return function(b,N){var F;if(b===r&&N===r)return l;if(b!==r&&(F=b),N!==r){if(F===r)return N;typeof b=="string"||typeof N=="string"?(b=Ji(b),N=Ji(N)):(b=Eg(b),N=Eg(N)),F=h(b,N)}return F}}function Pl(h){return ao(function(l){return l=cr(l,Gi(ce())),Te(function(b){var N=this;return h(l,function(F){return zr(F,N,b)})})})}function r0(h,l){l=l===r?" ":Ji(l);var b=l.length;if(b<2)return b?Sl(l,h):l;var N=Sl(l,$f(h/ja(l)));return Ka(l)?ko(On(N),0,h).join(""):N.slice(0,h)}function I8(h,l,b,N){var F=l&k,q=lu(h);function K(){for(var Y=-1,tt=arguments.length,Ut=-1,qt=N.length,jt=st(qt+tt),Jt=this&&this!==je&&this instanceof K?q:h;++Ut<qt;)jt[Ut]=N[Ut];for(;tt--;)jt[Ut++]=arguments[++Y];return zr(Jt,F?b:this,jt)}return K}function qg(h){return function(l,b,N){return N&&typeof N!="number"&&li(l,b,N)&&(b=N=r),l=fo(l),b===r?(b=l,l=0):b=fo(b),N=N===r?l<b?1:-1:fo(N),c8(l,b,N,h)}}function i0(h){return function(l,b){return typeof l=="string"&&typeof b=="string"||(l=ln(l),b=ln(b)),h(l,b)}}function Lg(h,l,b,N,F,q,K,Y,tt,Ut){var qt=l&ht,jt=qt?K:r,Jt=qt?r:K,re=qt?q:r,le=qt?r:q;l|=qt?W:V,l&=~(qt?V:W),l&rt||(l&=~(k|J));var Ie=[h,l,F,re,jt,le,Jt,Y,tt,Ut],de=b.apply(r,Ie);return Ll(h)&&Xg(de,Ie),de.placeholder=N,Zg(de,h,l)}function Tl(h){var l=Dr[h];return function(b,N){if(b=ln(b),N=N==null?0:ii(Se(N),292),N&&Zp(b)){var F=(Ve(b)+"e").split("e"),q=l(F[0]+"e"+(+F[1]+N));return F=(Ve(q)+"e").split("e"),+(F[0]+"e"+(+F[1]-N))}return l(b)}}var x8=Ja&&1/Pf(new Ja([,-0]))[1]==A?function(h){return new Ja(h)}:ed;function zg(h){return function(l){var b=ni(l);return b==L?ul(l):b==te?KA(l):FA(l,h(l))}}function oo(h,l,b,N,F,q,K,Y){var tt=l&J;if(!tt&&typeof h!="function")throw new an(c);var Ut=N?N.length:0;if(Ut||(l&=~(W|V),N=F=r),K=K===r?K:Fr(Se(K),0),Y=Y===r?Y:Se(Y),Ut-=F?F.length:0,l&V){var qt=N,jt=F;N=F=r}var Jt=tt?r:Fl(h),re=[h,l,b,N,F,qt,jt,q,K,Y];if(Jt&&$8(re,Jt),h=re[0],l=re[1],b=re[2],N=re[3],F=re[4],Y=re[9]=re[9]===r?tt?0:h.length:Fr(re[9]-Ut,0),!Y&&l&(ht|et)&&(l&=~(ht|et)),!l||l==k)var le=_8(h,l,b);else l==ht||l==et?le=S8(h,l,Y):(l==W||l==(k|W))&&!F.length?le=I8(h,l,b,N):le=t0.apply(r,re);var Ie=Jt?bg:Xg;return Zg(Ie(le,re),h,l)}function $g(h,l,b,N){return h===r||Fn(h,Ga[b])&&!Ze.call(N,b)?l:h}function Hg(h,l,b,N,F,q){return lr(h)&&lr(l)&&(q.set(l,h),Vf(h,l,r,Hg,q),q.delete(l)),h}function N8(h){return gu(h)?r:h}function Kg(h,l,b,N,F,q){var K=b&O,Y=h.length,tt=l.length;if(Y!=tt&&!(K&&tt>Y))return!1;var Ut=q.get(h),qt=q.get(l);if(Ut&&qt)return Ut==l&&qt==h;var jt=-1,Jt=!0,re=b&z?new ca:r;for(q.set(h,l),q.set(l,h);++jt<Y;){var le=h[jt],Ie=l[jt];if(N)var de=K?N(Ie,le,jt,l,h,q):N(le,Ie,jt,h,l,q);if(de!==r){if(de)continue;Jt=!1;break}if(re){if(!il(l,function(Oe,Qe){if(!eu(re,Qe)&&(le===Oe||F(le,Oe,b,N,q)))return re.push(Qe)})){Jt=!1;break}}else if(!(le===Ie||F(le,Ie,b,N,q))){Jt=!1;break}}return q.delete(h),q.delete(l),Jt}function C8(h,l,b,N,F,q,K){switch(b){case ct:if(h.byteLength!=l.byteLength||h.byteOffset!=l.byteOffset)return!1;h=h.buffer,l=l.buffer;case Zt:return!(h.byteLength!=l.byteLength||!q(new kf(h),new kf(l)));case C:case D:case at:return Fn(+h,+l);case P:return h.name==l.name&&h.message==l.message;case vt:case dt:return h==l+"";case L:var Y=ul;case te:var tt=N&O;if(Y||(Y=Pf),h.size!=l.size&&!tt)return!1;var Ut=K.get(h);if(Ut)return Ut==l;N|=z,K.set(h,l);var qt=Kg(Y(h),Y(l),N,F,q,K);return K.delete(h),qt;case pt:if(ou)return ou.call(h)==ou.call(l)}return!1}function B8(h,l,b,N,F,q){var K=b&O,Y=Ol(h),tt=Y.length,Ut=Ol(l),qt=Ut.length;if(tt!=qt&&!K)return!1;for(var jt=tt;jt--;){var Jt=Y[jt];if(!(K?Jt in l:Ze.call(l,Jt)))return!1}var re=q.get(h),le=q.get(l);if(re&&le)return re==l&&le==h;var Ie=!0;q.set(h,l),q.set(l,h);for(var de=K;++jt<tt;){Jt=Y[jt];var Oe=h[Jt],Qe=l[Jt];if(N)var Vi=K?N(Qe,Oe,Jt,l,h,q):N(Oe,Qe,Jt,h,l,q);if(!(Vi===r?Oe===Qe||F(Oe,Qe,b,N,q):Vi)){Ie=!1;break}de||(de=Jt=="constructor")}if(Ie&&!de){var di=h.constructor,Wi=l.constructor;di!=Wi&&"constructor"in h&&"constructor"in l&&!(typeof di=="function"&&di instanceof di&&typeof Wi=="function"&&Wi instanceof Wi)&&(Ie=!1)}return q.delete(h),q.delete(l),Ie}function ao(h){return $l(Vg(h,r,sm),h+"")}function Ol(h){return fg(h,$r,kl)}function Dl(h){return fg(h,Bi,jg)}var Fl=Kf?function(h){return Kf.get(h)}:ed;function n0(h){for(var l=h.name+"",b=Ya[l],N=Ze.call(Ya,l)?b.length:0;N--;){var F=b[N],q=F.func;if(q==null||q==h)return F.name}return l}function Za(h){var l=Ze.call(U,"placeholder")?U:h;return l.placeholder}function ce(){var h=U.iteratee||Zl;return h=h===Zl?dg:h,arguments.length?h(arguments[0],arguments[1]):h}function s0(h,l){var b=h.__data__;return k8(l)?b[typeof l=="string"?"string":"hash"]:b.map}function Ul(h){for(var l=$r(h),b=l.length;b--;){var N=l[b],F=h[N];l[b]=[N,F,Jg(F)]}return l}function pa(h,l){var b=zA(h,l);return lg(b)?b:r}function R8(h){var l=Ze.call(h,ua),b=h[ua];try{h[ua]=r;var N=!0}catch{}var F=Ff.call(h);return N&&(l?h[ua]=b:delete h[ua]),F}var kl=cl?function(h){return h==null?[]:(h=sr(h),Ro(cl(h),function(l){return Wp.call(h,l)}))}:rd,jg=cl?function(h){for(var l=[];h;)Po(l,kl(h)),h=qf(h);return l}:rd,ni=ci;(ll&&ni(new ll(new ArrayBuffer(1)))!=ct||iu&&ni(new iu)!=L||dl&&ni(dl.resolve())!=he||Ja&&ni(new Ja)!=te||nu&&ni(new nu)!=ft)&&(ni=function(h){var l=ci(h),b=l==ot?h.constructor:r,N=b?ga(b):"";if(N)switch(N){case db:return ct;case pb:return L;case gb:return he;case mb:return te;case vb:return ft}return l});function P8(h,l,b){for(var N=-1,F=b.length;++N<F;){var q=b[N],K=q.size;switch(q.type){case"drop":h+=K;break;case"dropRight":l-=K;break;case"take":l=ii(l,h+K);break;case"takeRight":h=Fr(h,l-K);break}}return{start:h,end:l}}function T8(h){var l=h.match(lt);return l?l[1].split(ue):[]}function Qg(h,l,b){l=Uo(l,h);for(var N=-1,F=l.length,q=!1;++N<F;){var K=ms(l[N]);if(!(q=h!=null&&b(h,K)))break;h=h[K]}return q||++N!=F?q:(F=h==null?0:h.length,!!F&&l0(F)&&ho(K,F)&&(Ae(h)||ma(h)))}function O8(h){var l=h.length,b=new h.constructor(l);return l&&typeof h[0]=="string"&&Ze.call(h,"index")&&(b.index=h.index,b.input=h.input),b}function Gg(h){return typeof h.constructor=="function"&&!du(h)?Va(qf(h)):{}}function D8(h,l,b){var N=h.constructor;switch(l){case Zt:return Rl(h);case C:case D:return new N(+h);case ct:return y8(h,b);case wt:case ee:case It:case Rt:case pe:case Ot:case Tt:case ge:case Dt:return Cg(h,b);case L:return new N;case at:case dt:return new N(h);case vt:return w8(h);case te:return new N;case pt:return A8(h)}}function F8(h,l){var b=l.length;if(!b)return h;var N=b-1;return l[N]=(b>1?"& ":"")+l[N],l=l.join(b>2?", ":" "),h.replace(Et,`{
/* [wrapped with `+l+`] */
`)}function U8(h){return Ae(h)||ma(h)||!!(Xp&&h&&h[Xp])}function ho(h,l){var b=typeof h;return l=l??M,!!l&&(b=="number"||b!="symbol"&&Pe.test(h))&&h>-1&&h%1==0&&h<l}function li(h,l,b){if(!lr(b))return!1;var N=typeof l;return(N=="number"?Ci(b)&&ho(l,b.length):N=="string"&&l in b)?Fn(b[l],h):!1}function ql(h,l){if(Ae(h))return!1;var b=typeof h;return b=="number"||b=="symbol"||b=="boolean"||h==null||Yi(h)?!0:xt.test(h)||!ie.test(h)||l!=null&&h in sr(l)}function k8(h){var l=typeof h;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?h!=="__proto__":h===null}function Ll(h){var l=n0(h),b=U[l];if(typeof b!="function"||!(l in De.prototype))return!1;if(h===b)return!0;var N=Fl(b);return!!N&&h===N[0]}function q8(h){return!!Jp&&Jp in h}var L8=Of?uo:id;function du(h){var l=h&&h.constructor,b=typeof l=="function"&&l.prototype||Ga;return h===b}function Jg(h){return h===h&&!lr(h)}function Yg(h,l){return function(b){return b==null?!1:b[h]===l&&(l!==r||h in sr(b))}}function z8(h){var l=f0(h,function(N){return b.size===p&&b.clear(),N}),b=l.cache;return l}function $8(h,l){var b=h[1],N=l[1],F=b|N,q=F<(k|J|nt),K=N==nt&&b==ht||N==nt&&b==it&&h[7].length<=l[8]||N==(nt|it)&&l[7].length<=l[8]&&b==ht;if(!(q||K))return h;N&k&&(h[2]=l[2],F|=b&k?0:rt);var Y=l[3];if(Y){var tt=h[3];h[3]=tt?Rg(tt,Y,l[4]):Y,h[4]=tt?To(h[3],_):l[4]}return Y=l[5],Y&&(tt=h[5],h[5]=tt?Pg(tt,Y,l[6]):Y,h[6]=tt?To(h[5],_):l[6]),Y=l[7],Y&&(h[7]=Y),N&nt&&(h[8]=h[8]==null?l[8]:ii(h[8],l[8])),h[9]==null&&(h[9]=l[9]),h[0]=l[0],h[1]=F,h}function H8(h){var l=[];if(h!=null)for(var b in sr(h))l.push(b);return l}function K8(h){return Ff.call(h)}function Vg(h,l,b){return l=Fr(l===r?h.length-1:l,0),function(){for(var N=arguments,F=-1,q=Fr(N.length-l,0),K=st(q);++F<q;)K[F]=N[l+F];F=-1;for(var Y=st(l+1);++F<l;)Y[F]=N[F];return Y[l]=b(K),zr(h,this,Y)}}function Wg(h,l){return l.length<2?h:da(h,fn(l,0,-1))}function j8(h,l){for(var b=h.length,N=ii(l.length,b),F=Ni(h);N--;){var q=l[N];h[N]=ho(q,b)?F[q]:r}return h}function zl(h,l){if(!(l==="constructor"&&typeof h[l]=="function")&&l!="__proto__")return h[l]}var Xg=tm(bg),pu=ob||function(h,l){return je.setTimeout(h,l)},$l=tm(p8);function Zg(h,l,b){var N=l+"";return $l(h,F8(N,Q8(T8(N),b)))}function tm(h){var l=0,b=0;return function(){var N=fb(),F=s-(N-b);if(b=N,F>0){if(++l>=Vt)return arguments[0]}else l=0;return h.apply(r,arguments)}}function o0(h,l){var b=-1,N=h.length,F=N-1;for(l=l===r?N:l;++b<l;){var q=_l(b,F),K=h[q];h[q]=h[b],h[b]=K}return h.length=l,h}var em=z8(function(h){var l=[];return h.charCodeAt(0)===46&&l.push(""),h.replace(Nt,function(b,N,F,q){l.push(F?q.replace(Ke,"$1"):N||b)}),l});function ms(h){if(typeof h=="string"||Yi(h))return h;var l=h+"";return l=="0"&&1/h==-A?"-0":l}function ga(h){if(h!=null){try{return Df.call(h)}catch{}try{return h+""}catch{}}return""}function Q8(h,l){return on(j,function(b){var N="_."+b[0];l&b[1]&&!Bf(h,N)&&h.push(N)}),h.sort()}function rm(h){if(h instanceof De)return h.clone();var l=new hn(h.__wrapped__,h.__chain__);return l.__actions__=Ni(h.__actions__),l.__index__=h.__index__,l.__values__=h.__values__,l}function G8(h,l,b){(b?li(h,l,b):l===r)?l=1:l=Fr(Se(l),0);var N=h==null?0:h.length;if(!N||l<1)return[];for(var F=0,q=0,K=st($f(N/l));F<N;)K[q++]=fn(h,F,F+=l);return K}function J8(h){for(var l=-1,b=h==null?0:h.length,N=0,F=[];++l<b;){var q=h[l];q&&(F[N++]=q)}return F}function Y8(){var h=arguments.length;if(!h)return[];for(var l=st(h-1),b=arguments[0],N=h;N--;)l[N-1]=arguments[N];return Po(Ae(b)?Ni(b):[b],Yr(l,1))}var V8=Te(function(h,l){return Ar(h)?hu(h,Yr(l,1,Ar,!0)):[]}),W8=Te(function(h,l){var b=cn(l);return Ar(b)&&(b=r),Ar(h)?hu(h,Yr(l,1,Ar,!0),ce(b,2)):[]}),X8=Te(function(h,l){var b=cn(l);return Ar(b)&&(b=r),Ar(h)?hu(h,Yr(l,1,Ar,!0),r,b):[]});function Z8(h,l,b){var N=h==null?0:h.length;return N?(l=b||l===r?1:Se(l),fn(h,l<0?0:l,N)):[]}function t4(h,l,b){var N=h==null?0:h.length;return N?(l=b||l===r?1:Se(l),l=N-l,fn(h,0,l<0?0:l)):[]}function e4(h,l){return h&&h.length?Xf(h,ce(l,3),!0,!0):[]}function r4(h,l){return h&&h.length?Xf(h,ce(l,3),!0):[]}function i4(h,l,b,N){var F=h==null?0:h.length;return F?(b&&typeof b!="number"&&li(h,l,b)&&(b=0,N=F),Yb(h,l,b,N)):[]}function im(h,l,b){var N=h==null?0:h.length;if(!N)return-1;var F=b==null?0:Se(b);return F<0&&(F=Fr(N+F,0)),Rf(h,ce(l,3),F)}function nm(h,l,b){var N=h==null?0:h.length;if(!N)return-1;var F=N-1;return b!==r&&(F=Se(b),F=b<0?Fr(N+F,0):ii(F,N-1)),Rf(h,ce(l,3),F,!0)}function sm(h){var l=h==null?0:h.length;return l?Yr(h,1):[]}function n4(h){var l=h==null?0:h.length;return l?Yr(h,A):[]}function s4(h,l){var b=h==null?0:h.length;return b?(l=l===r?1:Se(l),Yr(h,l)):[]}function o4(h){for(var l=-1,b=h==null?0:h.length,N={};++l<b;){var F=h[l];N[F[0]]=F[1]}return N}function om(h){return h&&h.length?h[0]:r}function a4(h,l,b){var N=h==null?0:h.length;if(!N)return-1;var F=b==null?0:Se(b);return F<0&&(F=Fr(N+F,0)),Ha(h,l,F)}function h4(h){var l=h==null?0:h.length;return l?fn(h,0,-1):[]}var u4=Te(function(h){var l=cr(h,Cl);return l.length&&l[0]===h[0]?wl(l):[]}),f4=Te(function(h){var l=cn(h),b=cr(h,Cl);return l===cn(b)?l=r:b.pop(),b.length&&b[0]===h[0]?wl(b,ce(l,2)):[]}),c4=Te(function(h){var l=cn(h),b=cr(h,Cl);return l=typeof l=="function"?l:r,l&&b.pop(),b.length&&b[0]===h[0]?wl(b,r,l):[]});function l4(h,l){return h==null?"":hb.call(h,l)}function cn(h){var l=h==null?0:h.length;return l?h[l-1]:r}function d4(h,l,b){var N=h==null?0:h.length;if(!N)return-1;var F=N;return b!==r&&(F=Se(b),F=F<0?Fr(N+F,0):ii(F,N-1)),l===l?QA(h,l,F):Rf(h,Lp,F,!0)}function p4(h,l){return h&&h.length?vg(h,Se(l)):r}var g4=Te(am);function am(h,l){return h&&h.length&&l&&l.length?El(h,l):h}function m4(h,l,b){return h&&h.length&&l&&l.length?El(h,l,ce(b,2)):h}function v4(h,l,b){return h&&h.length&&l&&l.length?El(h,l,r,b):h}var y4=ao(function(h,l){var b=h==null?0:h.length,N=gl(h,l);return Ag(h,cr(l,function(F){return ho(F,b)?+F:F}).sort(Bg)),N});function w4(h,l){var b=[];if(!(h&&h.length))return b;var N=-1,F=[],q=h.length;for(l=ce(l,3);++N<q;){var K=h[N];l(K,N,h)&&(b.push(K),F.push(N))}return Ag(h,F),b}function Hl(h){return h==null?h:lb.call(h)}function A4(h,l,b){var N=h==null?0:h.length;return N?(b&&typeof b!="number"&&li(h,l,b)?(l=0,b=N):(l=l==null?0:Se(l),b=b===r?N:Se(b)),fn(h,l,b)):[]}function b4(h,l){return Wf(h,l)}function M4(h,l,b){return Il(h,l,ce(b,2))}function E4(h,l){var b=h==null?0:h.length;if(b){var N=Wf(h,l);if(N<b&&Fn(h[N],l))return N}return-1}function _4(h,l){return Wf(h,l,!0)}function S4(h,l,b){return Il(h,l,ce(b,2),!0)}function I4(h,l){var b=h==null?0:h.length;if(b){var N=Wf(h,l,!0)-1;if(Fn(h[N],l))return N}return-1}function x4(h){return h&&h.length?Mg(h):[]}function N4(h,l){return h&&h.length?Mg(h,ce(l,2)):[]}function C4(h){var l=h==null?0:h.length;return l?fn(h,1,l):[]}function B4(h,l,b){return h&&h.length?(l=b||l===r?1:Se(l),fn(h,0,l<0?0:l)):[]}function R4(h,l,b){var N=h==null?0:h.length;return N?(l=b||l===r?1:Se(l),l=N-l,fn(h,l<0?0:l,N)):[]}function P4(h,l){return h&&h.length?Xf(h,ce(l,3),!1,!0):[]}function T4(h,l){return h&&h.length?Xf(h,ce(l,3)):[]}var O4=Te(function(h){return Fo(Yr(h,1,Ar,!0))}),D4=Te(function(h){var l=cn(h);return Ar(l)&&(l=r),Fo(Yr(h,1,Ar,!0),ce(l,2))}),F4=Te(function(h){var l=cn(h);return l=typeof l=="function"?l:r,Fo(Yr(h,1,Ar,!0),r,l)});function U4(h){return h&&h.length?Fo(h):[]}function k4(h,l){return h&&h.length?Fo(h,ce(l,2)):[]}function q4(h,l){return l=typeof l=="function"?l:r,h&&h.length?Fo(h,r,l):[]}function Kl(h){if(!(h&&h.length))return[];var l=0;return h=Ro(h,function(b){if(Ar(b))return l=Fr(b.length,l),!0}),al(l,function(b){return cr(h,nl(b))})}function hm(h,l){if(!(h&&h.length))return[];var b=Kl(h);return l==null?b:cr(b,function(N){return zr(l,r,N)})}var L4=Te(function(h,l){return Ar(h)?hu(h,l):[]}),z4=Te(function(h){return Nl(Ro(h,Ar))}),$4=Te(function(h){var l=cn(h);return Ar(l)&&(l=r),Nl(Ro(h,Ar),ce(l,2))}),H4=Te(function(h){var l=cn(h);return l=typeof l=="function"?l:r,Nl(Ro(h,Ar),r,l)}),K4=Te(Kl);function j4(h,l){return Ig(h||[],l||[],au)}function Q4(h,l){return Ig(h||[],l||[],cu)}var G4=Te(function(h){var l=h.length,b=l>1?h[l-1]:r;return b=typeof b=="function"?(h.pop(),b):r,hm(h,b)});function um(h){var l=U(h);return l.__chain__=!0,l}function J4(h,l){return l(h),h}function a0(h,l){return l(h)}var Y4=ao(function(h){var l=h.length,b=l?h[0]:0,N=this.__wrapped__,F=function(q){return gl(q,h)};return l>1||this.__actions__.length||!(N instanceof De)||!ho(b)?this.thru(F):(N=N.slice(b,+b+(l?1:0)),N.__actions__.push({func:a0,args:[F],thisArg:r}),new hn(N,this.__chain__).thru(function(q){return l&&!q.length&&q.push(r),q}))});function V4(){return um(this)}function W4(){return new hn(this.value(),this.__chain__)}function X4(){this.__values__===r&&(this.__values__=Em(this.value()));var h=this.__index__>=this.__values__.length,l=h?r:this.__values__[this.__index__++];return{done:h,value:l}}function Z4(){return this}function t5(h){for(var l,b=this;b instanceof Qf;){var N=rm(b);N.__index__=0,N.__values__=r,l?F.__wrapped__=N:l=N;var F=N;b=b.__wrapped__}return F.__wrapped__=h,l}function e5(){var h=this.__wrapped__;if(h instanceof De){var l=h;return this.__actions__.length&&(l=new De(this)),l=l.reverse(),l.__actions__.push({func:a0,args:[Hl],thisArg:r}),new hn(l,this.__chain__)}return this.thru(Hl)}function r5(){return Sg(this.__wrapped__,this.__actions__)}var i5=Zf(function(h,l,b){Ze.call(h,b)?++h[b]:so(h,b,1)});function n5(h,l,b){var N=Ae(h)?kp:Jb;return b&&li(h,l,b)&&(l=r),N(h,ce(l,3))}function s5(h,l){var b=Ae(h)?Ro:hg;return b(h,ce(l,3))}var o5=Fg(im),a5=Fg(nm);function h5(h,l){return Yr(h0(h,l),1)}function u5(h,l){return Yr(h0(h,l),A)}function f5(h,l,b){return b=b===r?1:Se(b),Yr(h0(h,l),b)}function fm(h,l){var b=Ae(h)?on:Do;return b(h,ce(l,3))}function cm(h,l){var b=Ae(h)?CA:ag;return b(h,ce(l,3))}var c5=Zf(function(h,l,b){Ze.call(h,b)?h[b].push(l):so(h,b,[l])});function l5(h,l,b,N){h=Ci(h)?h:eh(h),b=b&&!N?Se(b):0;var F=h.length;return b<0&&(b=Fr(F+b,0)),d0(h)?b<=F&&h.indexOf(l,b)>-1:!!F&&Ha(h,l,b)>-1}var d5=Te(function(h,l,b){var N=-1,F=typeof l=="function",q=Ci(h)?st(h.length):[];return Do(h,function(K){q[++N]=F?zr(l,K,b):uu(K,l,b)}),q}),p5=Zf(function(h,l,b){so(h,b,l)});function h0(h,l){var b=Ae(h)?cr:pg;return b(h,ce(l,3))}function g5(h,l,b,N){return h==null?[]:(Ae(l)||(l=l==null?[]:[l]),b=N?r:b,Ae(b)||(b=b==null?[]:[b]),yg(h,l,b))}var m5=Zf(function(h,l,b){h[b?0:1].push(l)},function(){return[[],[]]});function v5(h,l,b){var N=Ae(h)?rl:$p,F=arguments.length<3;return N(h,ce(l,4),b,F,Do)}function y5(h,l,b){var N=Ae(h)?BA:$p,F=arguments.length<3;return N(h,ce(l,4),b,F,ag)}function w5(h,l){var b=Ae(h)?Ro:hg;return b(h,c0(ce(l,3)))}function A5(h){var l=Ae(h)?ig:l8;return l(h)}function b5(h,l,b){(b?li(h,l,b):l===r)?l=1:l=Se(l);var N=Ae(h)?Hb:d8;return N(h,l)}function M5(h){var l=Ae(h)?Kb:g8;return l(h)}function E5(h){if(h==null)return 0;if(Ci(h))return d0(h)?ja(h):h.length;var l=ni(h);return l==L||l==te?h.size:bl(h).length}function _5(h,l,b){var N=Ae(h)?il:m8;return b&&li(h,l,b)&&(l=r),N(h,ce(l,3))}var S5=Te(function(h,l){if(h==null)return[];var b=l.length;return b>1&&li(h,l[0],l[1])?l=[]:b>2&&li(l[0],l[1],l[2])&&(l=[l[0]]),yg(h,Yr(l,1),[])}),u0=sb||function(){return je.Date.now()};function I5(h,l){if(typeof l!="function")throw new an(c);return h=Se(h),function(){if(--h<1)return l.apply(this,arguments)}}function lm(h,l,b){return l=b?r:l,l=h&&l==null?h.length:l,oo(h,nt,r,r,r,r,l)}function dm(h,l){var b;if(typeof l!="function")throw new an(c);return h=Se(h),function(){return--h>0&&(b=l.apply(this,arguments)),h<=1&&(l=r),b}}var jl=Te(function(h,l,b){var N=k;if(b.length){var F=To(b,Za(jl));N|=W}return oo(h,N,l,b,F)}),pm=Te(function(h,l,b){var N=k|J;if(b.length){var F=To(b,Za(pm));N|=W}return oo(l,N,h,b,F)});function gm(h,l,b){l=b?r:l;var N=oo(h,ht,r,r,r,r,r,l);return N.placeholder=gm.placeholder,N}function mm(h,l,b){l=b?r:l;var N=oo(h,et,r,r,r,r,r,l);return N.placeholder=mm.placeholder,N}function vm(h,l,b){var N,F,q,K,Y,tt,Ut=0,qt=!1,jt=!1,Jt=!0;if(typeof h!="function")throw new an(c);l=ln(l)||0,lr(b)&&(qt=!!b.leading,jt="maxWait"in b,q=jt?Fr(ln(b.maxWait)||0,l):q,Jt="trailing"in b?!!b.trailing:Jt);function re(br){var Un=N,co=F;return N=F=r,Ut=br,K=h.apply(co,Un),K}function le(br){return Ut=br,Y=pu(Oe,l),qt?re(br):K}function Ie(br){var Un=br-tt,co=br-Ut,Fm=l-Un;return jt?ii(Fm,q-co):Fm}function de(br){var Un=br-tt,co=br-Ut;return tt===r||Un>=l||Un<0||jt&&co>=q}function Oe(){var br=u0();if(de(br))return Qe(br);Y=pu(Oe,Ie(br))}function Qe(br){return Y=r,Jt&&N?re(br):(N=F=r,K)}function Vi(){Y!==r&&xg(Y),Ut=0,N=tt=F=Y=r}function di(){return Y===r?K:Qe(u0())}function Wi(){var br=u0(),Un=de(br);if(N=arguments,F=this,tt=br,Un){if(Y===r)return le(tt);if(jt)return xg(Y),Y=pu(Oe,l),re(tt)}return Y===r&&(Y=pu(Oe,l)),K}return Wi.cancel=Vi,Wi.flush=di,Wi}var x5=Te(function(h,l){return og(h,1,l)}),N5=Te(function(h,l,b){return og(h,ln(l)||0,b)});function C5(h){return oo(h,Qt)}function f0(h,l){if(typeof h!="function"||l!=null&&typeof l!="function")throw new an(c);var b=function(){var N=arguments,F=l?l.apply(this,N):N[0],q=b.cache;if(q.has(F))return q.get(F);var K=h.apply(this,N);return b.cache=q.set(F,K)||q,K};return b.cache=new(f0.Cache||no),b}f0.Cache=no;function c0(h){if(typeof h!="function")throw new an(c);return function(){var l=arguments;switch(l.length){case 0:return!h.call(this);case 1:return!h.call(this,l[0]);case 2:return!h.call(this,l[0],l[1]);case 3:return!h.call(this,l[0],l[1],l[2])}return!h.apply(this,l)}}function B5(h){return dm(2,h)}var R5=v8(function(h,l){l=l.length==1&&Ae(l[0])?cr(l[0],Gi(ce())):cr(Yr(l,1),Gi(ce()));var b=l.length;return Te(function(N){for(var F=-1,q=ii(N.length,b);++F<q;)N[F]=l[F].call(this,N[F]);return zr(h,this,N)})}),Ql=Te(function(h,l){var b=To(l,Za(Ql));return oo(h,W,r,l,b)}),ym=Te(function(h,l){var b=To(l,Za(ym));return oo(h,V,r,l,b)}),P5=ao(function(h,l){return oo(h,it,r,r,r,l)});function T5(h,l){if(typeof h!="function")throw new an(c);return l=l===r?l:Se(l),Te(h,l)}function O5(h,l){if(typeof h!="function")throw new an(c);return l=l==null?0:Fr(Se(l),0),Te(function(b){var N=b[l],F=ko(b,0,l);return N&&Po(F,N),zr(h,this,F)})}function D5(h,l,b){var N=!0,F=!0;if(typeof h!="function")throw new an(c);return lr(b)&&(N="leading"in b?!!b.leading:N,F="trailing"in b?!!b.trailing:F),vm(h,l,{leading:N,maxWait:l,trailing:F})}function F5(h){return lm(h,1)}function U5(h,l){return Ql(Bl(l),h)}function k5(){if(!arguments.length)return[];var h=arguments[0];return Ae(h)?h:[h]}function q5(h){return un(h,R)}function L5(h,l){return l=typeof l=="function"?l:r,un(h,R,l)}function z5(h){return un(h,I|R)}function $5(h,l){return l=typeof l=="function"?l:r,un(h,I|R,l)}function H5(h,l){return l==null||sg(h,l,$r(l))}function Fn(h,l){return h===l||h!==h&&l!==l}var K5=i0(yl),j5=i0(function(h,l){return h>=l}),ma=cg(function(){return arguments}())?cg:function(h){return mr(h)&&Ze.call(h,"callee")&&!Wp.call(h,"callee")},Ae=st.isArray,Q5=fi?Gi(fi):t8;function Ci(h){return h!=null&&l0(h.length)&&!uo(h)}function Ar(h){return mr(h)&&Ci(h)}function G5(h){return h===!0||h===!1||mr(h)&&ci(h)==C}var qo=ab||id,J5=Tn?Gi(Tn):e8;function Y5(h){return mr(h)&&h.nodeType===1&&!gu(h)}function V5(h){if(h==null)return!0;if(Ci(h)&&(Ae(h)||typeof h=="string"||typeof h.splice=="function"||qo(h)||th(h)||ma(h)))return!h.length;var l=ni(h);if(l==L||l==te)return!h.size;if(du(h))return!bl(h).length;for(var b in h)if(Ze.call(h,b))return!1;return!0}function W5(h,l){return fu(h,l)}function X5(h,l,b){b=typeof b=="function"?b:r;var N=b?b(h,l):r;return N===r?fu(h,l,r,b):!!N}function Gl(h){if(!mr(h))return!1;var l=ci(h);return l==P||l==E||typeof h.message=="string"&&typeof h.name=="string"&&!gu(h)}function Z5(h){return typeof h=="number"&&Zp(h)}function uo(h){if(!lr(h))return!1;var l=ci(h);return l==$||l==G||l==x||l==St}function wm(h){return typeof h=="number"&&h==Se(h)}function l0(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=M}function lr(h){var l=typeof h;return h!=null&&(l=="object"||l=="function")}function mr(h){return h!=null&&typeof h=="object"}var Am=sn?Gi(sn):i8;function t7(h,l){return h===l||Al(h,l,Ul(l))}function e7(h,l,b){return b=typeof b=="function"?b:r,Al(h,l,Ul(l),b)}function r7(h){return bm(h)&&h!=+h}function i7(h){if(L8(h))throw new ye(o);return lg(h)}function n7(h){return h===null}function s7(h){return h==null}function bm(h){return typeof h=="number"||mr(h)&&ci(h)==at}function gu(h){if(!mr(h)||ci(h)!=ot)return!1;var l=qf(h);if(l===null)return!0;var b=Ze.call(l,"constructor")&&l.constructor;return typeof b=="function"&&b instanceof b&&Df.call(b)==eb}var Jl=ds?Gi(ds):n8;function o7(h){return wm(h)&&h>=-M&&h<=M}var Mm=tu?Gi(tu):s8;function d0(h){return typeof h=="string"||!Ae(h)&&mr(h)&&ci(h)==dt}function Yi(h){return typeof h=="symbol"||mr(h)&&ci(h)==pt}var th=ha?Gi(ha):o8;function a7(h){return h===r}function h7(h){return mr(h)&&ni(h)==ft}function u7(h){return mr(h)&&ci(h)==gt}var f7=i0(Ml),c7=i0(function(h,l){return h<=l});function Em(h){if(!h)return[];if(Ci(h))return d0(h)?On(h):Ni(h);if(ru&&h[ru])return HA(h[ru]());var l=ni(h),b=l==L?ul:l==te?Pf:eh;return b(h)}function fo(h){if(!h)return h===0?h:0;if(h=ln(h),h===A||h===-A){var l=h<0?-1:1;return l*S}return h===h?h:0}function Se(h){var l=fo(h),b=l%1;return l===l?b?l-b:l:0}function _m(h){return h?la(Se(h),0,a):0}function ln(h){if(typeof h=="number")return h;if(Yi(h))return m;if(lr(h)){var l=typeof h.valueOf=="function"?h.valueOf():h;h=lr(l)?l+"":l}if(typeof h!="string")return h===0?h:+h;h=Hp(h);var b=Ce.test(h);return b||Re.test(h)?we(h.slice(2),b?2:8):Ne.test(h)?m:+h}function Sm(h){return gs(h,Bi(h))}function l7(h){return h?la(Se(h),-M,M):h===0?h:0}function Ve(h){return h==null?"":Ji(h)}var d7=Wa(function(h,l){if(du(l)||Ci(l)){gs(l,$r(l),h);return}for(var b in l)Ze.call(l,b)&&au(h,b,l[b])}),Im=Wa(function(h,l){gs(l,Bi(l),h)}),p0=Wa(function(h,l,b,N){gs(l,Bi(l),h,N)}),p7=Wa(function(h,l,b,N){gs(l,$r(l),h,N)}),g7=ao(gl);function m7(h,l){var b=Va(h);return l==null?b:ng(b,l)}var v7=Te(function(h,l){h=sr(h);var b=-1,N=l.length,F=N>2?l[2]:r;for(F&&li(l[0],l[1],F)&&(N=1);++b<N;)for(var q=l[b],K=Bi(q),Y=-1,tt=K.length;++Y<tt;){var Ut=K[Y],qt=h[Ut];(qt===r||Fn(qt,Ga[Ut])&&!Ze.call(h,Ut))&&(h[Ut]=q[Ut])}return h}),y7=Te(function(h){return h.push(r,Hg),zr(xm,r,h)});function w7(h,l){return qp(h,ce(l,3),ps)}function A7(h,l){return qp(h,ce(l,3),vl)}function b7(h,l){return h==null?h:ml(h,ce(l,3),Bi)}function M7(h,l){return h==null?h:ug(h,ce(l,3),Bi)}function E7(h,l){return h&&ps(h,ce(l,3))}function _7(h,l){return h&&vl(h,ce(l,3))}function S7(h){return h==null?[]:Yf(h,$r(h))}function I7(h){return h==null?[]:Yf(h,Bi(h))}function Yl(h,l,b){var N=h==null?r:da(h,l);return N===r?b:N}function x7(h,l){return h!=null&&Qg(h,l,Vb)}function Vl(h,l){return h!=null&&Qg(h,l,Wb)}var N7=kg(function(h,l,b){l!=null&&typeof l.toString!="function"&&(l=Ff.call(l)),h[l]=b},Xl(Ri)),C7=kg(function(h,l,b){l!=null&&typeof l.toString!="function"&&(l=Ff.call(l)),Ze.call(h,l)?h[l].push(b):h[l]=[b]},ce),B7=Te(uu);function $r(h){return Ci(h)?rg(h):bl(h)}function Bi(h){return Ci(h)?rg(h,!0):a8(h)}function R7(h,l){var b={};return l=ce(l,3),ps(h,function(N,F,q){so(b,l(N,F,q),N)}),b}function P7(h,l){var b={};return l=ce(l,3),ps(h,function(N,F,q){so(b,F,l(N,F,q))}),b}var T7=Wa(function(h,l,b){Vf(h,l,b)}),xm=Wa(function(h,l,b,N){Vf(h,l,b,N)}),O7=ao(function(h,l){var b={};if(h==null)return b;var N=!1;l=cr(l,function(q){return q=Uo(q,h),N||(N=q.length>1),q}),gs(h,Dl(h),b),N&&(b=un(b,I|B|R,N8));for(var F=l.length;F--;)xl(b,l[F]);return b});function D7(h,l){return Nm(h,c0(ce(l)))}var F7=ao(function(h,l){return h==null?{}:u8(h,l)});function Nm(h,l){if(h==null)return{};var b=cr(Dl(h),function(N){return[N]});return l=ce(l),wg(h,b,function(N,F){return l(N,F[0])})}function U7(h,l,b){l=Uo(l,h);var N=-1,F=l.length;for(F||(F=1,h=r);++N<F;){var q=h==null?r:h[ms(l[N])];q===r&&(N=F,q=b),h=uo(q)?q.call(h):q}return h}function k7(h,l,b){return h==null?h:cu(h,l,b)}function q7(h,l,b,N){return N=typeof N=="function"?N:r,h==null?h:cu(h,l,b,N)}var Cm=zg($r),Bm=zg(Bi);function L7(h,l,b){var N=Ae(h),F=N||qo(h)||th(h);if(l=ce(l,4),b==null){var q=h&&h.constructor;F?b=N?new q:[]:lr(h)?b=uo(q)?Va(qf(h)):{}:b={}}return(F?on:ps)(h,function(K,Y,tt){return l(b,K,Y,tt)}),b}function z7(h,l){return h==null?!0:xl(h,l)}function $7(h,l,b){return h==null?h:_g(h,l,Bl(b))}function H7(h,l,b,N){return N=typeof N=="function"?N:r,h==null?h:_g(h,l,Bl(b),N)}function eh(h){return h==null?[]:hl(h,$r(h))}function K7(h){return h==null?[]:hl(h,Bi(h))}function j7(h,l,b){return b===r&&(b=l,l=r),b!==r&&(b=ln(b),b=b===b?b:0),l!==r&&(l=ln(l),l=l===l?l:0),la(ln(h),l,b)}function Q7(h,l,b){return l=fo(l),b===r?(b=l,l=0):b=fo(b),h=ln(h),Xb(h,l,b)}function G7(h,l,b){if(b&&typeof b!="boolean"&&li(h,l,b)&&(l=b=r),b===r&&(typeof l=="boolean"?(b=l,l=r):typeof h=="boolean"&&(b=h,h=r)),h===r&&l===r?(h=0,l=1):(h=fo(h),l===r?(l=h,h=0):l=fo(l)),h>l){var N=h;h=l,l=N}if(b||h%1||l%1){var F=tg();return ii(h+F*(l-h+ir("1e-"+((F+"").length-1))),l)}return _l(h,l)}var J7=Xa(function(h,l,b){return l=l.toLowerCase(),h+(b?Rm(l):l)});function Rm(h){return Wl(Ve(h).toLowerCase())}function Pm(h){return h=Ve(h),h&&h.replace(ve,kA).replace(Zc,"")}function Y7(h,l,b){h=Ve(h),l=Ji(l);var N=h.length;b=b===r?N:la(Se(b),0,N);var F=b;return b-=l.length,b>=0&&h.slice(b,F)==l}function V7(h){return h=Ve(h),h&&mt.test(h)?h.replace(xe,qA):h}function W7(h){return h=Ve(h),h&&Ct.test(h)?h.replace(oe,"\\$&"):h}var X7=Xa(function(h,l,b){return h+(b?"-":"")+l.toLowerCase()}),Z7=Xa(function(h,l,b){return h+(b?" ":"")+l.toLowerCase()}),t9=Dg("toLowerCase");function e9(h,l,b){h=Ve(h),l=Se(l);var N=l?ja(h):0;if(!l||N>=l)return h;var F=(l-N)/2;return r0(Hf(F),b)+h+r0($f(F),b)}function r9(h,l,b){h=Ve(h),l=Se(l);var N=l?ja(h):0;return l&&N<l?h+r0(l-N,b):h}function i9(h,l,b){h=Ve(h),l=Se(l);var N=l?ja(h):0;return l&&N<l?r0(l-N,b)+h:h}function n9(h,l,b){return b||l==null?l=0:l&&(l=+l),cb(Ve(h).replace(Mt,""),l||0)}function s9(h,l,b){return(b?li(h,l,b):l===r)?l=1:l=Se(l),Sl(Ve(h),l)}function o9(){var h=arguments,l=Ve(h[0]);return h.length<3?l:l.replace(h[1],h[2])}var a9=Xa(function(h,l,b){return h+(b?"_":"")+l.toLowerCase()});function h9(h,l,b){return b&&typeof b!="number"&&li(h,l,b)&&(l=b=r),b=b===r?a:b>>>0,b?(h=Ve(h),h&&(typeof l=="string"||l!=null&&!Jl(l))&&(l=Ji(l),!l&&Ka(h))?ko(On(h),0,b):h.split(l,b)):[]}var u9=Xa(function(h,l,b){return h+(b?" ":"")+Wl(l)});function f9(h,l,b){return h=Ve(h),b=b==null?0:la(Se(b),0,h.length),l=Ji(l),h.slice(b,b+l.length)==l}function c9(h,l,b){var N=U.templateSettings;b&&li(h,l,b)&&(l=r),h=Ve(h),l=p0({},l,N,$g);var F=p0({},l.imports,N.imports,$g),q=$r(F),K=hl(F,q),Y,tt,Ut=0,qt=l.interpolate||dr,jt="__p += '",Jt=fl((l.escape||dr).source+"|"+qt.source+"|"+(qt===yt?Kt:dr).source+"|"+(l.evaluate||dr).source+"|$","g"),re="//# sourceURL="+(Ze.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tl+"]")+`
`;h.replace(Jt,function(de,Oe,Qe,Vi,di,Wi){return Qe||(Qe=Vi),jt+=h.slice(Ut,Wi).replace(Nr,LA),Oe&&(Y=!0,jt+=`' +
__e(`+Oe+`) +
'`),di&&(tt=!0,jt+=`';
`+di+`;
__p += '`),Qe&&(jt+=`' +
((__t = (`+Qe+`)) == null ? '' : __t) +
'`),Ut=Wi+de.length,de}),jt+=`';
`;var le=Ze.call(l,"variable")&&l.variable;if(!le)jt=`with (obj) {
`+jt+`
}
`;else if(Ht.test(le))throw new ye(v);jt=(tt?jt.replace(kt,""):jt).replace(me,"$1").replace(Lt,"$1;"),jt="function("+(le||"obj")+`) {
`+(le?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Y?", __e = _.escape":"")+(tt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+jt+`return __p
}`;var Ie=Om(function(){return Ye(q,re+"return "+jt).apply(r,K)});if(Ie.source=jt,Gl(Ie))throw Ie;return Ie}function l9(h){return Ve(h).toLowerCase()}function d9(h){return Ve(h).toUpperCase()}function p9(h,l,b){if(h=Ve(h),h&&(b||l===r))return Hp(h);if(!h||!(l=Ji(l)))return h;var N=On(h),F=On(l),q=Kp(N,F),K=jp(N,F)+1;return ko(N,q,K).join("")}function g9(h,l,b){if(h=Ve(h),h&&(b||l===r))return h.slice(0,Gp(h)+1);if(!h||!(l=Ji(l)))return h;var N=On(h),F=jp(N,On(l))+1;return ko(N,0,F).join("")}function m9(h,l,b){if(h=Ve(h),h&&(b||l===r))return h.replace(Mt,"");if(!h||!(l=Ji(l)))return h;var N=On(h),F=Kp(N,On(l));return ko(N,F).join("")}function v9(h,l){var b=Yt,N=_t;if(lr(l)){var F="separator"in l?l.separator:F;b="length"in l?Se(l.length):b,N="omission"in l?Ji(l.omission):N}h=Ve(h);var q=h.length;if(Ka(h)){var K=On(h);q=K.length}if(b>=q)return h;var Y=b-ja(N);if(Y<1)return N;var tt=K?ko(K,0,Y).join(""):h.slice(0,Y);if(F===r)return tt+N;if(K&&(Y+=tt.length-Y),Jl(F)){if(h.slice(Y).search(F)){var Ut,qt=tt;for(F.global||(F=fl(F.source,Ve(Ft.exec(F))+"g")),F.lastIndex=0;Ut=F.exec(qt);)var jt=Ut.index;tt=tt.slice(0,jt===r?Y:jt)}}else if(h.indexOf(Ji(F),Y)!=Y){var Jt=tt.lastIndexOf(F);Jt>-1&&(tt=tt.slice(0,Jt))}return tt+N}function y9(h){return h=Ve(h),h&&At.test(h)?h.replace(zt,GA):h}var w9=Xa(function(h,l,b){return h+(b?" ":"")+l.toUpperCase()}),Wl=Dg("toUpperCase");function Tm(h,l,b){return h=Ve(h),l=b?r:l,l===r?$A(h)?VA(h):TA(h):h.match(l)||[]}var Om=Te(function(h,l){try{return zr(h,r,l)}catch(b){return Gl(b)?b:new ye(b)}}),A9=ao(function(h,l){return on(l,function(b){b=ms(b),so(h,b,jl(h[b],h))}),h});function b9(h){var l=h==null?0:h.length,b=ce();return h=l?cr(h,function(N){if(typeof N[1]!="function")throw new an(c);return[b(N[0]),N[1]]}):[],Te(function(N){for(var F=-1;++F<l;){var q=h[F];if(zr(q[0],this,N))return zr(q[1],this,N)}})}function M9(h){return Gb(un(h,I))}function Xl(h){return function(){return h}}function E9(h,l){return h==null||h!==h?l:h}var _9=Ug(),S9=Ug(!0);function Ri(h){return h}function Zl(h){return dg(typeof h=="function"?h:un(h,I))}function I9(h){return gg(un(h,I))}function x9(h,l){return mg(h,un(l,I))}var N9=Te(function(h,l){return function(b){return uu(b,h,l)}}),C9=Te(function(h,l){return function(b){return uu(h,b,l)}});function td(h,l,b){var N=$r(l),F=Yf(l,N);b==null&&!(lr(l)&&(F.length||!N.length))&&(b=l,l=h,h=this,F=Yf(l,$r(l)));var q=!(lr(b)&&"chain"in b)||!!b.chain,K=uo(h);return on(F,function(Y){var tt=l[Y];h[Y]=tt,K&&(h.prototype[Y]=function(){var Ut=this.__chain__;if(q||Ut){var qt=h(this.__wrapped__),jt=qt.__actions__=Ni(this.__actions__);return jt.push({func:tt,args:arguments,thisArg:h}),qt.__chain__=Ut,qt}return tt.apply(h,Po([this.value()],arguments))})}),h}function B9(){return je._===this&&(je._=rb),this}function ed(){}function R9(h){return h=Se(h),Te(function(l){return vg(l,h)})}var P9=Pl(cr),T9=Pl(kp),O9=Pl(il);function Dm(h){return ql(h)?nl(ms(h)):f8(h)}function D9(h){return function(l){return h==null?r:da(h,l)}}var F9=qg(),U9=qg(!0);function rd(){return[]}function id(){return!1}function k9(){return{}}function q9(){return""}function L9(){return!0}function z9(h,l){if(h=Se(h),h<1||h>M)return[];var b=a,N=ii(h,a);l=ce(l),h-=a;for(var F=al(N,l);++b<h;)l(b);return F}function $9(h){return Ae(h)?cr(h,ms):Yi(h)?[h]:Ni(em(Ve(h)))}function H9(h){var l=++tb;return Ve(h)+l}var K9=e0(function(h,l){return h+l},0),j9=Tl("ceil"),Q9=e0(function(h,l){return h/l},1),G9=Tl("floor");function J9(h){return h&&h.length?Jf(h,Ri,yl):r}function Y9(h,l){return h&&h.length?Jf(h,ce(l,2),yl):r}function V9(h){return zp(h,Ri)}function W9(h,l){return zp(h,ce(l,2))}function X9(h){return h&&h.length?Jf(h,Ri,Ml):r}function Z9(h,l){return h&&h.length?Jf(h,ce(l,2),Ml):r}var tM=e0(function(h,l){return h*l},1),eM=Tl("round"),rM=e0(function(h,l){return h-l},0);function iM(h){return h&&h.length?ol(h,Ri):0}function nM(h,l){return h&&h.length?ol(h,ce(l,2)):0}return U.after=I5,U.ary=lm,U.assign=d7,U.assignIn=Im,U.assignInWith=p0,U.assignWith=p7,U.at=g7,U.before=dm,U.bind=jl,U.bindAll=A9,U.bindKey=pm,U.castArray=k5,U.chain=um,U.chunk=G8,U.compact=J8,U.concat=Y8,U.cond=b9,U.conforms=M9,U.constant=Xl,U.countBy=i5,U.create=m7,U.curry=gm,U.curryRight=mm,U.debounce=vm,U.defaults=v7,U.defaultsDeep=y7,U.defer=x5,U.delay=N5,U.difference=V8,U.differenceBy=W8,U.differenceWith=X8,U.drop=Z8,U.dropRight=t4,U.dropRightWhile=e4,U.dropWhile=r4,U.fill=i4,U.filter=s5,U.flatMap=h5,U.flatMapDeep=u5,U.flatMapDepth=f5,U.flatten=sm,U.flattenDeep=n4,U.flattenDepth=s4,U.flip=C5,U.flow=_9,U.flowRight=S9,U.fromPairs=o4,U.functions=S7,U.functionsIn=I7,U.groupBy=c5,U.initial=h4,U.intersection=u4,U.intersectionBy=f4,U.intersectionWith=c4,U.invert=N7,U.invertBy=C7,U.invokeMap=d5,U.iteratee=Zl,U.keyBy=p5,U.keys=$r,U.keysIn=Bi,U.map=h0,U.mapKeys=R7,U.mapValues=P7,U.matches=I9,U.matchesProperty=x9,U.memoize=f0,U.merge=T7,U.mergeWith=xm,U.method=N9,U.methodOf=C9,U.mixin=td,U.negate=c0,U.nthArg=R9,U.omit=O7,U.omitBy=D7,U.once=B5,U.orderBy=g5,U.over=P9,U.overArgs=R5,U.overEvery=T9,U.overSome=O9,U.partial=Ql,U.partialRight=ym,U.partition=m5,U.pick=F7,U.pickBy=Nm,U.property=Dm,U.propertyOf=D9,U.pull=g4,U.pullAll=am,U.pullAllBy=m4,U.pullAllWith=v4,U.pullAt=y4,U.range=F9,U.rangeRight=U9,U.rearg=P5,U.reject=w5,U.remove=w4,U.rest=T5,U.reverse=Hl,U.sampleSize=b5,U.set=k7,U.setWith=q7,U.shuffle=M5,U.slice=A4,U.sortBy=S5,U.sortedUniq=x4,U.sortedUniqBy=N4,U.split=h9,U.spread=O5,U.tail=C4,U.take=B4,U.takeRight=R4,U.takeRightWhile=P4,U.takeWhile=T4,U.tap=J4,U.throttle=D5,U.thru=a0,U.toArray=Em,U.toPairs=Cm,U.toPairsIn=Bm,U.toPath=$9,U.toPlainObject=Sm,U.transform=L7,U.unary=F5,U.union=O4,U.unionBy=D4,U.unionWith=F4,U.uniq=U4,U.uniqBy=k4,U.uniqWith=q4,U.unset=z7,U.unzip=Kl,U.unzipWith=hm,U.update=$7,U.updateWith=H7,U.values=eh,U.valuesIn=K7,U.without=L4,U.words=Tm,U.wrap=U5,U.xor=z4,U.xorBy=$4,U.xorWith=H4,U.zip=K4,U.zipObject=j4,U.zipObjectDeep=Q4,U.zipWith=G4,U.entries=Cm,U.entriesIn=Bm,U.extend=Im,U.extendWith=p0,td(U,U),U.add=K9,U.attempt=Om,U.camelCase=J7,U.capitalize=Rm,U.ceil=j9,U.clamp=j7,U.clone=q5,U.cloneDeep=z5,U.cloneDeepWith=$5,U.cloneWith=L5,U.conformsTo=H5,U.deburr=Pm,U.defaultTo=E9,U.divide=Q9,U.endsWith=Y7,U.eq=Fn,U.escape=V7,U.escapeRegExp=W7,U.every=n5,U.find=o5,U.findIndex=im,U.findKey=w7,U.findLast=a5,U.findLastIndex=nm,U.findLastKey=A7,U.floor=G9,U.forEach=fm,U.forEachRight=cm,U.forIn=b7,U.forInRight=M7,U.forOwn=E7,U.forOwnRight=_7,U.get=Yl,U.gt=K5,U.gte=j5,U.has=x7,U.hasIn=Vl,U.head=om,U.identity=Ri,U.includes=l5,U.indexOf=a4,U.inRange=Q7,U.invoke=B7,U.isArguments=ma,U.isArray=Ae,U.isArrayBuffer=Q5,U.isArrayLike=Ci,U.isArrayLikeObject=Ar,U.isBoolean=G5,U.isBuffer=qo,U.isDate=J5,U.isElement=Y5,U.isEmpty=V5,U.isEqual=W5,U.isEqualWith=X5,U.isError=Gl,U.isFinite=Z5,U.isFunction=uo,U.isInteger=wm,U.isLength=l0,U.isMap=Am,U.isMatch=t7,U.isMatchWith=e7,U.isNaN=r7,U.isNative=i7,U.isNil=s7,U.isNull=n7,U.isNumber=bm,U.isObject=lr,U.isObjectLike=mr,U.isPlainObject=gu,U.isRegExp=Jl,U.isSafeInteger=o7,U.isSet=Mm,U.isString=d0,U.isSymbol=Yi,U.isTypedArray=th,U.isUndefined=a7,U.isWeakMap=h7,U.isWeakSet=u7,U.join=l4,U.kebabCase=X7,U.last=cn,U.lastIndexOf=d4,U.lowerCase=Z7,U.lowerFirst=t9,U.lt=f7,U.lte=c7,U.max=J9,U.maxBy=Y9,U.mean=V9,U.meanBy=W9,U.min=X9,U.minBy=Z9,U.stubArray=rd,U.stubFalse=id,U.stubObject=k9,U.stubString=q9,U.stubTrue=L9,U.multiply=tM,U.nth=p4,U.noConflict=B9,U.noop=ed,U.now=u0,U.pad=e9,U.padEnd=r9,U.padStart=i9,U.parseInt=n9,U.random=G7,U.reduce=v5,U.reduceRight=y5,U.repeat=s9,U.replace=o9,U.result=U7,U.round=eM,U.runInContext=Z,U.sample=A5,U.size=E5,U.snakeCase=a9,U.some=_5,U.sortedIndex=b4,U.sortedIndexBy=M4,U.sortedIndexOf=E4,U.sortedLastIndex=_4,U.sortedLastIndexBy=S4,U.sortedLastIndexOf=I4,U.startCase=u9,U.startsWith=f9,U.subtract=rM,U.sum=iM,U.sumBy=nM,U.template=c9,U.times=z9,U.toFinite=fo,U.toInteger=Se,U.toLength=_m,U.toLower=l9,U.toNumber=ln,U.toSafeInteger=l7,U.toString=Ve,U.toUpper=d9,U.trim=p9,U.trimEnd=g9,U.trimStart=m9,U.truncate=v9,U.unescape=y9,U.uniqueId=H9,U.upperCase=w9,U.upperFirst=Wl,U.each=fm,U.eachRight=cm,U.first=om,td(U,function(){var h={};return ps(U,function(l,b){Ze.call(U.prototype,b)||(h[b]=l)}),h}(),{chain:!1}),U.VERSION=i,on(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){U[h].placeholder=U}),on(["drop","take"],function(h,l){De.prototype[h]=function(b){b=b===r?1:Fr(Se(b),0);var N=this.__filtered__&&!l?new De(this):this.clone();return N.__filtered__?N.__takeCount__=ii(b,N.__takeCount__):N.__views__.push({size:ii(b,a),type:h+(N.__dir__<0?"Right":"")}),N},De.prototype[h+"Right"]=function(b){return this.reverse()[h](b).reverse()}}),on(["filter","map","takeWhile"],function(h,l){var b=l+1,N=b==u||b==y;De.prototype[h]=function(F){var q=this.clone();return q.__iteratees__.push({iteratee:ce(F,3),type:b}),q.__filtered__=q.__filtered__||N,q}}),on(["head","last"],function(h,l){var b="take"+(l?"Right":"");De.prototype[h]=function(){return this[b](1).value()[0]}}),on(["initial","tail"],function(h,l){var b="drop"+(l?"":"Right");De.prototype[h]=function(){return this.__filtered__?new De(this):this[b](1)}}),De.prototype.compact=function(){return this.filter(Ri)},De.prototype.find=function(h){return this.filter(h).head()},De.prototype.findLast=function(h){return this.reverse().find(h)},De.prototype.invokeMap=Te(function(h,l){return typeof h=="function"?new De(this):this.map(function(b){return uu(b,h,l)})}),De.prototype.reject=function(h){return this.filter(c0(ce(h)))},De.prototype.slice=function(h,l){h=Se(h);var b=this;return b.__filtered__&&(h>0||l<0)?new De(b):(h<0?b=b.takeRight(-h):h&&(b=b.drop(h)),l!==r&&(l=Se(l),b=l<0?b.dropRight(-l):b.take(l-h)),b)},De.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},De.prototype.toArray=function(){return this.take(a)},ps(De.prototype,function(h,l){var b=/^(?:filter|find|map|reject)|While$/.test(l),N=/^(?:head|last)$/.test(l),F=U[N?"take"+(l=="last"?"Right":""):l],q=N||/^find/.test(l);F&&(U.prototype[l]=function(){var K=this.__wrapped__,Y=N?[1]:arguments,tt=K instanceof De,Ut=Y[0],qt=tt||Ae(K),jt=function(Oe){var Qe=F.apply(U,Po([Oe],Y));return N&&Jt?Qe[0]:Qe};qt&&b&&typeof Ut=="function"&&Ut.length!=1&&(tt=qt=!1);var Jt=this.__chain__,re=!!this.__actions__.length,le=q&&!Jt,Ie=tt&&!re;if(!q&&qt){K=Ie?K:new De(this);var de=h.apply(K,Y);return de.__actions__.push({func:a0,args:[jt],thisArg:r}),new hn(de,Jt)}return le&&Ie?h.apply(this,Y):(de=this.thru(jt),le?N?de.value()[0]:de.value():de)})}),on(["pop","push","shift","sort","splice","unshift"],function(h){var l=Tf[h],b=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",N=/^(?:pop|shift)$/.test(h);U.prototype[h]=function(){var F=arguments;if(N&&!this.__chain__){var q=this.value();return l.apply(Ae(q)?q:[],F)}return this[b](function(K){return l.apply(Ae(K)?K:[],F)})}}),ps(De.prototype,function(h,l){var b=U[l];if(b){var N=b.name+"";Ze.call(Ya,N)||(Ya[N]=[]),Ya[N].push({name:l,func:b})}}),Ya[t0(r,J).name]=[{name:"wrapper",func:r}],De.prototype.clone=yb,De.prototype.reverse=wb,De.prototype.value=Ab,U.prototype.at=Y4,U.prototype.chain=V4,U.prototype.commit=W4,U.prototype.next=X4,U.prototype.plant=t5,U.prototype.reverse=e5,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=r5,U.prototype.first=U.prototype.head,ru&&(U.prototype[ru]=Z4),U},Qa=WA();wr?((wr.exports=Qa)._=Qa,nr._=Qa):je._=Qa}).call(Ru)})(sp,sp.exports);var Zk=Object.defineProperty,tq=Object.defineProperties,eq=Object.getOwnPropertyDescriptors,F3=Object.getOwnPropertySymbols,rq=Object.prototype.hasOwnProperty,iq=Object.prototype.propertyIsEnumerable,U3=(e,t,r)=>t in e?Zk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L0=(e,t)=>{for(var r in t||(t={}))rq.call(t,r)&&U3(e,r,t[r]);if(F3)for(var r of F3(t))iq.call(t,r)&&U3(e,r,t[r]);return e},nq=(e,t)=>tq(e,eq(t));function us(e,t,r){var i;const n=Gw(e);return((i=t.rpcMap)==null?void 0:i[n.reference])||`${SA}?chainId=${n.namespace}:${n.reference}&projectId=${r}`}function ka(e){return e.includes(":")?e.split(":")[1]:e}function IA(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function sq(e,t){const r=Object.keys(t.namespaces).filter(n=>n.includes(e));if(!r.length)return[];const i=[];return r.forEach(n=>{const o=t.namespaces[n].accounts;i.push(...o)}),i}function A1(e={},t={}){const r=k3(e),i=k3(t);return sp.exports.merge(r,i)}function k3(e){var t,r,i,n;const o={};if(!Jk(e))return o;for(const[c,v]of Object.entries(e)){const w=Dp(c)?[c]:v.chains,p=v.methods||[],_=v.events||[],I=v.rpcMap||{},B=Du(c);o[B]=nq(L0(L0({},o[B]),v),{chains:a1(w,(t=o[B])==null?void 0:t.chains),methods:a1(p,(r=o[B])==null?void 0:r.methods),events:a1(_,(i=o[B])==null?void 0:i.events),rpcMap:L0(L0({},I),(n=o[B])==null?void 0:n.rpcMap)})}return o}function oq(e){return e.includes(":")?e.split(":")[2]:e}function q3(e){const t={};for(const[r,i]of Object.entries(e)){const n=i.methods||[],o=i.events||[],c=i.accounts||[],v=Dp(r)?[r]:i.chains?i.chains:IA(i.accounts);t[r]={chains:v,methods:n,events:o,accounts:c}}return t}function b1(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const xA={},Xe=e=>xA[e],M1=(e,t)=>{xA[e]=t};class aq{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=ka(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new fs(new Ws(i,Xe("disableProviderPing")))}}var hq=Object.defineProperty,uq=Object.defineProperties,fq=Object.getOwnPropertyDescriptors,L3=Object.getOwnPropertySymbols,cq=Object.prototype.hasOwnProperty,lq=Object.prototype.propertyIsEnumerable,z3=(e,t,r)=>t in e?hq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$3=(e,t)=>{for(var r in t||(t={}))cq.call(t,r)&&z3(e,r,t[r]);if(L3)for(var r of L3(t))lq.call(t,r)&&z3(e,r,t[r]);return e},H3=(e,t)=>uq(e,fq(t));class dq{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const i=r||us(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new fs(new Ws(i,Xe("disableProviderPing")))}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=parseInt(ka(r));t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,i;let n=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const o=parseInt(n,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var r,i,n;const o=(i=(r=t.request)==null?void 0:r.params)==null?void 0:i[0];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(t.topic),v=((n=c==null?void 0:c.sessionProperties)==null?void 0:n.capabilities)||{};if(v!=null&&v[o])return v==null?void 0:v[o];const w=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:H3($3({},c.sessionProperties||{}),{capabilities:H3($3({},v||{}),{[o]:w})})})}catch(p){console.warn("Failed to update session with capabilities",p)}return w}async getCallStatus(t){var r,i;const n=this.client.session.get(t.topic),o=(r=n.sessionProperties)==null?void 0:r.bundler_name;if(o){const v=this.getBundlerUrl(t.chainId,o);try{return await this.getUserOperationReceipt(v,t)}catch(w){console.warn("Failed to fetch call status from bundler",w,v)}}const c=(i=n.sessionProperties)==null?void 0:i.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,t)}catch(v){console.warn("Failed to fetch call status from custom bundler",v,c)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,r){var i;const n=new URL(t),o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ta("eth_getUserOperationReceipt",[(i=r.request.params)==null?void 0:i[0]]))});if(!o.ok)throw new Error(`Failed to fetch user operation receipt - ${o.status}`);return await o.json()}getBundlerUrl(t,r){return`${Xk}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${r}`}}class pq{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=ka(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new fs(new Ws(i,Xe("disableProviderPing")))}}class gq{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=ka(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new fs(new Ws(i,Xe("disableProviderPing")))}}class mq{constructor(t){this.name="algorand",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(!this.httpProviders[t]){const i=r||us(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.chainId=t,this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new fs(new Ws(i,Xe("disableProviderPing")))}}class vq{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const i=this.getCardanoRPCUrl(r),n=ka(r);t[n]=this.createHttpProvider(n,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new fs(new Ws(i,Xe("disableProviderPing")))}}class yq{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=ka(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new fs(new Ws(i,Xe("disableProviderPing")))}}class wq{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=ka(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new fs(new Ws(i,Xe("disableProviderPing")))}}class Aq{constructor(t){this.name="near",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const i=r||us(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace);return typeof i>"u"?void 0:new fs(new Ws(i,Xe("disableProviderPing")))}}class bq{constructor(t){this.name=fh,this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(cs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var t,r;const i={};return(r=(t=this.namespace)==null?void 0:t.accounts)==null||r.forEach(n=>{const o=Gw(n);i[`${o.namespace}:${o.reference}`]=this.createHttpProvider(n)}),i}getHttpProvider(t){const r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||us(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new fs(new Ws(i,Xe("disableProviderPing")))}}var Mq=Object.defineProperty,Eq=Object.defineProperties,_q=Object.getOwnPropertyDescriptors,K3=Object.getOwnPropertySymbols,Sq=Object.prototype.hasOwnProperty,Iq=Object.prototype.propertyIsEnumerable,j3=(e,t,r)=>t in e?Mq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z0=(e,t)=>{for(var r in t||(t={}))Sq.call(t,r)&&j3(e,r,t[r]);if(K3)for(var r of K3(t))Iq.call(t,r)&&j3(e,r,t[r]);return e},E1=(e,t)=>Eq(e,_q(t));class Fp{constructor(t){this.events=new up,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:hp(Tc({level:(t==null?void 0:t.logger)||O3})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const r=new Fp(t);return await r.initialize(),r}async request(t,r,i){const[n,o]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:z0({},t),chainId:`${n}:${o}`,topic:this.session.topic,expiry:i})}sendAsync(t,r,i,n){const o=new Date().getTime();this.request(t,i,n).then(c=>r(null,Fc(o,c))).catch(c=>r(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:P3("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(t,r);i&&(this.uri=i,this.events.emit("display_uri",i));const o=await n();if(this.session=o.session,this.session){const c=q3(this.session.namespaces);this.namespaces=A1(this.namespaces,c),this.persist("namespaces",this.namespaces),this.onConnect()}return o}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:i,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await n().then(o=>{this.session=o;const c=q3(o.namespaces);this.namespaces=A1(this.namespaces,c),this.persist("namespaces",this.namespaces)}).catch(o=>{if(o.message!==Qw)throw o;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[i,n]=this.validateChain(t),o=this.getProvider(i);o.name===fh?o.setDefaultChain(`${i}:${n}`,r):o.setDefaultChain(n,r)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(T3(r)){for(const i of r)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await Rp.init({core:this.providerOpts.core,logger:this.providerOpts.logger||O3,relayUrl:this.providerOpts.relayUrl||Yk,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>Du(r)))];M1("client",this.client),M1("events",this.events),M1("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const i=sq(r,this.session),n=IA(i),o=A1(this.namespaces,this.optionalNamespaces),c=E1(z0({},o[r]),{accounts:i,chains:n});switch(r){case"eip155":this.rpcProviders[r]=new dq({namespace:c});break;case"algorand":this.rpcProviders[r]=new mq({namespace:c});break;case"solana":this.rpcProviders[r]=new pq({namespace:c});break;case"cosmos":this.rpcProviders[r]=new gq({namespace:c});break;case"polkadot":this.rpcProviders[r]=new aq({namespace:c});break;case"cip34":this.rpcProviders[r]=new vq({namespace:c});break;case"elrond":this.rpcProviders[r]=new yq({namespace:c});break;case"multiversx":this.rpcProviders[r]=new wq({namespace:c});break;case"near":this.rpcProviders[r]=new Aq({namespace:c});break;default:this.rpcProviders[fh]?this.rpcProviders[fh].updateNamespace(c):this.rpcProviders[fh]=new bq({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:r}=t,{event:i}=r;if(i.name==="accountsChanged"){const n=i.data;n&&T3(n)&&this.events.emit("accountsChanged",n.map(oq))}else if(i.name==="chainChanged"){const n=r.chainId,o=r.event.data,c=Du(n),v=b1(n)!==b1(o)?`${c}:${b1(o)}`:n;this.onChainChanged(v)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var i;const{namespaces:n}=r,o=(i=this.client)==null?void 0:i.session.get(t);this.session=E1(z0({},o),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",E1(z0({},P3("USER_DISCONNECTED")),{data:t.topic}))}),this.on(cs.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[fh]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:i,sessionProperties:n}=t;r&&Object.keys(r).length&&(this.namespaces=r),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.persist("namespaces",r),this.persist("optionalNamespaces",i)}validateChain(t){const[r,i]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map(c=>Du(c)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&i)return[r,i];const n=Du(Object.keys(this.namespaces)[0]),o=this.rpcProviders[n].getDefaultChain();return[n,o]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,r=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(t);n&&(r||this.getProvider(i).setDefaultChain(n),this.namespaces[i]?this.namespaces[i].defaultChain=n:this.namespaces[`${i}:${n}`]?this.namespaces[`${i}:${n}`].defaultChain=n:this.namespaces[`${i}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,r){this.client.core.storage.setItem(`${D3}/${t}`,r)}async getFromStore(t){return await this.client.core.storage.getItem(`${D3}/${t}`)}}const xq=Fp,Nq="wc",Cq="ethereum_provider",Bq=`${Nq}@2:${Cq}:`,Rq="https://rpc.walletconnect.org/v1/",op=["eth_sendTransaction","personal_sign"],Pq=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],ap=["chainChanged","accountsChanged"],Tq=["chainChanged","accountsChanged","message","disconnect","connect"];var Oq=Object.defineProperty,Dq=Object.defineProperties,Fq=Object.getOwnPropertyDescriptors,Q3=Object.getOwnPropertySymbols,Uq=Object.prototype.hasOwnProperty,kq=Object.prototype.propertyIsEnumerable,G3=(e,t,r)=>t in e?Oq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ch=(e,t)=>{for(var r in t||(t={}))Uq.call(t,r)&&G3(e,r,t[r]);if(Q3)for(var r of Q3(t))kq.call(t,r)&&G3(e,r,t[r]);return e},_1=(e,t)=>Dq(e,Fq(t));function Rc(e){return Number(e[0].split(":")[1])}function $0(e){return`0x${e.toString(16)}`}function qq(e){const{chains:t,optionalChains:r,methods:i,optionalMethods:n,events:o,optionalEvents:c,rpcMap:v}=e;if(!T1(t))throw new Error("Invalid chains");const w={chains:t,methods:i||op,events:o||ap,rpcMap:ch({},t.length?{[Rc(t)]:v[Rc(t)]}:{})},p=o==null?void 0:o.filter(R=>!ap.includes(R)),_=i==null?void 0:i.filter(R=>!op.includes(R));if(!r&&!c&&!n&&!(p!=null&&p.length)&&!(_!=null&&_.length))return{required:t.length?w:void 0};const I=(p==null?void 0:p.length)&&(_==null?void 0:_.length)||!r,B={chains:[...new Set(I?w.chains.concat(r||[]):r)],methods:[...new Set(w.methods.concat(n!=null&&n.length?n:Pq))],events:[...new Set(w.events.concat(c!=null&&c.length?c:Tq))],rpcMap:v};return{required:t.length?w:void 0,optional:r.length?B:void 0}}class Up{constructor(){this.events=new Pn.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=Bq,this.on=(t,r)=>(this.events.on(t,r),this),this.once=(t,r)=>(this.events.once(t,r),this),this.removeListener=(t,r)=>(this.events.removeListener(t,r),this),this.off=(t,r)=>(this.events.off(t,r),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const r=new Up;return await r.initialize(t),r}async request(t,r){return await this.signer.request(t,this.formatChainId(this.chainId),r)}sendAsync(t,r,i){this.signer.sendAsync(t,r,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:i}=qq(this.rpc);try{const n=await new Promise(async(c,v)=>{var w;this.rpc.showQrModal&&((w=this.modal)==null||w.subscribeModal(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),v(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(_1(ch({namespaces:ch({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t==null?void 0:t.pairingTopic})).then(p=>{c(p)}).catch(p=>{v(new Error(p.message))})});if(!n)return;const o=h2(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:$0(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async authenticate(t,r){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t==null?void 0:t.chains});try{const i=await new Promise(async(o,c)=>{var v;this.rpc.showQrModal&&((v=this.modal)==null||v.subscribeModal(w=>{!w.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(_1(ch({},t),{chains:this.rpc.chains}),r).then(w=>{o(w)}).catch(w=>{c(new Error(w.message))})}),n=i.session;if(n){const o=h2(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:$0(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:r}=t,{event:i}=r;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",$0(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",_1(ch({},pI("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var r,i;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(i=this.modal)==null||i.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const r=t.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",$0(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){const[r,i,n]=t.split(":");return{chainId:`${r}:${i}`,address:n}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,i;const n=(r=t==null?void 0:t.chains)!=null?r:[],o=(i=t==null?void 0:t.optionalChains)!=null?i:[],c=n.concat(o);if(!c.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const v=n.length?(t==null?void 0:t.methods)||op:[],w=n.length?(t==null?void 0:t.events)||ap:[],p=(t==null?void 0:t.optionalMethods)||[],_=(t==null?void 0:t.optionalEvents)||[],I=(t==null?void 0:t.rpcMap)||this.buildRpcMap(c,t.projectId),B=(t==null?void 0:t.qrModalOptions)||void 0;return{chains:n==null?void 0:n.map(R=>this.formatChainId(R)),optionalChains:o.map(R=>this.formatChainId(R)),methods:v,events:w,optionalMethods:p,optionalEvents:_,rpcMap:I,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:B,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){const i={};return t.forEach(n=>{i[n]=this.getRpcUrl(n,r)}),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?Rc(this.rpc.chains):Rc(this.rpc.optionalChains),this.signer=await xq.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:i}=await MM(()=>import("./index-CuVOXLj_.js").then(n=>n.i),__vite__mapDeps([0,1,2]));r=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(ch({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:r,optionalChains:i,rpcMap:n}=t;r&&T1(r)&&(this.rpc.chains=r.map(o=>this.formatChainId(o)),r.forEach(o=>{this.rpc.rpcMap[o]=(n==null?void 0:n[o])||this.getRpcUrl(o)})),i&&T1(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i==null?void 0:i.map(o=>this.formatChainId(o)),i.forEach(o=>{this.rpc.rpcMap[o]=(n==null?void 0:n[o])||this.getRpcUrl(o)}))}getRpcUrl(t,r){var i;return((i=this.rpc.rpcMap)==null?void 0:i[t])||`${Rq}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}}const cL=Up;export{cL as EthereumProvider,Tq as OPTIONAL_EVENTS,Pq as OPTIONAL_METHODS,ap as REQUIRED_EVENTS,op as REQUIRED_METHODS,Up as default};
//# sourceMappingURL=index.es-wkc7ZhSy.js.map